<?xml version="1.1" encoding="UTF-8" standalone="yes"?>
<html>
 <head>
  <meta content="SRP - Community Content Storage" name="navTitle" />
  <meta content="mix:versionable" name="jcr:mixinTypes" />
  <meta content="2017-12-01T19:02:11.717-0500" name="jcr:created" />
  <meta content="" name="jcr:primaryType" />
  <meta content="admin" name="jcr:createdBy" />
  <meta content="mgulati" name="cq:lastModifiedBy" />
  <meta content="Janice Kendall" name="contentOwner" />
  <meta content="SRP - Community Content Storage" name="seoTitle" />
  <meta content="2018-08-30T20:15:51.828-0400" name="publishExternalDate" />
  <meta content="" name="jcr:versionHistory" />
  <meta content="https://helpx.adobe.com/experience-manager/6-4/communities/using/working-with-srp.html" name="publishExternalURL" />
  <meta content="2018-08-30T20:15:51.828-0400" name="lastPublishExternalDate" />
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/COMMUNITIES;topic_tags:administering;content_type:reference" name="cq:tags" />
  <meta content="2017-10-12T21:46:58.665-0400" name="qaDate" />
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/COMMUNITIES" name="primaryProductTag" />
  <meta content="b7799320-1cc3-4e6e-a91a-13c48916a7a4" name="jcr:predecessors" />
  <meta content="help/components/pages/article-3" name="sling:resourceType" />
  <meta content="true" name="jcr:isCheckedOut" />
  <meta content="2018-08-30T20:15:51.828-0400" name="topicBrowsingSortDate" />
  <meta content="/etc/designs/help" name="cq:designPath" />
  <meta content="mgulati@adobe.com" name="lr_lastReplicatedBy" />
  <meta content="As of AEM Communities 6.1, user generated content (UGC) is stored in a single, common store provided by a storage resource provider (SRP)" name="seoDescription" />
  <meta content="2018-08-30T20:15:51.857-0400" name="cq:lastReplicated" />
  <meta content="false" name="isReadyForLocalization" />
  <meta content="light" name="gnavTheme" />
  <meta content="2017-10-31T16:33:07.597-0400" name="firstPublishExternalDate" />
  <meta content="en_us" name="jcr:language" />
  <meta content="2018-08-30T20:15:51.833-0400" name="cq:lastModified" />
  <meta content="SRP - Community Content Storage" name="jcr:title" />
  <meta content="Activate" name="cq:lastReplicationAction" />
  <meta content="/apps/help/templates/article-3" name="cq:template" />
  <meta content="dist5" name="distType" />
  <meta content="948fc4fd-406b-4a96-a020-13171e51abff" name="jcr:uuid" />
  <meta content="/content/help/en/experience-manager/6-4/communities/morehelp/administering;/content/help/en/experience-manager/6-4/communities/morehelp/administering" name="moreHelpPaths" />
  <meta content="mgulati" name="cq:lastReplicatedBy" />
  <meta content="/content/docs/en/aem/6-3/administer/communities/srp" name="qaNotes" />
  <meta content="2017-10-12T21:46:58.665-0400" name="mwpw_migration_script_version" />
  <meta content="" name="jcr:baseVersion" />
  <meta content="2018-05-17T05:55:46.393-0400" name="locHandOffDate" />
 </head>
 <body>
  <h2>Introduction</h2>
  <p>As of AEM Communities 6.1, user-generated content (UGC) is stored in a single, common store provided by a storage resource provider (SRP). There are several SRP options from which to choose, such as ASRP, MSRP, and JSRP.</p> 
  <p>Unlike prior releases, there is no reverse/forward replication of UGC across AEM instances. Instead, the SRP makes UGC directly accessible 
   <g class="gr_ gr_25 gr-alert gr_gramm gr_inline_cards gr_run_anim Grammar multiReplace" data-gr-id="25" id="25">
    for
   </g> 
   <g class="gr_ gr_26 gr-alert gr_gramm gr_inline_cards gr_run_anim Grammar multiReplace" data-gr-id="26" id="26">
    create
   </g>, read, update, and delete (CRUD) operations from all author and publish instances, with an exception for JSRP.</p> 
  <p>Following are the <a href="#characteristicsofsrpoptions">characteristics of each SRP option</a>, which is crucial information for the decision process when choosing the appropriate SRP and <a href="../../communities/using/topologies.md">underlying deployment</a>.</p> 
  <p>For details regarding the use of SRP for UGC, see <a href="../../communities/using/srp.md">Storage Resource Provider Overview</a>.</p> 
  <note>
   <p>SRP applies only to community content. It does not affect where site content is stored (<a href="../../sites/deploying/using/data-store-config.md">node store</a>), and does not affect the secure handling of user registration, user profiles and user groups between AEM instances (see also <a href="#managinguserdata">Managing User Data</a>).</p> 
  </note>
  <note>
   <p>As of AEM 6.1, <a href="#ugcneverreplicated">UGC is never replicated</a>. </p> 
   <p>When the deployment does not include a common store, such as the default <a href="../../communities/using/topologies.md#jsrp">JSRP</a> topology, UGC will be visible only on the AEM publish or author instance on which it was entered. Only if the topology includes a publish cluster will the UGC be visible on any publish instance.</p> 
  </note>
  <h2>Characteristics of SRP Options</h2>
  <p><a href="../../communities/using/asrp.md">ASRP - Adobe Storage Resource Provider</a><br /> With this option, the UGC is persisted remotely in a cloud service hosted and managed by Adobe. It requires an additional license and working with an account representative to provision the account for that specific license.</p> 
  <ul> 
   <li>requires an associated cloud service provided and supported by Adobe to store community content</li> 
   <li>requires 
    <g class="gr_ gr_11 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Grammar only-ins doubleReplace replaceWithoutSep" data-gr-id="11" id="11">
     choice
    </g> of a 
    <g class="gr_ gr_10 gr-alert gr_spell gr_inline_cards gr_disable_anim_appear ContextualSpelling ins-del" data-gr-id="10" id="10">
     datacenter
    </g> in a specific geography (US, EMEA, APAC)</li> 
   <li>requires all programmatic access to UGC be through the SRP API</li> 
   <li>suitable for TarMK publish 
    <g class="gr_ gr_12 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Grammar only-ins doubleReplace replaceWithoutSep" data-gr-id="12" id="12">
     farm
    </g></li> 
   <li>suitable when there is no intent to invest in local storage</li> 
  </ul> 
  <note>
   <p>There is a limit to uploading attachments to posts (or comments) in ASRP, which is 50 MB.</p> 
  </note>
  <p><a href="../../communities/using/msrp.md">MSRP - MongoDB Storage Resource Provider</a><br /> With this option, the UGC is persisted directly in a local MongoDB instance.</p> 
  <ul> 
   <li>requires a local, licensed install of MongoDB to store community content</li> 
   <li>requires a local install of Apache Solr</li> 
   <li>requires all programmatic access to UGC be through the SRP API</li> 
   <li>suitable for an existing TarMK publish 
    <g class="gr_ gr_198 gr-alert gr_gramm gr_inline_cards gr_run_anim Grammar only-ins doubleReplace replaceWithoutSep" data-gr-id="198" id="198">
     farm
    </g></li> 
   <li>suitable for a MongoMK or RdbMK cluster</li> 
   <li>suitable when expecting large volumes of community content</li> 
  </ul> 
  <p><a href="../../communities/using/dsrp.md">DSRP - Relational Database Storage Resource Provider</a><br /> With this option, the UGC is persisted directly in a local MySQL database instance.</p> 
  <ul> 
   <li>requires a local install of MySQL to store community content</li> 
   <li>requires a local install of Apache Solr</li> 
   <li>requires all programmatic access to UGC be through the SRP API</li> 
   <li>suitable for an existing TarMK publish 
    <g class="gr_ gr_166 gr-alert gr_gramm gr_inline_cards gr_run_anim Grammar only-ins doubleReplace replaceWithoutSep" data-gr-id="166" id="166">
     farm
    </g></li> 
   <li>suitable for a MongoMK or RdbMK cluster</li> 
   <li>suitable when expecting large volumes of community content</li> 
  </ul> 
  <p><a href="../../communities/using/jsrp.md">JSRP - JCR Storage Resource Provider</a><br /> With the default option, there is no common store. The UGC is persisted only in the same JCR repository as the AEM instance in which it was entered.</p> 
  <ul> 
   <li>stores community content in the JCR repository of the AEM author or publish instance to which it was posted</li> 
   <li>requires all programmatic access to UGC be through the SRP API</li> 
   <li>requires a publish cluster if more than one publish instance is deployed<br /> (there is no replication mechanism among publish instances in a TarMK farm)</li> 
   <li>moderation is performed only in the publish environment<br /> (there is no reverse/forward replication mechanism between author and publish)</li> 
   <li>generally best for development, demonstrations, and training</li> 
  </ul> 
  <h2>Configuring SRP</h2>
  <p>Specifying the default storage option, based on the underlying deployment, is made through the <a href="../../communities/using/srp-config.md">Storage Configuration console</a>.</p> 
  <p>For configuration details of each option, see :</p> 
  <ul> 
   <li><a href="../../communities/using/asrp.md">ASRP - Adobe Storage Resource Provider</a></li> 
   <li><a href="../../communities/using/msrp.md">MSRP - MongoDB Storage Resource Provider</a></li> 
   <li><a href="../../communities/using/dsrp.md">DSRP - Relational Database Storage Resource Provider</a></li> 
   <li><a href="../../communities/using/jsrp.md">JSRP - JCR Storage Resource Provider</a></li> 
  </ul> 
  <p>If no storage option is actively selected, JSRP is enabled by default.</p> 
  <h2>Additional Information</h2>
  <h3>UGC Never Replicated</h3>
  <p>In the author environment, an author creates page content and replicates it to the publish environment. When a page includes an interactive AEM Communities feature, such as comments, reviews, forum, blog, or QnA, the interaction by members (signed in site visitors) on a publish instance results in user generated content (UGC) entered in the publish environment. </p> 
  <p>Previously, this community content was reverse replicated to author instances and from author replicated to publish instances. It was problematic to maintain consistency among AEM instances with reverse and forward replication.</p> 
  <p>Beginning with AEM Communities 6.1, the need for replication of UGC has been eliminated by using shared storage for UGC, as described above. </p> 
  <p>While site content is replicated, UGC is never replicated.</p> 
  <h3>Managing User Data</h3>
  <p>Also of interest to Communites are <a href="../../communities/using/users.md"><i>users</i>, <i>user groups</i>, and <i>user profiles</i></a>. This user-related data, when created and updated in the publish environment, needs to be made available to other publish instances when the topology is a <a href="../../sites/deploying/using/recommended-deploys.md#tarmkfarm">publish farm</a>. </p> 
  <p>As of AEM Communities 6.1, user-related data is synchronized using Sling distribution instead of replication. For more information visit <a href="../../communities/using/sync.md">User Synchronization</a>.</p> 
  <h3>Upgrading to AEM Communities 6.2</h3>
  <p>When upgrading to AEM Communities 6.3, if pre-existing UGC needs to be retained, then steps should be taken depending on whether the AEM 5.6.1 or AEM 6.0 community used Adobe on-demand storage or on-premise storage of UGC.</p> 
  <p>For details, visit <a href="../../communities/using/upgrade.md">Upgrading to AEM Communities 6.3</a>.</p> 
 </body>
</html>