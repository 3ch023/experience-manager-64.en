<?xml version="1.1" encoding="UTF-8" standalone="yes"?> 
<html> 
 <head> 
  <meta content="da12baa6-afbe-45ed-b3ff-521dc7126515" name="jcr:predecessors" /> 
  <meta content="en_us" name="jcr:language" /> 
  <meta content="Enabling Asset Insights through DTM" name="seoTitle" /> 
  <meta content="/etc/designs/help" name="cq:designPath" /> 
  <meta content="2017-12-02T19:01:39.904-0500" name="jcr:created" /> 
  <meta content="/content/docs/en/aem/6-3/author/assets/managing-assets-touch-ui/using-dtm-for-asset-insights" name="qaNotes" /> 
  <meta content="Learn how to use Adobe Dynamic Tag Management (DTM )to enable Asset Insights." name="seoDescription" /> 
  <meta content="true" name="jcr:isCheckedOut" /> 
  <meta content="admin" name="jcr:createdBy" /> 
  <meta content="mix:versionable" name="jcr:mixinTypes" /> 
  <meta content="cmajumda" name="cq:lastModifiedBy" /> 
  <meta content="asgupta" name="acrolinxLastCheckedBy" /> 
  <meta content="" name="jcr:versionHistory" /> 
  <meta content="cmajumda" name="cq:lastReplicatedBy" /> 
  <meta content="cdef84fd-4b51-4101-93d1-26ea9290c250" name="jcr:uuid" /> 
  <meta content="2018-04-19T11:00:27.169-0400" name="lastPublishExternalDate" /> 
  <meta content="/apps/help/templates/article-3" name="cq:template" /> 
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/ASSETS" name="primaryProductTag" /> 
  <meta content="2017-10-12T21:46:00.000-0400" name="qaDate" /> 
  <meta content="cmajumda@adobe.com" name="lr_lastReplicatedBy" /> 
  <meta content="598" name="acrolinxWords" /> 
  <meta content="2019-01-12T17:33:25.764-0500" name="acrolinxDate" /> 
  <meta content="47" name="acrolinxSentences" /> 
  <meta content="checked_not_improved" name="acrolinxStatus" /> 
  <meta content="2017-10-31T16:34:07.449-0400" name="firstPublishExternalDate" /> 
  <meta content="yellow" name="acrolinxPageStatus" /> 
  <meta content="2018-04-24T11:55:51.917-0400" name="cq:lastModified" /> 
  <meta content="Guillaume Carlino" name="contentOwner" /> 
  <meta content="false" name="isReadyForLocalization" /> 
  <meta content="Enabling Asset Insights through DTM" name="jcr:title" /> 
  <meta content="help/components/pages/article-3" name="sling:resourceType" /> 
  <meta content="http://acrolinx.corp.adobe.com:8031/output/en/touch_ui_using_dtm_for_asset_insights_krs_workflow_f3c2f2ccebf6138e_166_report.xml" name="acrolinxReportURL" /> 
  <meta content="2017-10-12T21:46:58.665-0400" name="mwpw_migration_script_version" /> 
  <meta content="/content/help/en/experience-manager/6-4/assets/morehelp/managing-assets;/content/help/en/experience-manager/6-4/assets/morehelp/managing-assets" name="moreHelpPaths" /> 
  <meta content="https://helpx.adobe.com/experience-manager/6-4/assets/using/touch-ui-using-dtm-for-asset-insights.html" name="publishExternalURL" /> 
  <meta content="2018-04-19T11:00:27.169-0400" name="publishExternalDate" /> 
  <meta content="2018-04-19T11:00:27.247-0400" name="cq:lastReplicated" /> 
  <meta content="2018-04-19T11:00:27.169-0400" name="topicBrowsingSortDate" /> 
  <meta content="Activate" name="cq:lastReplicationAction" /> 
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/ASSETS;topic_tags:managing-assets;content_type:reference" name="cq:tags" /> 
  <meta content="" name="jcr:baseVersion" /> 
  <meta content="" name="jcr:primaryType" /> 
  <meta content="2018-04-24T11:55:51.916-0400" name="locHandOffDate" /> 
 </head> 
 <body> 
  <p>Adobe Dynamic Tag Management is a tool that activates your digital marketing tools. It is provided for free to Adobe Analytics customers.</p> 
  <p>Although you can customize your tracking code to enable third-party CMS solutions to use Asset Insights, Adobe recommends that you use DTM to insert Asset Insights tags.</p> 
  <p>Perform these steps to enable Asset Insights through DTM:</p> 
  <ol> 
   <li><p>Tap/click the AEM logo, and go to <strong>Tools</strong> &amp;gt; <strong>Assets</strong> &amp;gt; <strong>Insights Configuration</strong>.</p> </li> 
   <li> <p>The API token should be available once you log on to <a href="https://dtm.adobe.com/">https://dtm.adobe.com</a> and visit <em>Account Settings</em> from the Profile Icon. This step is not required from the Asset Insights standpoint, because the integration of AEM Sites with Asset Insights is still in the works.</p> </li> 
   <li><p>Log on to <a href="https://dtm.adobe.com/">https://dtm.adobe.com</a>, and select a Company, as appropriate.</p> </li> 
   <li><p>Create/Open an the existing Web Property</p> 
    <ul> 
     <li>Select the <strong>Web Properties</strong> tab, and then tap/click <strong>Add Property</strong>.</li> 
     <li>Update the fields as appropriate, and tap/click <strong>Create Property</strong><em> </em>(see <a href="https://helpx.adobe.com/experience-manager/using/dtm.html">documentation</a>).</li> 
    </ul> <img imageRotate="0" src="assets/chlimage_1-193.png" /></li> 
   <li><p>In the <strong>Rules</strong> tab, select <strong>Page Load Rules</strong> from the navigation pane and tap/click <strong>Create New Rule</strong><em>.</em></p> <img imageRotate="0" src="assets/chlimage_1-194.png" /></li> 
   <li><p>Expand <strong>Javascript /Third Party Tags</strong>. Then tap/click <strong>Add New Script</strong> in the <strong>Sequential HTML</strong> tab to open the Script dialog.</p> <img imageRotate="0" src="assets/chlimage_1-195.png" /></li> 
   <li><p>Tap/click the AEM logo, and go to <strong>Tools</strong> &amp;gt; <strong>Assets</strong>.</p> </li> 
   <li><p>Tap/click <strong>Insights Page Tracker</strong>, copy the tracker code, and then paste it in the Script dialog you opened in step 6. Save the changes.</p> 
    <note> 
     <ul> 
      <li>AppMeasurement.js has been removed. It is expected to be available through DTM's Adobe Analytics tool.</li> 
      <li>The call to <span class="code">assetAnalytics.dispatcher.init</span>() is removed. The function is expected to be called once DTM's Adobe Analytics tool finishes loading.</li> 
      <li>Depending on where Asset Insights Page Tracker is hosted (for example AEM, CDN and so on), the origin of the script source may require changes.</li> 
      <li>For AEM-hosted Page Tracker, the source should point to a publish instance using the host name of the dispatcher instance.</li> 
     </ul> 
    </note></li> 
   <li><p>Either create or open an existing Adobe Analytics Tool. While creating the tool, you can set <strong>Configuration Method</strong> to <strong>Automatic</strong><em>.</em></p> <img imageRotate="0" src="assets/chlimage_1-196.png" /><p>Select Staging/Production report suites, as appropriate.</p> </li> 
   <li><p>Expand <strong>Library Management</strong>, and ensure that <strong>Load Library at</strong> is set to <strong>Page Top</strong>.</p> <img imageRotate="0" src="assets/chlimage_1-197.png" /></li> 
   <li><p>Expand <strong>Customize Page Code</strong>, and click or tap <strong>Open Editor</strong><i>.</i></p> <img imageRotate="0" src="assets/chlimage_1-198.png" /></li> 
   <li><p>Paste the following code in the window:</p> 
    <codeblock gutter="true" class="syntax js">
      var&amp;nbsp;sObj;!!discoiqbr!!&amp;nbsp;!!discoiqbr!!if&amp;nbsp;(arguments.length&amp;nbsp;&gt;&amp;nbsp;0)&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;sObj&amp;nbsp;=&amp;nbsp;arguments[0];!!discoiqbr!!}&amp;nbsp;else&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;sObj&amp;nbsp;=&amp;nbsp;_satellite.getToolsByType('sc')[0].getS();!!discoiqbr!!}!!discoiqbr!!_satellite.notify('in&amp;nbsp;assetAnalytics&amp;nbsp;customInit');!!discoiqbr!!(function&amp;nbsp;initializeAssetAnalytics()&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;if&amp;nbsp;((!!window.assetAnalytics)&amp;nbsp;&amp;&amp;&amp;nbsp;(!!assetAnalytics.dispatcher))&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;_satellite.notify('assetAnalytics&amp;nbsp;ready');!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/**&amp;nbsp;NOTE:!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Copy&amp;nbsp;over&amp;nbsp;the&amp;nbsp;call&amp;nbsp;to&amp;nbsp;'assetAnalytics.dispatcher.init()'&amp;nbsp;from&amp;nbsp;Assets&amp;nbsp;Pagetracker!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Be&amp;nbsp;mindful&amp;nbsp;about&amp;nbsp;changing&amp;nbsp;the&amp;nbsp;AppMeasurement&amp;nbsp;object&amp;nbsp;as&amp;nbsp;retrieved&amp;nbsp;above.!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*/!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;assetAnalytics.dispatcher.init(!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"",&amp;nbsp;&amp;nbsp;/**&amp;nbsp;RSID&amp;nbsp;to&amp;nbsp;send&amp;nbsp;tracking-call&amp;nbsp;to&amp;nbsp;*/!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"",&amp;nbsp;&amp;nbsp;/**&amp;nbsp;Tracking&amp;nbsp;Server&amp;nbsp;to&amp;nbsp;send&amp;nbsp;tracking-call&amp;nbsp;to&amp;nbsp;*/!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"",&amp;nbsp;&amp;nbsp;/**&amp;nbsp;Visitor&amp;nbsp;Namespace&amp;nbsp;to&amp;nbsp;send&amp;nbsp;tracking-call&amp;nbsp;to&amp;nbsp;*/!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"",&amp;nbsp;&amp;nbsp;/**&amp;nbsp;listVar&amp;nbsp;to&amp;nbsp;put&amp;nbsp;comma-separated-list&amp;nbsp;of&amp;nbsp;Asset&amp;nbsp;IDs&amp;nbsp;for&amp;nbsp;Asset&amp;nbsp;Impression&amp;nbsp;Events&amp;nbsp;in&amp;nbsp;tracking-call,&amp;nbsp;e.g.&amp;nbsp;'listVar1'&amp;nbsp;*/!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"",&amp;nbsp;&amp;nbsp;/**&amp;nbsp;eVar&amp;nbsp;to&amp;nbsp;put&amp;nbsp;Asset&amp;nbsp;ID&amp;nbsp;for&amp;nbsp;Asset&amp;nbsp;Click&amp;nbsp;Events&amp;nbsp;in,&amp;nbsp;e.g.&amp;nbsp;'eVar3'&amp;nbsp;*/!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"",&amp;nbsp;&amp;nbsp;/**&amp;nbsp;event&amp;nbsp;to&amp;nbsp;include&amp;nbsp;in&amp;nbsp;tracking-calls&amp;nbsp;for&amp;nbsp;Asset&amp;nbsp;Impression&amp;nbsp;Events,&amp;nbsp;e.g.&amp;nbsp;'event8'&amp;nbsp;*/!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"",&amp;nbsp;&amp;nbsp;/**&amp;nbsp;event&amp;nbsp;to&amp;nbsp;include&amp;nbsp;in&amp;nbsp;tracking-calls&amp;nbsp;for&amp;nbsp;Asset&amp;nbsp;Click&amp;nbsp;Events,&amp;nbsp;e.g.&amp;nbsp;'event7'&amp;nbsp;*/!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;sObj&amp;nbsp;&amp;nbsp;/**&amp;nbsp;[OPTIONAL]&amp;nbsp;if&amp;nbsp;the&amp;nbsp;webpage&amp;nbsp;already&amp;nbsp;has&amp;nbsp;an&amp;nbsp;AppMeasurement&amp;nbsp;object,&amp;nbsp;please&amp;nbsp;include&amp;nbsp;the&amp;nbsp;object&amp;nbsp;here.&amp;nbsp;If&amp;nbsp;unspecified,&amp;nbsp;Pagetracker&amp;nbsp;Core&amp;nbsp;shall&amp;nbsp;create&amp;nbsp;its&amp;nbsp;own&amp;nbsp;AppMeasurement&amp;nbsp;object&amp;nbsp;*/!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;);!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;sObj.usePlugins&amp;nbsp;=&amp;nbsp;true;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;sObj.doPlugins&amp;nbsp;=&amp;nbsp;assetAnalytics.core.updateContextData;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;assetAnalytics.core.optimizedAssetInsights();!!discoiqbr!!&amp;nbsp;&amp;nbsp;}!!discoiqbr!!&amp;nbsp;&amp;nbsp;else&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;_satellite.notify('assetAnalytics&amp;nbsp;not&amp;nbsp;available.&amp;nbsp;Consider&amp;nbsp;updating&amp;nbsp;the&amp;nbsp;Custom&amp;nbsp;Page&amp;nbsp;Code',&amp;nbsp;4);!!discoiqbr!!&amp;nbsp;&amp;nbsp;}!!discoiqbr!!})(); 
    </codeblock> 
    <ul> 
     <li>The page load rule in DTM only includes the pagetracker.js code. Any <span class="code">assetAnalytics</span> fields are considered as overrides for default values. They are not required by default.</li> 
     <li>The code calls <span class="code">assetAnalytics.dispatcher.init</span>() after making sure that <span class="code">_satellite.getToolsByType('sc')[0].getS</span>() is initialized and <span class="code">assetAnalytics,dispatcher.init</span> is available. Therefore, you can skip adding it in step 11.</li> 
     <li>As indicated in comments within the Insights Page Tracker code (<strong>Tools</strong> &amp;gt; <strong>Assets</strong> &amp;gt; <strong>Insights Page Tracker</strong>), when Page Tracker does not create an <span class="code">AppMeasurement</span> object, the first three arguments (RSID, Tracking Server, and Visitor Namespace) are irrelevant. Empty strings are passed instead to highlight this.<br /> The remaining arguments correspond to what is configured in the Insights Configuration page (<strong>Tools</strong> &amp;gt; <strong>Assets </strong>&amp;gt; <strong>Insights Configuration</strong>).</li> 
     <li>The AppMeasurement object is retrieved by querying <span class="code">satelliteLib</span> for all available SiteCatalyst engines. If multiple tags are configured, change the index of the array selector appropriately. Entries in the array are ordered as per SiteCatalyst tools available in the DTM interface.</li> 
    </ul> </li> 
   <li><p>Save and close the Code Editor window, and then save the changes in the Tool configuration.</p> </li> 
   <li><p>In the <strong>Approvals </strong>tab, approve both the pending approvals. The DTM tag is ready for insertion in your web page. For details on how to insert DTM tags in web pages, see <a href="http://blogs.adobe.com/experiencedelivers/experience-management/integrating-dtm-custom-aem6-page-template/">Integrating DTM in custom page templates</a>.</p>  </li> 
  </ol> 
 </body> 
</html>