<?xml version="1.1" encoding="UTF-8" standalone="yes"?> 
<html> 
 <head> 
  <meta content="/content/docs/en/aem/6-3/deploy/configuring/expiration-static-objects" name="qaNotes" /> 
  <meta content="remove-legacypath-6-1" name="jcr:lastModifiedBy" /> 
  <meta content="audience:deploying" name="primaryAudienceTag" /> 
  <meta content="" name="jcr:versionHistory" /> 
  <meta content="true" name="jcr:isCheckedOut" /> 
  <meta content="admin" name="jcr:createdBy" /> 
  <meta content="2018-04-03T08:44:09.428-0400" name="topicBrowsingSortDate" /> 
  <meta content="/etc/designs/help" name="cq:designPath" /> 
  <meta content="Activate" name="cq:lastReplicationAction" /> 
  <meta content="5538132c-0968-478c-b7ed-cf1af08461ee" name="jcr:predecessors" /> 
  <meta content="2018-04-03T08:44:12.576-0400" name="cq:lastReplicated" /> 
  <meta content="https://helpx.adobe.com/experience-manager/6-4/sites/deploying/using/expiration-static-objects.html" name="publishExternalURL" /> 
  <meta content="en_us" name="jcr:language" /> 
  <meta content="User" name="contentOwner" /> 
  <meta content="carlino@adobe.com" name="lr_lastReplicatedBy" /> 
  <meta content="help/components/pages/article-3" name="sling:resourceType" /> 
  <meta content="2018-04-30T03:26:52.905-0400" name="cq:lastModified" /> 
  <meta content="2017-10-31T16:17:58.075-0400" name="firstPublishExternalDate" /> 
  <meta content="/content/help/en/experience-manager/6-4/sites/deploying/morehelp/configuring;/content/help/en/experience-manager/6-4/sites/deploying/morehelp/configuring" name="moreHelpPaths" /> 
  <meta content="2017-12-01T19:06:11.568-0500" name="jcr:created" /> 
  <meta content="Expiration of Static Objects" name="seoTitle" /> 
  <meta content="47e999e2-b8a7-49d7-80d1-467a63037864" name="jcr:uuid" /> 
  <meta content="2018-04-30T03:26:52.905-0400" name="locHandOffDate" /> 
  <meta content="2018-04-03T08:44:09.428-0400" name="publishExternalDate" /> 
  <meta content="2017-10-12T21:46:00.000-0400" name="qaDate" /> 
  <meta content="carlino" name="cq:lastReplicatedBy" /> 
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/SITES;topic_tags:configuring;content_type:reference" name="cq:tags" /> 
  <meta content="2018-04-03T08:44:09.428-0400" name="lastPublishExternalDate" /> 
  <meta content="Expiration of Static Objects" name="navTitle" /> 
  <meta content="2017-10-12T21:46:58.665-0400" name="mwpw_migration_script_version" /> 
  <meta content="mix:versionable" name="jcr:mixinTypes" /> 
  <meta content="/apps/help/templates/article-3" name="cq:template" /> 
  <meta content="carlino" name="cq:lastModifiedBy" /> 
  <meta content="" name="jcr:baseVersion" /> 
  <meta content="" name="jcr:primaryType" /> 
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/SITES" name="primaryProductTag" /> 
  <meta content="false" name="isReadyForLocalization" /> 
  <meta content="Expiration of Static Objects" name="jcr:title" /> 
  <meta content="Learn how to configure AEM so that static objects do not expire (for a reasonable period of time)." name="seoDescription" /> 
 </head> 
 <body> 
  <p>Static objects (for example, icons) do not change. Therefore the system should be configured so that they do not expire (for a reasonable period of time) and so reduce unnecessary traffic. <br /> </p> 
  <p>This has the following impact:</p> 
  <ul> 
   <li>Offloads requests from the server infrastructure.</li> 
   <li>Increases performance of page loading, as the browser caches objects in the browser cache.</li> 
  </ul> 
  <p>Expirations are specified by the HTTP standard regarding "expiration" of files (see, for example, chapter 14.21 of <a href="http://www.ietf.org/rfc/rfc2616.txt">RFC 2616</a> " Hypertext Transfer Protocol -- HTTP 1.1"). This standard uses the header to allow clients to cache objects until they are considered stale; such objects are cached for the specified amount of time without any status check being made to the originating server.<br /> </p> 
  <note> 
   <p>This configuration is completely separate from (and will not work for) the Dispatcher.</p> 
   <p>The purpose of the Dispatcher is to cache data in front of AEM.<br /> </p> 
  </note> 
  <p>All files, which are not dynamic and which do not change over time, can and should be cached. The configuration for the Apache HTTPD server could look like one of the following - dependent on the environment:</p> 
  <note> 
   <p>You must be careful when you define the time period during which an object is considered to be up-to-date. As there is <i>no check until the specified time period has expired</i>, the client can end up presenting old content from the cache.</p> 
  </note> 
  <ol> 
   <li> 
    <codeblock gutter="true" class="syntax xml">
      LoadModule&amp;nbsp;expires_module&amp;nbsp;modules/mod_expires.so!!discoiqbr!!&lt;Location&amp;nbsp;/libs&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;ExpiresByType&amp;nbsp;text/css&amp;nbsp;"access&amp;nbsp;plus&amp;nbsp;1&amp;nbsp;month"!!discoiqbr!!&amp;nbsp;&amp;nbsp;ExpiresByType&amp;nbsp;text/javascript&amp;nbsp;"access&amp;nbsp;plus&amp;nbsp;1&amp;nbsp;month"!!discoiqbr!!&amp;nbsp;&amp;nbsp;ExpiresByType&amp;nbsp;image/png&amp;nbsp;"access&amp;nbsp;plus&amp;nbsp;1&amp;nbsp;month"!!discoiqbr!!&amp;nbsp;&amp;nbsp;ExpiresByType&amp;nbsp;image/gif&amp;nbsp;"access&amp;nbsp;plus&amp;nbsp;1&amp;nbsp;month"!!discoiqbr!!&lt;/Location&gt; 
    </codeblock><p>This allows the intermediate cache (e.g. the browser cache) to store CSS, Javascript, PNG and GIF files for up to one month, until they expire. This means they do not need to be requested from AEM or the webserver, but can remain in the browser cache.</p> <p>Other sections of the site should not be cached on an author instance, as they are subject to change at any time.</p> </li> 
   <li> 
    <codeblock gutter="true" class="syntax xml">
      LoadModule&amp;nbsp;expires_module&amp;nbsp;modules/mod_expires.so!!discoiqbr!!&lt;Location&amp;nbsp;/content&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;ExpiresByType&amp;nbsp;text/css&amp;nbsp;"access&amp;nbsp;plus&amp;nbsp;1&amp;nbsp;day"!!discoiqbr!!&amp;nbsp;&amp;nbsp;ExpiresByType&amp;nbsp;text/javascript&amp;nbsp;"access&amp;nbsp;plus&amp;nbsp;1&amp;nbsp;day"!!discoiqbr!!&amp;nbsp;&amp;nbsp;ExpiresByType&amp;nbsp;image/png&amp;nbsp;"access&amp;nbsp;plus&amp;nbsp;1&amp;nbsp;day"!!discoiqbr!!&amp;nbsp;&amp;nbsp;ExpiresByType&amp;nbsp;image/gif&amp;nbsp;"access&amp;nbsp;plus&amp;nbsp;1&amp;nbsp;day"!!discoiqbr!!&lt;/Location&gt;!!discoiqbr!!&lt;Location&amp;nbsp;/etc/designs&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;ExpiresByType&amp;nbsp;text/css&amp;nbsp;"access&amp;nbsp;plus&amp;nbsp;1&amp;nbsp;day"!!discoiqbr!!&amp;nbsp;&amp;nbsp;ExpiresByType&amp;nbsp;text/javascript&amp;nbsp;"access&amp;nbsp;plus&amp;nbsp;1&amp;nbsp;day"!!discoiqbr!!&amp;nbsp;&amp;nbsp;ExpiresByType&amp;nbsp;image/png&amp;nbsp;"access&amp;nbsp;plus&amp;nbsp;1&amp;nbsp;day"!!discoiqbr!!&amp;nbsp;&amp;nbsp;ExpiresByType&amp;nbsp;image/gif&amp;nbsp;"access&amp;nbsp;plus&amp;nbsp;1&amp;nbsp;day"!!discoiqbr!!&lt;/Location&gt;!!discoiqbr!! 
    </codeblock><p>This allows the intermediate cache (e.g. the browser cache) to store CSS, Javascript, PNG and GIF files for up to one day in client caches. Although this example illustrates global settings for everything below <span class="code">/content</span> and <span class="code">/etc/designs</span>, you should make it more granular.<br /> </p> <p>Depending on how often your site is updated, you can also consider caching HTML pages. A reasonable time period would be 1 hour:</p> 
    <codeblock gutter="true" class="syntax xml">
      &lt;Location&amp;nbsp;/content&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;ExpiresByType&amp;nbsp;text/html&amp;nbsp;"access&amp;nbsp;plus&amp;nbsp;1&amp;nbsp;hour"!!discoiqbr!!&lt;/Location&gt; 
    </codeblock></li> 
  </ol> 
  <p>After you have configured the static objects, scan <span class="code">request.log</span>, while selecting pages that hold such objects, to confirm that no (unnecessary) requests are being made for static objects.</p> 
 </body> 
</html>