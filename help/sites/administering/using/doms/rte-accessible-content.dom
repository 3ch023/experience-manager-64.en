<?xml version="1.1" encoding="UTF-8" standalone="yes"?> 
<html> 
 <head> 
  <meta content="72" name="acrolinxSentences" /> 
  <meta content="2018-10-27T23:45:30.278-0400" name="cq:lastReplicated" /> 
  <meta content="admin" name="jcr:createdBy" /> 
  <meta content="aa4a5767-8b5f-4f22-98c3-a3f3f0ac40b9" name="jcr:predecessors" /> 
  <meta content="2017-10-12T21:46:58.665-0400" name="qaDate" /> 
  <meta content="mix:versionable" name="jcr:mixinTypes" /> 
  <meta content="2017-10-12T21:46:58.665-0400" name="mwpw_migration_script_version" /> 
  <meta content="cmajumda" name="cq:lastModifiedBy" /> 
  <meta content="" name="jcr:versionHistory" /> 
  <meta content="asgupta" name="acrolinxLastCheckedBy" /> 
  <meta content="/content/docs/en/aem/6-3/administer/operations/page-authoring/rte-accessible-content" name="qaNotes" /> 
  <meta content="2017-12-01T19:02:54.945-0500" name="jcr:created" /> 
  <meta content="2018-05-14T10:17:48.619-0400" name="publishExternalDate" /> 
  <meta content="Configuring RTE for Producing Accessible Sites" name="seoTitle" /> 
  <meta content="2018-05-14T10:17:48.619-0400" name="topicBrowsingSortDate" /> 
  <meta content="Configuring RTE for Producing Accessible Sites" name="navTitle" /> 
  <meta content="946" name="acrolinxWords" /> 
  <meta content="http://acrolinx.corp.adobe.com:8031/output/en/rte_accessible_content_krs_workflow_a9d8be2d910fe9fc_252_report.xml" name="acrolinxReportURL" /> 
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/SITES;topic_tags:operations;content_type:reference" name="cq:tags" /> 
  <meta content="Guillaume Carlino" name="contentOwner" /> 
  <meta content="Learn how to configure the AEM Rich Text Editor to produce accessible sites." name="seoDescription" /> 
  <meta content="2018-05-14T10:17:48.629-0400" name="cq:lastModified" /> 
  <meta content="remove-legacypath-6-1" name="jcr:lastModifiedBy" /> 
  <meta content="" name="jcr:baseVersion" /> 
  <meta content="/content/help/en/experience-manager/6-4/sites/administering/morehelp/operations;/content/help/en/experience-manager/6-4/sites/administering/morehelp/operations" name="moreHelpPaths" /> 
  <meta content="help/components/pages/article-3" name="sling:resourceType" /> 
  <meta content="audience:administering" name="primaryAudienceTag" /> 
  <meta content="/etc/designs/help" name="cq:designPath" /> 
  <meta content="false" name="isReadyForLocalization" /> 
  <meta content="6891d3c3-aa99-4984-baf0-4bbb7a4babe4" name="jcr:uuid" /> 
  <meta content="2018-08-22T11:15:31.147-0400" name="acrolinxDate" /> 
  <meta content="" name="jcr:primaryType" /> 
  <meta content="cmajumda@adobe.com" name="lr_lastReplicatedBy" /> 
  <meta content="https://helpx.adobe.com/experience-manager/6-4/sites/administering/using/rte-accessible-content.html" name="publishExternalURL" /> 
  <meta content="/apps/help/templates/article-3" name="cq:template" /> 
  <meta content="2017-10-31T16:24:23.738-0400" name="firstPublishExternalDate" /> 
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/SITES" name="primaryProductTag" /> 
  <meta content="true" name="jcr:isCheckedOut" /> 
  <meta content="checked_not_improved" name="acrolinxStatus" /> 
  <meta content="2018-05-14T10:17:48.619-0400" name="lastPublishExternalDate" /> 
  <meta content="Activate" name="cq:lastReplicationAction" /> 
  <meta content="jsyal" name="cq:lastReplicatedBy" /> 
  <meta content="Configuring RTE for Producing Accessible Sites" name="jcr:title" /> 
  <meta content="yellow" name="acrolinxPageStatus" /> 
  <meta content="2018-04-26T10:12:10.463-0400" name="locHandOffDate" /> 
  <meta content="en_us" name="jcr:language" /> 
 </head> 
 <body> 
  <p>AEM supports both:</p> 
  <ul> 
   <li>standard accessibility features, including alternate text for images</li> 
   <li>as well as additional features that can be accessed when creating content with components that use the rich text editor (RTE)</li> 
  </ul> 
  <note> 
   <p>See also:</p> 
   <ul> 
    <li>our <a href="../../../managing/using/qg-wcag.md">Quick Guide to WCAG 2.0</a> for further details</li> 
    <li><a href="../../../sites/authoring/using/creating-accessible-content.md">Creating accessible content (WCAG 2.0 conformance)</a><br /> </li> 
   </ul> 
  </note> 
  <p>Content authors can use features of the RTE to provide accessibility information while adding content to a page. This can include adding structural information through headings and paragraph elements.</p> 
  <p>You can <a href="#howtoconfigurethepluginfeatures">configure and customize these features by configuring RTE plugins</a> for the component. For example, the <span class="code">paraformat</span> plugin allows you to add additional block level semantic elements, including extending the number of heading levels supported beyond the basic <span class="code">H1</span>, <span class="code">H2</span> and <span class="code">H3</span> provided by default.</p> 
  <p>The RTE is available in a variety of components from both the touch-optimized and the classic UI. However, the primary component for using the RTE is the <strong>Text</strong> component.</p> 
  <p>The <strong>Text</strong> component in AEM is available for both the touch-optimized and the classic UIs. The following images show the rich text editor with a range of plugins enabled, including <span class="code">paraformat</span>:</p> 
  <ul> 
   <li><p>The <strong>Text</strong> component in the touch-optimized UI:</p> <img alt="Text component (RTE) in full-screen-mode in the touch-optimized UI." imageRotate="0" src="assets/chlimage_1-245.png" /></li> 
   <li><p>The <strong>Text</strong> component in the classic UI:</p> <img alt="Edit dialog (RTE) of the text component in the classic UI." imageRotate="0" src="assets/chlimage_1-246.png" /></li> 
  </ul>  
  <note> 
   <p>There are differences between the RTE features available in the classic UI and the touch-optimized UI. For more details see</p> 
   <ul> 
    <li><a href="/sites/administering/using/rich-text-editor.html?#PluginsandtheirFeatures">Plugins and their Features</a></li> 
    <li><a href="/sites/administering/using/rich-text-editor.html?#PluginsandtheirFeaturesTouchoptimizedUI">Plugins and their Features - Touch-optimized UI</a></li> 
   </ul> 
  </note> 
  <h2>Configuring the Plugin Features</h2> 
  <p>Full instructions on configuring the RTE are available on the <a href="../../../sites/administering/using/rich-text-editor.md">Configuring the Rich Text Editor</a> page. This covers all issues, including the key steps:</p> 
  <ul> 
   <li><a href="../../../sites/administering/using/rich-text-editor.md#pluginsandtheirfeatures">Plugins and their Features</a></li> 
   <li><a href="../../../sites/administering/using/rich-text-editor.md#configurationlocations">Configuration Locations</a></li> 
   <li><a href="../../../sites/administering/using/rich-text-editor.md#activateapluginandconfigurethefeaturesproperty">Activate a Plugin and Configure the features Property</a></li> 
   <li><a href="../../../sites/administering/using/rich-text-editor.md#configuringotherfunctionalityoftherte">Configuring Other Functionality of the RTE</a></li> 
  </ul> 
  <p>By configuring a plugin within the appropriate <span class="code">rtePlugins</span> sub-branch in CRXDE Lite (see the following image), you can activate either all or specific features for that plugin. </p> 
  <img alt="CRXDE Lite showing an example rtePlugin." imageRotate="0" src="assets/chlimage_1-247.png" /> 
  <h3>Example - Specifying Paragraph Formats Available in RTE Selection Field</h3> 
  <p>New semantic block formats may be made available for selection by:</p> 
  <ol> 
   <li><p>Depending on your RTE, determine and navigate to the <a href="../../../sites/administering/using/rich-text-editor.md#configurationlocations">configuration location</a>.</p> </li> 
   <li><p><a href="../../../sites/administering/using/rich-text-editor.md#enablingtheformatdropdownselector">Enable the Paragraphs selection field</a>; by <a href="../../../sites/administering/using/rich-text-editor.md#activateapluginandconfigurethefeaturesproperty">activating the plugin</a>.</p> </li> 
   <li><p><a href="../../../sites/administering/using/rich-text-editor.md#specifyingparagraphformatsavailableinthedropdownlist">Specify the formats you want to have available in the Paragraphs selection field</a>.</p> </li> 
   <li><p>The paragraph formats are then available to the content author from the selection fields in the RTE. They can be accessed:<br /> </p> 
    <ul> 
     <li>Using the paragraph (<a href="http://en.wikipedia.org/wiki/Pilcrow">pilcrow</a>) icon in the touch-optimized UI:</li> 
    </ul> <img alt="Paragraph (pilcrow) icon." imageRotate="0" src="assets/chlimage_1-248.png" /> 
    <ul> 
     <li>Using the <strong>Format</strong> field (drop-down selector) in the classic UI.<br /> </li> 
    </ul> </li> 
  </ol>  
  <p>With structural elements available in the RTE via the paragraph format options, AEM provides a good basis for the development of accessible content. Content authors cannot use the RTE to format font size or colors or other related attributes, preventing the creation of inline formatting. Instead they must select the appropriate structural elements, such as headings and use global styles chosen from the Styles option. This ensures clean markup, greater options for users who browse with their own style sheets and correctly structured content.</p> 
  <h2>Use of the Source Edit Feature</h2>   
  <p>In some cases, content authors will find it necessary to examine and adjust the HTML source code created using the RTE. For example, a piece of content created within the RTE may require additional markup to ensure compliance with WCAG 2.0. This can be done with the <a href="../../../sites/administering/using/rich-text-editor.md#pluginsandtheirfeatures">source edit</a> option of the RTE. You can specify the <a href="../../../sites/administering/using/rich-text-editor.md#pluginsandtheirfeatures"><span class="code">sourceedit</span> feature on the <span class="code">misctools</span> plugin</a>.</p> 
  <note> 
   <p>Use the <span class="code">sourceedit</span> feature carefully. Typing errors and/or unsupported features can introduce more problems.</p> 
  </note> 
  <h2>Adding Support for Additional HTML Elements and Attributes</h2> 
  <p>To further extend the accessibility features of AEM, it is possible to extend the existing components based on the RTE (such as the <strong>Text</strong> and <strong>Table</strong> components) with additional elements and attributes.</p> 
  <p>The following procedure illustrates how to extend the <strong>Table</strong> component with a <strong>Caption</strong> element that provides information about a data table to assistive technology users:</p> 
  <h3>Example - Adding the Caption to the Table Properties Dialog</h3>    
  <p>In the constructor of the <span class="code">TablePropertiesDialog</span>, add an additional text input field that is used for editing the caption. Note that <span class="code">itemId</span> must be set to <span class="code">caption</span> (i.e. the DOM attribute’s name) to automatically handle its content.</p> 
  <p>In <strong>Table</strong> you must explicitly set or remove the attribute to/from the DOM element. The value is passed by the dialog in the <span class="code">config</span> object. Note that DOM attributes should be set/removed using the corresponding <span class="code">CQ.form.rte.Common</span> methods (<span class="code">com</span> is a shortcut for <span class="code">CQ.form.rte.Common</span>) to avoid common pitfalls with browser implementations.</p> 
  <note> 
   <p>This procedure is only suitable for the classic UI.</p> 
  </note> 
  <h3>Step by Step Instructions</h3> 
  <ol> 
   <li><p>Start CRXDE Lite. For example: <a href="http://localhost:4502/crx/de/">http://localhost:4502/crx/de/</a></p> </li> 
   <li><p>Copy:<br /> <span class="code"> /libs/cq/ui/widgets/source/widgets/form/rte/commands/Table.js</span><br /> to:<br /> <span class="code"> /apps/cq/ui/widgets/source/widgets/form/rte/commands/Table.js</span><br /> </p> 
    <note> 
     <p>You may need to create intermediate folders if they do not already exist.</p> 
    </note></li> 
   <li><p>Copy:<br /> <span class="code"> /libs/cq/ui/widgets/source/widgets/form/rte/plugins/TablePropertiesDialog.js</span><br /> to:<br /> <span class="code"> /apps/cq/ui/widgets/source/widgets/form/rte/plugins/TablePropertiesDialog.js</span>.</p> </li> 
   <li><p>Open the following file for editing (open with double-click):</p>  </li> 
   <li><p>In the <span class="code">constructor</span> method, before the line reading:<strong></strong></p> 
    <codeblock class="syntax js">
      var&amp;nbsp;dialogRef&amp;nbsp;=&amp;nbsp;this; 
    </codeblock><p>Add the following code:<strong></strong></p> 
    <codeblock gutter="true" class="syntax js">
      editItems.push({!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"itemId":&amp;nbsp;"caption",!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"name":&amp;nbsp;"caption",!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"xtype":&amp;nbsp;"textfield",!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"fieldLabel":&amp;nbsp;CQ.I18n.getMessage("Caption"),!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"value":&amp;nbsp;(this.table&amp;nbsp;&amp;&amp;&amp;nbsp;this.table.caption&amp;nbsp;?&amp;nbsp;this.table.caption.textContent&amp;nbsp;:&amp;nbsp;"")!!discoiqbr!!}); 
    </codeblock></li> 
   <li><p>Open the following file:</p> <p><span class="code"> /apps/cq/ui/widgets/source/widgets/form/rte/commands/Table.js</span>.</p> </li> 
   <li> <p>Add the following code at the end of the the <span class="code">transferConfigToTable</span> method:<br /> </p> 
    <codeblock gutter="true" class="syntax js">
      /**!!discoiqbr!!&amp;nbsp;*&amp;nbsp;Adds&amp;nbsp;Caption&amp;nbsp;Element!!discoiqbr!! */!!discoiqbr!!var&amp;nbsp;captionElement; !!discoiqbr!!if&amp;nbsp;(dom.firstChild&amp;nbsp;&amp;&amp;&amp;nbsp;dom.firstChild.tagName.toLowerCase()&amp;nbsp;==&amp;nbsp;"caption") !!discoiqbr!!{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;captionElement&amp;nbsp;=&amp;nbsp;dom.firstChild;!!discoiqbr!!}!!discoiqbr!!if&amp;nbsp;(config.caption)!!discoiqbr!!{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var&amp;nbsp;captionTextNode&amp;nbsp;=&amp;nbsp;document.createTextNode(config.caption)!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&amp;nbsp;(captionElement)!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;dom.replaceNode(captionElement.firstChild,captionTextNode); !!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;else!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;captionElement&amp;nbsp;=&amp;nbsp;document.createElement("caption");!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;captionElement.appendChild(captionTextNode);!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&amp;nbsp;(dom.childNodes.length&gt;0)!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;dom.insertBefore(captionElement,&amp;nbsp;dom.firstChild);!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;else!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;dom.appendChild(captionElement);!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}!!discoiqbr!!}&amp;nbsp;else&amp;nbsp;if&amp;nbsp;(captionElement) !!discoiqbr!!{!!discoiqbr!!&amp;nbsp;&amp;nbsp;dom.removeChild(captionElement);!!discoiqbr!!} 
    </codeblock></li> 
   <li><p>Save your changes using <strong>Save All … </strong></p> </li> 
  </ol> 
  <note> 
   <p>A plain text field is not the only type of input allowed for the value of the caption element. Any ExtJS widget, that provides the caption’s value through its <span class="code">getValue()</span> method, could be used.</p> 
   <p>To add editing capabilities for further additional elements and attributes, ensure that both:</p> 
   <ul> 
    <li>The <span class="code">itemId</span> property for each corresponding field is set to the name of the appropriate DOM attribute (<span class="code">TablePropertiesDialog</span>).<br /> </li> 
    <li>The attribute is set and/or removed on the DOM element explicitly (<span class="code">Table</span>).</li> 
   </ul> 
  </note> 
 </body> 
</html>