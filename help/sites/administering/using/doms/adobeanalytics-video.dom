<?xml version="1.1" encoding="UTF-8" standalone="yes"?> 
<html> 
 <head> 
  <meta content="2017-12-01T19:04:43.641-0500" name="jcr:created" /> 
  <meta content="2017-10-31T16:25:53.452-0400" name="firstPublishExternalDate" /> 
  <meta content="2019-01-28T04:27:05.680-0500" name="cq:lastReplicated" /> 
  <meta content="/etc/designs/help" name="cq:designPath" /> 
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/SITES;topic_tags:integration;content_type:reference" name="cq:tags" /> 
  <meta content="ecbbadd5-c08e-4b20-9999-b323248108b4" name="jcr:predecessors" /> 
  <meta content="" name="jcr:baseVersion" /> 
  <meta content="2019-01-28T04:27:05.572-0500" name="lastPublishExternalDate" /> 
  <meta content="" name="jcr:versionHistory" /> 
  <meta content="audience:administering" name="primaryAudienceTag" /> 
  <meta content="https://helpx.adobe.com/experience-manager/6-4/sites/administering/using/adobeanalytics-video.html" name="publishExternalURL" /> 
  <meta content="light" name="gnavTheme" /> 
  <meta content="2017-10-12T21:46:58.665-0400" name="qaDate" /> 
  <meta content="/content/help/en/experience-manager/6-4/sites/administering/morehelp/integration;/content/help/en/experience-manager/6-4/sites/administering/morehelp/integration" name="moreHelpPaths" /> 
  <meta content="aheimoz" name="cq:lastModifiedBy" /> 
  <meta content="admin" name="jcr:createdBy" /> 
  <meta content="false" name="isReadyForLocalization" /> 
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/SITES" name="primaryProductTag" /> 
  <meta content="help/components/pages/article-3" name="sling:resourceType" /> 
  <meta content="Configuring Video Tracking for Adobe Analytics" name="navTitle" /> 
  <meta content="User" name="contentOwner" /> 
  <meta content="aheimoz" name="cq:lastReplicatedBy" /> 
  <meta content="2019-01-28T04:27:05.572-0500" name="topicBrowsingSortDate" /> 
  <meta content="/content/docs/en/aem/6-3/administer/integration/marketing-cloud/sitecatalyst/sc-video" name="qaNotes" /> 
  <meta content="mix:versionable" name="jcr:mixinTypes" /> 
  <meta content="1f713667-7c8d-4b46-b0ce-6dc1684287a5" name="jcr:uuid" /> 
  <meta content="aheimoz@adobe.com" name="lr_lastReplicatedBy" /> 
  <meta content="Learn about configuring video tracking for SiteCatalyst." name="seoDescription" /> 
  <meta content="dist5" name="distType" /> 
  <meta content="2019-01-28T04:27:05.598-0500" name="cq:lastModified" /> 
  <meta content="/apps/help/templates/article-3" name="cq:template" /> 
  <meta content="2017-10-12T21:46:58.665-0400" name="mwpw_migration_script_version" /> 
  <meta content="" name="jcr:primaryType" /> 
  <meta content="en_us" name="jcr:language" /> 
  <meta content="true" name="jcr:isCheckedOut" /> 
  <meta content="Activate" name="cq:lastReplicationAction" /> 
  <meta content="Configuring Video Tracking for Adobe Analytics" name="seoTitle" /> 
  <meta content="2019-01-28T04:27:05.572-0500" name="publishExternalDate" /> 
  <meta content="2018-04-26T10:14:08.471-0400" name="locHandOffDate" /> 
  <meta content="Configuring Video Tracking for Adobe Analytics" name="jcr:title" /> 
 </head> 
 <body> 
  <p>There are several methods available for tracking video events, 2 of which are legacy options for older versions of Adobe Analytics. These legacy option are: Legacy Milestones and Legacy Seconds.</p> 
  <note> 
   <p>Before you continue, make sure<strong> </strong>that you have a<strong> playable video</strong> uploaded within AEM.<br /> <br /> To ensure that your videos play on the page, consult <strong><a href="../../../sites/authoring/using/default-components-foundation.md#video">this tutorial</a></strong> for information about how to transcode video files in AEM.</p> 
  </note> 
  <p>Use the following procedure to set up a framework for video tracking using each method. </p> 
  <note> 
   <p>For new implementations, it is recommended that you <strong>do not use</strong> the legacy options for video tracking. Please use the <strong>Milestones </strong>method instead.</p> 
  </note> 
  <h2>Common steps</h2> 
  <ol> 
   <li>Set up a web page by dragging a<strong> video component</strong> from the sidekick and adding a playable <strong>video as an asset</strong> for the component</li> 
   <li><a href="../../../sites/administering/using/adobeanalytics.md">Create an Adobe Analytics configuration and framework</a>.<br /> 
    <ul> 
     <li>The examples in the sections that follow use the name <strong>my-sc-configuration</strong> for the configuration and<strong> videofw</strong> for the framework<strong>.</strong></li> 
    </ul> </li> 
   <li>On the framework page, select an RSID and set the usage to all. (<a href="http://localhost:4502/cf#/etc/cloudservices/sitecatalyst/videoconf/videofw.html">http://localhost:4502/cf#/etc/cloudservices/sitecatalyst/videoconf/videofw.html</a>)</li> 
   <li>From the General component category in Sidekick, drag the Video component onto the framework.<br /> </li> 
   <li>Select a tracking method: 
    <ul> 
     <li><a href="../../../sites/administering/using/adobeanalytics.md">Milestones</a></li> 
     <li><a href="../../../sites/administering/using/adobeanalytics.md">Non-legacy Milestones</a></li> 
     <li><a href="../../../sites/administering/using/adobeanalytics.md">Legacy Milestones</a></li> 
     <li><a href="../../../sites/administering/using/adobeanalytics.md">Legacy Seconds</a></li> 
    </ul> </li> 
   <li>When you select a tracking method, the list of CQ variables changes accordingly. Use the sections that follow for information about how to further configure the component and map the CQ variables with Adobe Analytics properties.</li> 
  </ol> 
  <h2>Milestones</h2> 
  <p>The Milestones method tracks the most information about the video, is highly customizable, and easy to configure.</p> 
  <p>To use the Milestones method, specify time-based track offsets to define the milestones. When a video playback passes a milestone, the page calls Adobe Analytics to track the event. For each milestone that you define, the component creates a CQ variable that you can map to a Adobe Analytics property. The name of these CQ variables use the following format:</p> 
  <codeblock class="syntax shell">
    eventdata.events.milestoneXX 
  </codeblock> 
  <p>The XX suffix is the track offset that defines the milestone. For example, specifying track offsets of 4, 8, 16, 20, and 28 seconds generates the following CQ variables:</p> 
  <ul> 
   <li><span class="code">eventdata.events.milestone4</span></li> 
   <li><span class="code">eventdata.events.milestone8</span></li> 
   <li><span class="code">eventdata.events.milestone16</span></li> 
   <li><span class="code">eventdata.events.milestone20</span></li> 
   <li><span class="code">eventdata.events.milestone28</span></li> 
  </ul> 
  <p>The following table describes the default CQ variables that are provided for the Milestones method:<a name="cqvars"></a></p> 
  <table border="1" cellpadding="1" cellspacing="0" width="100%"> 
   <tbody> 
    <tr> 
     <th>CQ variables</th> 
     <th>Adobe Analytics properties</th> 
    </tr> 
    <tr> 
     <td>eventdata.videoName </td> 
     <td>Variables mapped to this will contain the <strong>user-friendly</strong> name (<strong>Title</strong>) of the video if set in the DAM; if this is not set, the video's <strong>file name</strong> will be sent instead. Only sent once, at the beginning of playing a video.</td> 
    </tr> 
    <tr> 
     <td>eventdata.videoFileName </td> 
     <td>Variables mapped to this will contain the file’s name. Only sent along with eventdata.events.a.media.view </td> 
    </tr> 
    <tr> 
     <td>eventdata.videoFilePath </td> 
     <td>Variables mapped to this will contain the file’s path on the server. Only sent along with eventdata.events.a.media.view </td> 
    </tr> 
    <tr> 
     <td>eventdata.events.a.media.segmentView </td> 
     <td>Sent every time a segment milestone is passed </td> 
    </tr> 
    <tr> 
     <td>eventdata.events.a.media.timePlayed</td> 
     <td>Sent every time a milestone is triggered, the number of seconds the user spent watching the given segment is also sent along with this event. e.g. eventX=21<br /> </td> 
    </tr> 
    <tr> 
     <td>eventdata.events.a.media.view </td> 
     <td>Sent on initializing video view</td> 
    </tr> 
    <tr> 
     <td>eventdata.events.a.media.complete </td> 
     <td>Sent when video finished playing<br /> </td> 
    </tr> 
    <tr> 
     <td>eventdata.events.milestoneX </td> 
     <td>Sent when the given milestone is passed, X stands for the second the milestone gets triggered at<br /> </td> 
    </tr> 
    <tr> 
     <td>eventdata.a.contentType </td> 
     <td>Sent on every milestone; shows up as pev3 in the Adobe Analytics call, usually sent as "video"<br /> </td> 
    </tr> 
    <tr> 
     <td>eventdata.a.media.name </td> 
     <td>Exactly matches eventdata.videoName </td> 
    </tr> 
    <tr> 
     <td>eventdata.a.media.segment </td> 
     <td>Contains information on the segment that has been viewed e.g. 2:O:4-8 </td> 
    </tr> 
   </tbody> 
  </table> 
  <note> 
   <p>You can set a video's <strong>user friendly </strong>name by opening the video for editing in the DAM, and setting the <strong>Title</strong> metadata field to the desired name.</p> 
  </note> 
  <ol> 
   <li><p>After selecting Milestones as the tracking method, in the Track Offset box, enter a comma-separated list of tracking offsets in seconds. For example, the following value defines milestones at 4, 8, 16, 20 and 28 seconds after the start of the video:</p> 
    <codeblock class="syntax xml">
      4,8,16,20,24 
    </codeblock><p>The offset values must be integers that are greater than 0. The default value is <span class="code">10,25,50,75</span>.</p> </li> 
   <li><p>To map the CQ variables to Adobe Analytics properties, drag the Adobe Analytics properties from ContentFinder beside the CQ variable on the component.</p> <p>For information about optimizing the mappings, see the <a href="https://marketing.adobe.com/resources/help/en_US/sc/appmeasurement/hbvideo/video_overview.html">Measuring Video in Adobe Analytics</a> guide.</p> </li> 
   <li><p><a href="../../../sites/administering/using/adobeanalytics.md">Add the framework</a> to the page.</p> </li> 
   <li><p>To test the setup in <strong>Preview mode</strong>, play the video to get Adobe Analytics calls to trigger.</p> </li> 
  </ol> 
  <p>The Adobe Analytics tracking data examples that follow apply to Milestone tracking using track offsets of 4,8,16,20, and 24, and the following mappings for the CQ variables:</p> 
  <table border="1" cellpadding="1" cellspacing="0" width="100%"> 
   <tbody> 
    <tr> 
     <th>CQ variable</th> 
     <th>Adobe Analytics property</th> 
    </tr> 
    <tr> 
     <td>eventdata.videoName </td> 
     <td>prop2</td> 
    </tr> 
    <tr> 
     <td>eventdata.videoFileName </td> 
     <td>prop3 </td> 
    </tr> 
    <tr> 
     <td>eventdata.videoFilePath </td> 
     <td>prop4</td> 
    </tr> 
    <tr> 
     <td>eventdata.events.a.media.segmentView </td> 
     <td>event1</td> 
    </tr> 
    <tr> 
     <td>eventdata.events.a.media.timePlayed</td> 
     <td>event2<br /> </td> 
    </tr> 
    <tr> 
     <td>eventdata.events.a.media.view </td> 
     <td>event3</td> 
    </tr> 
    <tr> 
     <td>eventdata.events.a.media.complete </td> 
     <td>event4<br /> </td> 
    </tr> 
    <tr> 
     <td>eventdata.events.milestone4</td> 
     <td>event10</td> 
    </tr> 
    <tr> 
     <td>eventdata.events.milestone8</td> 
     <td>event11</td> 
    </tr> 
    <tr> 
     <td>eventdata.events.milestone16</td> 
     <td>event12</td> 
    </tr> 
    <tr> 
     <td>eventdata.events.milestone20</td> 
     <td>event13</td> 
    </tr> 
    <tr> 
     <td>eventdata.events.milestone24</td> 
     <td>event14</td> 
    </tr> 
    <tr> 
     <td>eventdata.a.contentType </td> 
     <td>eVar3</td> 
    </tr> 
    <tr> 
     <td>eventdata.a.media.name </td> 
     <td>eVar1, prop1 </td> 
    </tr> 
    <tr> 
     <td>eventdata.a.media.segment </td> 
     <td>eVar2</td> 
    </tr> 
   </tbody> 
  </table> 
  <p>For this example, the Video component appears as follows on the framework page:</p> 
  <img imageRotate="0" src="assets/video1.png" /> 
  <note> 
   <p>To see the calls made to Adobe Analytics use an appropriate tool, like DigitalPulse Debugger or Fiddler.</p> 
  </note> 
  <p>Calls to Adobe Analytics using the example provided should look like this when viewed with DigitalPulse Debugger:</p> 
  <img imageRotate="0" src="assets/chlimage_1-195.png" /> 
  <p><i>This is the <strong>first call</strong> made to Adobe Analytics containing the following values:</i></p> 
  <ul> 
   <li><i>prop1 and eVar1 for eventdata.a.media.name, </i></li> 
   <li><i>props2-4, along with eVar2 and eVar3 containing contentType (video) and segment (1:O:1-4) </i></li> 
   <li><i>event3 which was mapped to eventdata.events.a.media.view.</i></li> 
  </ul> 
  <img imageRotate="0" src="assets/chlimage_1-196.png" /> 
  <p><i>This is the <strong>third call</strong> made to Adobe Analytics:</i></p> 
  <ul> 
   <li><i>prop1 and eVar1 contain a.media.name; </i></li> 
   <li><i>event1 because a segment has been viewed<br /> </i></li> 
   <li><i>event2 sent with time played = 4</i></li> 
   <li><i>event11 sent because eventdata.events.milestone8 has been reached<br /> </i></li> 
   <li><i>prop2 to 4 are not sent (since eventdata.events.a.media.view was not triggered)<br /> </i></li> 
  </ul> 
  <h2>Non-Legacy Milestones</h2> 
  <p>The Non-Legacy Milestones method is similar to the Milestones method except milestones are defined using percentages of the track length. The commonalities are as follows:</p> 
  <ul> 
   <li>When a video playback passes a milestone, the page calls Adobe Analytics to track the event.</li> 
   <li>The <a href="#cqvars">static set of CQ variables</a> that are defined for mapping with Adobe Analytics properties.</li> 
   <li>For each milestone that you define, the component creates a CQ variable that you can map to a Adobe Analytics property.</li> 
  </ul> 
  <p>The name of these CQ variables use the following format:</p> 
  <p>The XX suffix is the percentage of track length that defines the milestone. For example, specifying percentages of 10, 25, 50, and 75 generates the following CQ variables:</p> 
  <ul> 
   <li><span class="code">eventdata.events.milestone10</span></li> 
   <li><span class="code">eventdata.events.milestone25</span></li> 
   <li><span class="code">eventdata.events.milestone50</span></li> 
   <li><span class="code">eventdata.events.milestone75</span></li> 
  </ul> 
  <codeblock class="syntax shell">
    eventdata.events.milestoneXX 
  </codeblock> 
  <ol> 
   <li><p>After selecting Non-Legacy Milestones as the tracking method, in the Track Offset box, enter a comma-separated list of percentages of track length. For example, the following default value defines milestones at 10, 25, 50 and 75 percent of the track length:</p> 
    <codeblock class="syntax xml">
      10,25,50,75 
    </codeblock><p>The offset values must be integers that are greater than 0.</p> </li> 
   <li><p>To map the CQ variables to Adobe Analytics properties, drag the Adobe Analytics properties from ContentFinder beside the CQ variable on the component.</p> <p>For information about optimizing the mappings, see the <a href="https://marketing.adobe.com/resources/help/en_US/sc/appmeasurement/hbvideo/video_overview.html">Measuring Video in Adobe Analytics</a> guide.</p> </li> 
   <li><p><a href="../../../sites/administering/using/adobeanalytics.md">Add the framework</a> to the page.</p> </li> 
   <li><p>To test the setup in <strong>Preview mode</strong>, play the video to get Adobe Analytics calls to trigger.</p> </li> 
  </ol> 
  <h2>Legacy Milestones</h2> 
  <p>This method is similar to the Milestones method with the difference that the milestones specified in the <i>Tracking offset</i> field are percentages instead of set points within the video.</p> 
  <note> 
   <p>The Tracking offset field only accepts a comma separated list containing whole numbers between 1 and 100.</p> 
  </note> 
  <ol> 
   <li><p>Set the Track offset.</p> 
    <ul> 
     <li>e.g.10,50,75,100</li> 
    </ul> <p>Also, the information sent to Adobe Analytics is less customizable; there are only 3 variables available for mapping:<br /> </p> 
    <table border="1" cellpadding="1" cellspacing="0" width="100%"> 
     <tbody> 
      <tr> 
       <td>eventdata.videoName <br /> </td> 
       <td>Variables mapped to this will contain the <strong>user-friendly</strong> name (<strong>Title</strong>) of the video if set in the DAM; if the Title is not set, the video's <strong>file name</strong> will be sent instead. Only sent once, at the beginning of playing a video.<br /> </td> 
      </tr> 
      <tr> 
       <td>eventdata.videoFileName </td> 
       <td>Variables mapped to this will contain the file’s name. Only sent once, at the beginning of playing a video.</td> 
      </tr> 
      <tr> 
       <td>eventdata.videoFilePath </td> 
       <td>Variable mapped to this will contain the file’s path on the server. Only sent once, at the beginning of playing a video.</td> 
      </tr> 
     </tbody> 
    </table> 
    <note> 
     <p>You can set a video's <strong>user friendly </strong>name by opening the video for editing in the DAM, and setting the <strong>Title </strong>metadata field to the desired name. You also need to Save the changes made when finished.<br /> </p> 
    </note></li> 
   <li><p>Map these variables to props 1 to 3</p> <p>The <strong>rest of the relevant information</strong> in the call will be sent concatinated into <strong>one</strong> variable named <strong>pev3</strong>.<br /> </p> <p><strong>Sample calls</strong> to Adobe Analytics using the example provided should look like this when viewed with DigitalPulse Debugger:<br /> </p> <img imageRotate="0" src="assets/lmilestones1.png" /> 
    <ul> 
     <li><i>Name</i> - The name of the video file (<i>film.avi</i>)</li> 
     <li><i>Length</i> - The length of the video file, in seconds (<i>100</i>)</li> 
     <li><i>Player Name</i> - The video player used to play the video file (<i>HTML5 video</i>)</li> 
     <li><i>Total Seconds Played</i> - The total number of seconds the video was played (<i>25</i>)</li> 
     <li><i>Start Timestamp</i> - Timestamp that identifies when the video play started (<i>1331035567</i>)</li> 
     <li><i>Play Session</i> - The details of the play session. This field indicates how the user interacted with the video. This might include data such as where they started playing the video, whether they used the video slider to advance the video, and where they stopped playing the video (<i>L10E24S58L58 - video was stopped at sec. 25 of section L10, then skipped to sec. 48</i>)</li> 
    </ul>  </li> 
  </ol> 
  <h2>Legacy seconds</h2> 
  <p>When using the<strong> legacy seconds</strong> method, Adobe Analytics calls get triggered every N-th second, where N is specified in the Track offset field.</p> 
  <ol> 
   <li><p>Set the Track offset to any number of seconds, </p> 
    <ul> 
     <li>e.g. 6</li> 
    </ul> 
    <note> 
     <p>The Tracking offset field only accepts whole numbers that are higher than 0</p> 
    </note><p>The information sent to Adobe Analytics is less customizable. There are only 3 variables available for mapping:</p> 
    <table border="1" cellpadding="1" cellspacing="0" width="100%"> 
     <tbody> 
      <tr> 
       <td>eventdata.videoName <br /> </td> 
       <td>Variables mapped to this will contain the <strong>user-friendly</strong> name (<strong>Title</strong>) of the video if set in the DAM; if the Title is not set, the video's <strong>file name</strong> will be sent instead. Only sent once, at the beginning of playing a video.<br /> </td> 
      </tr> 
      <tr> 
       <td>eventdata.videoFileName </td> 
       <td>Variable mapped to this will contain the file’s name. Only sent once, at the beginning of playing a video.</td> 
      </tr> 
      <tr> 
       <td>eventdata.videoFilePath </td> 
       <td>Variable mapped to this will contain the file’s path on the server. Only sent once, at the beginning of playing a video.</td> 
      </tr> 
     </tbody> 
    </table> 
    <note> 
     <p>You can set a video's <strong>user friendly </strong>name by opening the video for editing in the DAM, and setting the <strong>Title</strong> metadata field to the desired name. You also need to Save the changes made when finished.<br /> </p> 
    </note></li> 
   <li><p>Map these variables to prop1, prop2 and prop3</p> <p>The <strong>rest of the relevant information</strong> in the call will be sent concatinated into <strong>one</strong> variable named <strong>pev3</strong>.</p> <p>Calls to Adobe Analytics using the example provided should look like this when viewed with DigitalPulse Debugger:</p> <img imageRotate="0" src="assets/lseconds.png" /> </li> 
  </ol> 
  <p><strong>References used in this tutorial:</strong></p> 
  <p>[0] <a href="https://marketing.adobe.com/resources/help/en_US/sc/appmeasurement/hbvideo/video_overview.html">https://marketing.adobe.com/resources/help/en_US/sc/appmeasurement/hbvideo/video_overview.html</a></p>  
 </body> 
</html>