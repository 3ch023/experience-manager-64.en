<?xml version="1.1" encoding="UTF-8" standalone="yes"?> 
<html> 
 <head> 
  <meta content="Page Templates - Static" name="navTitle" /> 
  <meta content="A Template is used to create a Page and defines which components can be used within the selected scope" name="seoDescription" /> 
  <meta content="aheimoz@adobe.com" name="lr_lastReplicatedBy" /> 
  <meta content="/etc/designs/help" name="cq:designPath" /> 
  <meta content="b82931fc-0482-4988-91fa-fac0f4f413b9" name="jcr:predecessors" /> 
  <meta content="Page Templates - Static" name="seoTitle" /> 
  <meta content="en_us" name="jcr:language" /> 
  <meta content="" name="jcr:primaryType" /> 
  <meta content="mix:versionable" name="jcr:mixinTypes" /> 
  <meta content="2018-10-17T08:24:16.880-0400" name="cq:lastModified" /> 
  <meta content="admin" name="jcr:createdBy" /> 
  <meta content="true" name="jcr:isCheckedOut" /> 
  <meta content="" name="jcr:versionHistory" /> 
  <meta content="2018-07-25T08:31:31.097-0400" name="publishExternalDate" /> 
  <meta content="/apps/help/templates/article-3" name="cq:template" /> 
  <meta content="Guillaume Carlino" name="contentOwner" /> 
  <meta content="bohnert" name="cq:lastModifiedBy" /> 
  <meta content="" name="jcr:baseVersion" /> 
  <meta content="0c5062a0-f9ca-4b16-8f5f-a8903cc83104" name="jcr:uuid" /> 
  <meta content="Activate" name="cq:lastReplicationAction" /> 
  <meta content="2017-10-12T21:46:58.665-0400" name="qaDate" /> 
  <meta content="audience:developing" name="primaryAudienceTag" /> 
  <meta content="remove-legacypath-6-1" name="jcr:lastModifiedBy" /> 
  <meta content="2018-07-25T08:31:31.097-0400" name="lastPublishExternalDate" /> 
  <meta content="2017-10-12T21:46:58.665-0400" name="mwpw_migration_script_version" /> 
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/SITES" name="primaryProductTag" /> 
  <meta content="Page Templates - Static" name="jcr:title" /> 
  <meta content="jsyal" name="cq:lastReplicatedBy" /> 
  <meta content="2018-05-08T12:44:42.641-0400" name="locHandOffDate" /> 
  <meta content="2017-12-01T19:04:40.766-0500" name="jcr:created" /> 
  <meta content="2017-10-31T16:16:22.294-0400" name="firstPublishExternalDate" /> 
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/SITES;topic_tags:platform;content_type:reference" name="cq:tags" /> 
  <meta content="/content/help/en/experience-manager/6-4/sites/developing/morehelp/platform;/content/help/en/experience-manager/6-4/sites/developing/morehelp/platform" name="moreHelpPaths" /> 
  <meta content="/content/docs/en/aem/6-3/develop/templates/page-templates-static" name="qaNotes" /> 
  <meta content="2018-07-25T08:31:31.097-0400" name="topicBrowsingSortDate" /> 
  <meta content="help/components/pages/article-3" name="sling:resourceType" /> 
  <meta content="false" name="isReadyForLocalization" /> 
  <meta content="2018-10-27T23:47:37.585-0400" name="cq:lastReplicated" /> 
  <meta content="https://helpx.adobe.com/experience-manager/6-4/sites/developing/using/page-templates-static.html" name="publishExternalURL" /> 
 </head> 
 <body> 
  <p>A Template is used to create a Page and defines which components can be used within the selected scope. A template is a hierarchy of nodes that has the same structure as the page to be created, but without any actual content.</p> 
  <p>Each Template will present you with a selection of components available for use.</p> 
  <ul> 
   <li>Templates are built up of <a href="../../../sites/developing/using/components.md">Components</a>;</li> 
   <li>Components use, and allow access to, Widgets and these are used to render the Content.</li> 
  </ul> 
  <note> 
   <p><a href="../../../sites/developing/using/page-templates-editable.md">Editable templates</a> are also available and are the recommended type of templates for most flexibility and the newest features.<br /> </p> 
  </note> 
  <h3>Properties and Child Nodes of a Template</h3> 
  <p>A template is a node of type cq:Template and has the following properties and child nodes:</p> 
  <table border="1" cellpadding="1" cellspacing="0" columns="3" header="none" width="400"> 
   <tbody> 
    <tr> 
     <td><strong>Name <br /> </strong></td> 
     <td><strong>Type <br /> </strong></td> 
     <td><strong>Description <br /> </strong></td> 
    </tr> 
    <tr> 
     <td>. <br /> </td> 
     <td> cq:Template</td> 
     <td>Current template. A template is of node type cq:Template.<br /> </td> 
    </tr> 
    <tr> 
     <td> allowedChildren </td> 
     <td> String[]</td> 
     <td>Path of a template that is allowed to be a child of this template.<br /> </td> 
    </tr> 
    <tr> 
     <td> allowedParents</td> 
     <td> String[]</td> 
     <td>Path of a template that is allowed to be a parent of this template.<br /> </td> 
    </tr> 
    <tr> 
     <td> allowedPaths</td> 
     <td> String[]</td> 
     <td>Path of a page that is allowed to be based on this template.<br /> </td> 
    </tr> 
    <tr> 
     <td> jcr:created</td> 
     <td> Date</td> 
     <td>Date of creation of the template.<br /> </td> 
    </tr> 
    <tr> 
     <td> jcr:description</td> 
     <td> String</td> 
     <td>Description of the template.<br /> </td> 
    </tr> 
    <tr> 
     <td> jcr:title</td> 
     <td> String</td> 
     <td>Title of the template.<br /> </td> 
    </tr> 
    <tr> 
     <td> ranking</td> 
     <td> Long</td> 
     <td>Rank of the template. Used to display the template in the User Interface.<br /> </td> 
    </tr> 
    <tr> 
     <td> jcr:content</td> 
     <td> cq:PageContent</td> 
     <td>Node containing the content of the template.<br /> </td> 
    </tr> 
    <tr> 
     <td> thumbnail.png</td> 
     <td> nt:file</td> 
     <td>Thumbnail of the template.<br /> </td> 
    </tr> 
    <tr> 
     <td> icon.png</td> 
     <td> nt:file</td> 
     <td>Icon of the template.<br /> </td> 
    </tr> 
   </tbody> 
  </table> 
  <p>A template is the basis of a page.</p> 
  <p>To create a page, the template must be copied (node-tree <span class="code">/apps/&amp;lt;myapp&amp;gt;/template/&amp;lt;mytemplate&amp;gt;</span>) to the corresponding position in the site-tree: this is what happens if a page is created using the <strong>Websites</strong> tab.</p> 
  <p>This copy action also gives the page its initial content (usually Top-Level Content only) and the property sling:resourceType, the path to the page component that is used to render the page (everything in the child node jcr:content).</p> 
  <h2>How Templates are structured</h2> 
  <p>There are two aspects to be considered:</p> 
  <ul> 
   <li><p>the structure of the template itself</p> </li> 
   <li><p>the structure of the content produced when a template is used</p> </li> 
  </ul> 
  <h3>The structure of a Template</h3> 
  <p>A Template is created under a node of type <strong>cq:Template</strong>.</p> 
  <img imageRotate="0" src="assets/screen_shot_2012-02-13at63646pm.png" /> 
  <p>Various properties can be set, in particular:</p> 
  <ul> 
   <li><p><strong>jcr:title</strong> - title for the template; appears in the dialog when creating a page.</p> </li> 
   <li><p><strong>jcr:description</strong> - description for the template; appears in the dialog when creating a page.</p> </li> 
  </ul> 
  <p>This node contains a jcr:content (cq:PageContent) node which be used as the basis for the content node of resulting pages; this references, using sling:resourceType, the component to be used for rendering the actual content of a new page.</p> 
  <img imageRotate="0" src="assets/screen_shot_2012-02-13at64010pm.png" /> 
  <p>This component is used to define the structure and design of the content when a new page is created.</p> 
  <img imageRotate="0" src="assets/screen_shot_2012-02-13at64137pm.png" /> 
  <h3>The content produced by a Template</h3> 
  <p>Templates are used to create pages of type <span class="code">cq:Page</span> (as mentioned earlier, a page is a special type of component). Each AEM Page has a structured node <span class="code">jcr:content</span>. This:</p> 
  <ul> 
   <li><p>is of type cq:PageContent</p> </li> 
   <li><p>is a structured node-type holding a defined content-definition</p> </li> 
   <li><p>has a property <span class="code">sling:resourceType</span> to reference the component holding the sling scripts used for rendering the content</p> </li> 
  </ul> 
  <h3>Default Templates</h3> 
  <p>AEM comes with a number of default templates available out of the box. In some cases, you may want to use the templates as is. In that case, you need to ensure that the template is available for your web site.</p> 
  <p>For example, AEM comes with several templates including a contentpage and home page.</p> 
  <table border="1" cellpadding="1" cellspacing="0" width="100%"> 
   <tbody> 
    <tr> 
     <td><strong>Title</strong></td> 
     <td><strong>Component</strong></td> 
     <td><strong>Location</strong></td> 
     <td><strong>Purpose</strong></td> 
    </tr> 
    <tr> 
     <td>Home Page</td> 
     <td>homepage</td> 
     <td>geometrixx</td> 
     <td>The Geometrixx home page template.</td> 
    </tr> 
    <tr> 
     <td>Content Page</td> 
     <td>contentpage</td> 
     <td>geometrixx</td> 
     <td>The Geometrixx content page template.</td> 
    </tr> 
   </tbody> 
  </table> 
  <h4>Displaying Default Templates</h4> 
  <p>To see a list of all templates in the repository, proceed as follows:</p> 
  <ol> 
   <li>In CRXDE Lite, open the <strong>Tools</strong> menu and click <strong>Query</strong>.</li> 
   <li>In the Query tab<br /> </li> 
   <li>As <strong>Type</strong>, select <strong>XPath</strong>.</li> 
   <li>In the <strong>Query</strong> input field, enter following string:<br /> //element(*, cq:Template)</li> 
   <li>Click <strong>Execute</strong>. The list is displayed in the result box.</li> 
  </ol> 
  <p>In most cases, you will take an existing template and develop a new one for your own use. See <a href="#developingpagetemplates">Developing Page Templates</a> for more information.</p> 
  <p>To enable an existing template for your website and you want it to be displayed in the <strong>Create Page</strong> dialog when creating a page right under <strong>Websites</strong> from the <strong>Websites</strong> console, set the allowedPaths property of the template node to: <strong>/content(/.*)?</strong></p> 
  <h2>How Template Designs are Applied</h2>  
  <p>When styles are defined in the UI using <a href="../../../sites/authoring/using/default-components-designmode.md">Design Mode</a>, the design is persisted at the exact path of the content node for which the style is being defined.</p> 
  <note> 
   <p>Adobe recommends only applying designs through <a href="../../../sites/authoring/using/default-components-designmode.md">Design Mode</a>.</p> 
   <p>Modifying designs in CRX DE for example is not best practice and the application of such designs can vary from expected behavior.</p> 
  </note> 
  <p>If designs are only applied using Design Mode, then the following sections, <a href="../../../sites/developing/using/page-templates-static.md#main-pars-header-2012439475">Design Path Resolution</a>, <a href="../../../sites/developing/using/page-templates-static.md#main-pars-header-927666231">Decision Tree</a>, and the <a href="../../../sites/developing/using/page-templates-static.md#main-pars-header-1217991144">Example</a> are not applicable.<br /> </p> 
  <note> 
   <p>This section describes design path resolution behavior as of AEM 6.4.2.0.<br /> </p> 
  </note> 
  <h3>Design Path Resolution</h3> 
  <p>When rendering content based on a static template, AEM will attempt to apply the most relevant design and styles to the content based on a traversal of the content hierarchy.<br /> </p> 
  <p>AEM determines the most relevant style for a content node in the following order:</p> 
  <ul> 
   <li>If there is a design for the full and exact path of the content node (as when the design is defined in Design Mode), then use that design.<br /> </li> 
   <li>If there is a design for the content node of the parent, then use that design.</li> 
   <li>If there is a design for any node on the path of the content node, then use that design.</li> 
  </ul> 
  <p>In the last two cases, if there is more than one applicable design, use the one closest to the content node. </p> 
  <h3>Decision Tree</h3> 
  <p>This is a graphical representation of the <a href="../../../sites/developing/using/page-templates-static.md#main-pars-header-2012439475">Design Path Resolution</a> logic.<br /> </p> 
  <img imageRotate="0" src="assets/design_path_resolution.png" /> 
  <h3>Example</h3> 
  <p>Consider a simple content structure as follows, where a design could apply to any of the nodes:</p> 
  <p><span class="code">/root/branch/leaf</span></p> 
  <p>The following table describes how AEM will choose a design.</p> 
  <table border="1" cellpadding="1" cellspacing="0" width="100%"> 
   <tbody> 
    <tr> 
     <td><strong>Finding Design For<br /> </strong></td> 
     <td><strong>Designs Exist For<br /> </strong></td> 
     <td><strong>Design Chosen<br /> </strong></td> 
     <td><strong>Comment</strong></td> 
    </tr> 
    <tr> 
     <td><code class="code">leaf
       <discoiqbr /> </code></td> 
     <td><p><span class="code">root</span></p> <p><span class="code">branch</span></p> <p><span class="code">leaf</span></p> </td> 
     <td><span class="code">leaf</span></td> 
     <td>The most exact match is always taken.<br /> </td> 
    </tr> 
    <tr> 
     <td><span class="code">leaf</span></td> 
     <td><p><span class="code">root</span></p> <p><span class="code">branch</span></p> </td> 
     <td><span class="code">branch</span></td> 
     <td>Fall back to the closest match lower in the tree.</td> 
    </tr> 
    <tr> 
     <td><span class="code">leaf</span></td> 
     <td><span class="code">root</span></td> 
     <td><span class="code">root</span></td> 
     <td>If all else fails, take what's remaining.<br /> </td> 
    </tr> 
    <tr> 
     <td><span class="code">branch</span></td> 
     <td><span class="code">branch</span></td> 
     <td><span class="code">branch</span></td> 
     <td> </td> 
    </tr> 
    <tr> 
     <td><span class="code">branch</span></td> 
     <td><p><span class="code">branch</span></p> <p><code class="code">leaf
        <discoiqbr /> </code></p> </td> 
     <td><span class="code">branch</span></td> 
     <td> </td> 
    </tr> 
    <tr> 
     <td><span class="code">branch</span></td> 
     <td><p><span class="code">root</span></p> <p><code class="code">branch
        <discoiqbr /> </code></p> </td> 
     <td><span class="code">branch</span></td> 
     <td> </td> 
    </tr> 
    <tr> 
     <td><span class="code">branch</span></td> 
     <td><p><span class="code">root</span></p> <p><code class="code">leaf
        <discoiqbr /> </code></p> </td> 
     <td><span class="code">root</span></td> 
     <td><p>If there is not an exact match, take the one lower in the tree.</p> <p>The assumption is that this will always be applicable, but further up the tree can be too specific.<br /> </p> </td> 
    </tr> 
   </tbody> 
  </table> 
  <h2>Developing Page Templates</h2> 
  <p>AEM page templates are simply models used to create new pages. They can contain as little, or as much, initial content as needed, their role being to create the correct initial node structures, with the required properties (primarily sling:resourceType) set to allow editing and rendering.</p> 
  <h3>Creating a new Template (based on an existing template)</h3> 
  <p>Needless to say a new template can be created completely from scratch, but often an existing template will be copied and updated to save you time and effort. For example, the templates within Geometrixx can be used to get you started.</p> 
  <p>To create a new template based on an existing template:</p> 
  <ol> 
   <li><p>Copy an existing template (preferably with a definition as close as possible to what you want to achieve) to a new node.</p> <p>Templates are usually stored in <strong>/apps/&amp;lt;website-name&amp;gt;/templates/&amp;lt;template-name&amp;gt;</strong>.</p> 
    <note> 
     <p>The list of available templates depends on the location of the new page and the restrictions on placement specified in each template. See <a href="#templateavailibility">Template Availability</a>.</p> 
    </note></li> 
   <li><p>Change the <strong>jcr:title</strong> of the new template node to reflect its new role. You can also update the <strong>jcr:description</strong> if appropriate. Be sure to change the template availability of the page as appropriate.</p> 
    <note> 
     <p>If you want your template to be displayed in the <strong>Create Page</strong> dialog when creating a page right under <strong>Websites</strong> from the <strong>Websites</strong> console, set the <span class="code">allowedPaths</span> property of the template node to: <span class="code">/content(/.*)?</span></p> 
    </note><img imageRotate="0" src="assets/chlimage_1-263.png" /></li> 
   <li><p>Copy the component on which the template is based (this is indicated by the <strong>sling:resourceType</strong> property of the <strong>jcr:content</strong> node within the template) to create a new instance.</p> <p>Components are usually stored in <strong>/apps/&amp;lt;website-name&amp;gt;/components/&amp;lt;component-name&amp;gt;</strong>.</p> </li> 
   <li><p>Update the <strong>jcr:title</strong> and <strong>jcr:description</strong> of the new component.</p>  </li> 
   <li><p>Replace the thumbnail.png if you want a new thumbnail picture to be shown in the template selection list (size 128 x 98 px).</p>  </li> 
   <li><p>Update the <strong>sling:resourceType</strong> of the template's <strong>jcr:content</strong> node to reference the new component.</p>  </li> 
   <li><p>Make any further changes to the functionality or design of the template and/or its underlying component.</p> 
    <note> 
     <p>Changes made to the <strong>/apps/&amp;lt;website&amp;gt;/templates/&amp;lt;template-name&amp;gt;</strong> node will affect the template instance (as in the selection list).</p> 
     <p>Changes made to the <strong>/apps/&amp;lt;website&amp;gt;/components/&amp;lt;component-name&amp;gt;</strong> node will affect the content page created when the template is used.</p> 
    </note><p>You can now create a page within your website using the new template.</p> </li> 
  </ol> 
  <note> 
   <p>The editor client library assumes the presence of the <span class="code">cq.shared</span> namespace in content pages, and if it is absent the JavaScript error <span class="code">Uncaught TypeError: Cannot read property 'shared' of undefined</span> will result.</p> 
   <p>All sample content pages contain <span class="code">cq.shared</span>, so any content based on them automatically includes <span class="code">cq.shared</span>. However, if you decide to create your own content pages from scratch without basing them on sample content, you must make sure to include the <span class="code">cq.shared</span> namespace.</p> 
   <p>See <a href="../../../sites/developing/using/clientlibs.md">Using Client-Side Libraries</a> for further information.</p> 
  </note> 
  <h2>Making an Existing Template Available</h2> 
  <p>This example illustrates how to allow a template to be used for certain content paths. The templates that are available to the page author when creating new pages are determined by the logic defined in <a href="../../../sites/developing/using/templates.md#main-pars-title-1885710792">Template Availability</a>.</p> 
  <ol> 
   <li><p>In CRXDE Lite, navigate to the template you want to use for your page, for example, the Newsletter template.</p> </li> 
   <li><p>Change the <span class="code">allowedPaths</span> property and other properties used for <a href="../../../sites/developing/using/templates.md#main-pars-title-1885710792">template availabillity</a>. For example, <span class="code">allowedPaths</span>: <span class="code">/content/geometrixx-outdoors/[^/]+(/.*)?</span> means that this template is allowed in any path under <span class="code">/content/geometrixx-outdoors</span>.</p> <img imageRotate="0" src="assets/chlimage_1-264.png" /></li> 
  </ol> 
 </body> 
</html>