<?xml version="1.1" encoding="UTF-8" standalone="yes"?> 
<html> 
 <head> 
  <meta content="Responsive Design for Web Pages" name="seoTitle" /> 
  <meta content="trushton" name="cq:lastModifiedBy" /> 
  <meta content="2018-05-04T05:19:05.724-0400" name="cq:lastReplicated" /> 
  <meta content="false" name="isReadyForLocalization" /> 
  <meta content="Guillaume Carlino" name="contentOwner" /> 
  <meta content="/content/docs/en/aem/6-3/develop/mobile-web/responsive" name="qaNotes" /> 
  <meta content="Activate" name="cq:lastReplicationAction" /> 
  <meta content="help/components/pages/article-3" name="sling:resourceType" /> 
  <meta content="true" name="jcr:isCheckedOut" /> 
  <meta content="/etc/designs/help" name="cq:designPath" /> 
  <meta content="audience:developing" name="primaryAudienceTag" /> 
  <meta content="1415f200-a89d-4e84-b9ff-a016b30ea874" name="jcr:uuid" /> 
  <meta content="/content/docs/en/aem/6-0/develop/mobile/responsive" name="legacyPath" /> 
  <meta content="2017-10-12T21:46:58.665-0400" name="mwpw_migration_script_version" /> 
  <meta content="https://helpx.adobe.com/experience-manager/6-3/sites/developing/using/responsive.html" name="publishExternalURL" /> 
  <meta content="2017-10-31T16:16:19.487-0400" name="publishExternalDate" /> 
  <meta content="" name="jcr:versionHistory" /> 
  <meta content="2018-05-08T12:44:54.443-0400" name="cq:lastModified" /> 
  <meta content="Responsive Design for Web Pages" name="navTitle" /> 
  <meta content="" name="jcr:primaryType" /> 
  <meta content="/apps/help/templates/article-3" name="cq:template" /> 
  <meta content="admin" name="jcr:createdBy" /> 
  <meta content="en_us" name="jcr:language" /> 
  <meta content="" name="jcr:baseVersion" /> 
  <meta content="2017-10-31T16:16:19.487-0400" name="topicBrowsingSortDate" /> 
  <meta content="2017-10-31T16:16:19.487-0400" name="firstPublishExternalDate" /> 
  <meta content="With responsive design, the same pages can be effectively displayed on multiple devices in multiple orientations" name="seoDescription" /> 
  <meta content="remove-legacypath-6-1" name="jcr:lastModifiedBy" /> 
  <meta content="/content/help/en/experience-manager/6-4/sites/developing/morehelp/mobile-web;/content/help/en/experience-manager/6-4/sites/developing/morehelp/mobile-web" name="moreHelpPaths" /> 
  <meta content="bohnert" name="cq:lastReplicatedBy" /> 
  <meta content="9c014b3a-9848-4363-abd6-f2a5d46cf1bb" name="jcr:predecessors" /> 
  <meta content="Responsive Design for Web Pages" name="jcr:title" /> 
  <meta content="2017-10-31T16:16:19.487-0400" name="lastPublishExternalDate" /> 
  <meta content="2018-05-08T12:44:54.441-0400" name="locHandOffDate" /> 
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/SITES;topic_tags:mobile-web;content_type:reference" name="cq:tags" /> 
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/SITES" name="primaryProductTag" /> 
  <meta content="mix:versionable" name="jcr:mixinTypes" /> 
  <meta content="2017-12-01T19:05:36.175-0500" name="jcr:created" /> 
  <meta content="2017-10-12T21:46:58.665-0400" name="qaDate" /> 
  <meta content="wmyersta@adobe.com" name="lr_lastReplicatedBy" /> 
 </head> 
 <body> 
  <note> 
   <p>Adobe recommends using the SPA Editor for projects that require single page application framework-based client-side rendering (e.g. React). <a href="../../../sites/developing/using/spa-overview.md">Learn more</a>.</p> 
  </note> 
  <p>Design your web pages so that they adapt to the client viewport in which they are displayed. With responsive design, the same pages can be effectively displayed on multiple devices in both orientations. The following image demonstrates some ways in which a page can respond to changes in viewport size:</p> 
  <ul> 
   <li>Layout: Use single-column layouts for smaller viewports, and multiple-column layouts for larger viewports.</li> 
   <li>Text size: Use larger text size (when appropriate, such as headings) in larger viewports.</li> 
   <li>Content: Include only the most important content when displaying on smaller devices.</li> 
   <li>Navigation: Device-specific tools are provided for accessing other pages. </li> 
   <li>Images: Serving image renditions that are appropriate for the client viewport. according to the window dimensions.</li> 
  </ul> 
  <img imageRotate="0" src="assets/chlimage_1-5.png" /> 
  <p>Develop Adobe Experience Manager (AEM) applications that generate HTML5 pages that adapt to multiple window sizes and orientations. For example, the following ranges of viewport widths correspond with various device types and orientations</p> 
  <ul> 
   <li>Maximum width of 480 pixels (phone, portrait)</li> 
   <li>Maximum width of 767 pixels (phone, landscape)</li> 
   <li>Width between 768 pixels and 979 pixels (tablet, portrait)</li> 
   <li>Width between 980 pixels and 1199 pixels (tablet, landscape) </li> 
   <li>Width of 1200px or greater (desktop)</li> 
  </ul> 
  <p>See the following topics for information about implementing responsive design behavior: </p> 
  <ul> 
   <li><a href="../../../sites/developing/using/responsive.md#usingmediaqueries">Media queries</a></li> 
   <li><a href="../../../sites/developing/using/responsive.md#developingafluidgrid">Fluid grids</a></li> 
   <li><a href="../../../sites/developing/using/responsive.md#usingadaptiveimages">Adaptive images</a></li> 
  </ul> 
  <p>As you design, use Sidekick to preview your pages for various screen sizes.</p> 
  <h3>Before you Develop</h3> 
  <p>Before you develop the AEM application that supports your web pages, several design decisions should be made. For example, you need to have the following information:</p> 
  <ul> 
   <li>The devices you are targeting.</li> 
   <li>The target viewport sizes.</li> 
   <li>The page layouts for each of the targeted viewport size. </li> 
  </ul> 
  <h3>Application Structure</h3> 
  <p>The typical AEM application structure supports all responsive design implementations:</p> 
  <ul> 
   <li>Page components reside below /apps/<i>application_name</i>/components</li> 
   <li>Templates reside below /apps/<i>application_name</i>/templates</li> 
   <li>Designs reside below /etc/designs</li> 
  </ul> 
  <h2>Using Media Queries</h2> 
  <p>Media queries enable the selective use of CSS styles for page rendering. AEM development tools and features enable you to effectively and efficiently implement media queries in your applications.</p> 
  <p>The W3C group provides the <a href="http://www.w3.org/TR/css3-mediaqueries/">Media Queries</a> recommendation that describes this CSS3 feature and the syntax.</p> 
  <h3>Creating the CSS File</h3> 
  <p>In your CSS file, define media queries based on the properties of the devices that you are targeting. The following implementation strategy is effective for managing styles for each media query:</p> 
  <ul> 
   <li>Use a ClientLibraryFolder to define the CSS that is assembled when the page is rendered.</li> 
   <li>Define each media query and the associated styles in separate CSS files. It is useful to use file names that represent the device features of the media query.</li> 
   <li>Define styles that are common to all devices in a separate CSS file.</li> 
   <li>In the css.txt file of the ClientLibraryFolder, order the list CSS files as is required in the assembled CSS file. </li> 
  </ul> 
  <p>The We.Retail Media sample uses this strategy to define styles in the site design. The CSS file used by We.Retail is located at <i>/apps/weretail/clientlibs/clientlib-site/less/grid.less.</i></p> 
  <p>The following table lists the files in the css child folder.</p> 
  <table border="1" cellpadding="1" cellspacing="0" width="100%"> 
   <tbody> 
    <tr> 
     <th>File name</th> 
     <th>Description</th> 
     <th>Media Query</th> 
    </tr> 
    <tr> 
     <td>style.css</td> 
     <td>Common styles.</td> 
     <td>N/A</td> 
    </tr> 
    <tr> 
     <td>bootstrap.css</td> 
     <td>Common styles, defined by Twitter Bootstrap.</td> 
     <td>N/A</td> 
    </tr> 
    <tr> 
     <td>responsive-1200px.css</td> 
     <td>Styles for all media that are 1200 pixels wide or wider.</td> 
     <td><p>@media (min-width: 1200px) {<br /> ...<br /> }</p> </td> 
    </tr> 
    <tr> 
     <td>responsive-980px-1199px.css</td> 
     <td>Styles for media that are between 980 pixels and 1199 pixels wide.</td> 
     <td><p>@media (min-width: 980px) and (max-width: 1199px) {<br /> ...<br /> }</p> </td> 
    </tr> 
    <tr> 
     <td>responsive-768px-979px.css</td> 
     <td>Styles for media that are between 768 pixels and 979 pixels wide. </td> 
     <td><p>@media (min-width: 768px) and (max-width: 979px) {<br /> ...<br /> }</p> </td> 
    </tr> 
    <tr> 
     <td>responsive-767px-max.css</td> 
     <td>Styles for all media that are less than 768 pixels wide.</td> 
     <td><p>@media (max-width: 767px) {<br /> ...<br /> }</p> </td> 
    </tr> 
    <tr> 
     <td>responsive-480px.css</td> 
     <td>Styles for all media that are less than 481 pixels wide.</td> 
     <td>@media (max-width: 480) {<br /> ...<br /> }</td> 
    </tr> 
   </tbody> 
  </table> 
  <p>The css.txt file in the /etc/designs/weretail/clientlibs folder lists the CSS files that the client library folder includes. The order of the files implements style precedence. Styles are more specific as the device size decreases.</p> 
  <p><span class="code">#base=css</span></p> 
  <p><code class="code">style.css
    <discoiqbr /> bootstrap.css</code></p> 
  <p><code class="code">responsive-1200px.css
    <discoiqbr /> responsive-980px-1199px.css
    <discoiqbr /> responsive-768px-979px.css
    <discoiqbr /> responsive-767px-max.css
    <discoiqbr /> responsive-480px.css</code></p> 
  <p><strong>Tip</strong>: Descriptive file names enable you to easily identify the targeted viewport size.</p> 
  <h3>Using Media Queries with AEM Pages</h3> 
  <p>Include the client library folder in the JSP script of your page component to generate the CSS file that includes the media queries, and to reference the file. </p> 
  <codeblock class="syntax xml">
    &lt;ui:includeClientLib&amp;nbsp;categories="apps.weretail.all"/&gt; 
  </codeblock> 
  <p><strong>Note: </strong>the apps.weretail.all client library folder embeds the clientlibs library.</p> 
  <p>The JSP script generates the following HTML code that references the style sheets:</p> 
  <codeblock class="syntax xml">
    &lt;link&amp;nbsp;rel="stylesheet"&amp;nbsp;href="/etc/designs/weretail/clientlibs-all.css"&amp;nbsp;type="text/css"&gt;!!discoiqbr!!&lt;link&amp;nbsp;href="/etc/designs/weretail.css"&amp;nbsp;rel="stylesheet"&amp;nbsp;type="text/css"&gt; 
  </codeblock> 
  <h2>Previewing for Specific Devices</h2> 
  <p>See previews of your pages in different viewport sizes to test the behavior of your responsive design. In Preview mode, Sidekick includes a Devices drop-down menu that you use to select a device. When you select a device, the page changes to adapt to the viewport size.</p> 
  <img imageRotate="0" src="assets/chlimage_1-6.png" /> 
  <p>To enable the device preview in Sidekick, you must configure the page and the MobileEmulatorProvider service. Another page configuration controls the list of devices that appears in the Devices list.</p> 
  <h3>Adding the Devices List</h3>   
  <p>The Devices list appears in Sidekick when your page includes the JSP script that renders the Devices list. To add the Devices list to Sidekick, include the <span class="code">/libs/wcm/mobile/components/simulator/simulator.jsp</span> script in the <span class="code">head</span> section of your page.</p> 
  <p>Include the following code in the JSP that defines the <span class="code">head</span> section:</p> 
  <p><span class="code">&amp;lt;cq:include script="/libs/wcm/mobile/components/simulator/simulator.jsp"/&amp;gt;</span></p> 
  <p>To see an example, open the /apps/weretail/components/page/head.jsp file in CRXDE Lite.</p> 
  <h3>Registering Page Components for Simulation</h3> 
  <p>To enable the device simulator to support your pages, register your page components with the MobileEmulatorProvider factory service and define the <span class="code">mobile.resourceTypes</span> property.</p> 
  <p>When working with AEM there are several methods of managing the configuration settings for such services; see <a href="../../../sites/deploying/using/configuring-osgi.md">Configuring OSGi</a> for full details.</p> 
  <p>For example, to create a <span class="code"><a href="../../../sites/deploying/using/configuring-osgi.md#main-pars-title-3">sling:OsgiConfig</a></span> node in your application:</p> 
  <ul> 
   <li>Parent folder: <span class="code">/apps/application_name/config</span></li> 
   <li>Name: <span class="code">com.day.cq.wcm.mobile.core.impl.MobileEmulatorProvider-<i>alias</i></span><br /> The -<span class="code"><i>alias</i></span> suffix is required because the MobileEmulatorProvider service is a factory service. Use any alias that is unique for this factory.</li> 
   <li>jcr:primaryType: <span class="code">sling:OsgiConfig</span></li> 
  </ul> 
  <p>Add the following node property:</p> 
  <ul> 
   <li>Name: <span class="code">mobile.resourceTypes</span></li> 
   <li>Type: <span class="code">String[]</span></li> 
   <li>Value: The paths to the page components that render your web pages. For example, the geometrixx-media app uses the following values:<br /> <code class="code">geometrixx-media/components/page
     <discoiqbr /> geometrixx-unlimited/components/pages/page
     <discoiqbr /> geometrixx-unlimited/components/pages/coverpage
     <discoiqbr /> geometrixx-unlimited/components/pages/issue</code></li> 
  </ul> 
  <h3>Specifying the Device Groups</h3> 
  <p>To specify the device groups that appear in the Devices list, add a <span class="code">cq:deviceGroups</span> property to the <span class="code">jcr:content</span> node of the root page of your site. The value of the property is an array of paths to the device group nodes.</p> 
  <p>Device group nodes are located in the <span class="code">/etc/mobile/groups</span> folder. </p> 
  <p>For example, the root page of the Geometrixx Media site is <span class="code">/content/geometrixx-media</span>. The <span class="code">/content/geometrixx-media/jcr:content</span> node includes the following property:</p> 
  <ul> 
   <li>Name: <span class="code">cq:deviceGroups</span></li> 
   <li>Type: <span class="code">String[]</span></li> 
   <li>Value: <span class="code">/etc/mobile/groups/responsive</span></li> 
  </ul> 
  <p>Use the Tools conosole to <a href="../../../sites/developing/using/groupfilters.md">create and edit device groups</a>.</p> 
  <note> 
   <p>For device groups that you use for responsive design, edit the device group and on the General tab select Disable Emulator. This option prevents the emulator carousel from appearing, which is not relevent to responsive design.</p> 
  </note> 
  <h2>Using Adaptive Images</h2> 
  <p>You can use media queries to select an image resource to display in the page. However, every resource that uses a media query to conditionalize its use is downloaded to the client. The media query merely determines whether the downloaded resource is displayed.</p> 
  <p>For large resources such as images, downloading all resources is not an efficient use of the client's data pipeline. To selectively download resources, use javascript to initiate the resource request after the media queries perform the selection.</p> 
  <p>The following strategy loads a single resource that is chosen using media queries:</p> 
  <ol> 
   <li>Add a DIV element for each version of the resource. Include the URI of the resource as the value of an attribute value. The browser does not interpret the attribute as a resource.</li> 
   <li>Add a media query to each DIV element that is appropriate for the resource.</li> 
   <li>When the document loads or the window is resized, javascript code tests the media query of each DIV element.</li> 
   <li>Based on the results of the queries, determine which resource to include.</li> 
   <li>Insert an HTML element in the DOM that references the resource.</li> 
  </ol> 
  <h4>Evaluating Media Queries using javascript</h4> 
  <p>Implementations of the <a href="http://dev.w3.org/csswg/cssom-view/#the-mediaquerylist-interface">MediaQueryList interface</a> that the W3C defines enable you to evaluate media queries using javascript. You can apply logic to the media query results and execute scripts that are targeted for the current window:</p> 
  <ul> 
   <li>Browsers that implement the MediaQueryList interface support the <span class="code">window.matchMedia()</span> function. This function tests media queries against a given string. The function returns a <span class="code">MediaQueryList</span> object that provides access to the query results.</li> 
   <li>For browsers that do not implement the interface, you can use a <span class="code">matchMedia()</span> polyfill, such as <a href="https://github.com/paulirish/matchMedia.js">matchMedia.js</a>, a freely-available javascript library. </li> 
  </ul> 
  <h4>Selecting Media-Specific Resources</h4> 
  <p>The W3C-proposed <a href="http://picture.responsiveimages.org/">picture element</a> uses media queries to determine the source to use for image elements. The picture element uses element attributes to assocate media queries with image paths. </p> 
  <p>The freely-available <a href="https://github.com/scottjehl/picturefill">picturefill.js library</a> provides similar functionality as the proposed <span class="code">picture</span> element, and uses a similar strategy. The picturefill.js library calls <span class="code">window.matchMedia</span> to evaluate the media queries that are defined for a set of <span class="code">div</span> elements. Each <span class="code">div</span> element also specifies an image source. The source is used when the media query of the <span class="code">div</span> element returns <span class="code">true</span>.</p> 
  <p>The picturefill.js library requires HTML code that is similar to the following example:</p> 
  <codeblock class="syntax xml">
    &lt;div&amp;nbsp;data-picture&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;div&amp;nbsp;data-src='path&amp;nbsp;to&amp;nbsp;default&amp;nbsp;image'&gt;&lt;/div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;div&amp;nbsp;data-src='path&amp;nbsp;to&amp;nbsp;small&amp;nbsp;image'&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;data-media="(media&amp;nbsp;query&amp;nbsp;for&amp;nbsp;phone)"&gt;&lt;/div&gt;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;div&amp;nbsp;data-src='path&amp;nbsp;to&amp;nbsp;medium&amp;nbsp;image'&amp;nbsp;&amp;nbsp;&amp;nbsp;data-media="(media&amp;nbsp;query&amp;nbsp;for&amp;nbsp;tablet)"&gt;&lt;/div&gt;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;div&amp;nbsp;data-src='path&amp;nbsp;to&amp;nbsp;large&amp;nbsp;image'&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;data-media="(media&amp;nbsp;query&amp;nbsp;for&amp;nbsp;monitor)"&gt;&lt;/div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&lt;/div&gt; 
  </codeblock> 
  <p>When the page is rendered, picturefull.js inserts an <span class="code">img</span> element as the last child of the <span class="code">&amp;lt;div data-picture&amp;gt;</span> element:</p> 
  <codeblock class="syntax xml">
    &lt;div&amp;nbsp;data-picture&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;div&amp;nbsp;data-src='path&amp;nbsp;to&amp;nbsp;default&amp;nbsp;image'&gt;&lt;/div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;div&amp;nbsp;data-src='path&amp;nbsp;to&amp;nbsp;small&amp;nbsp;image'&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;data-media="(media&amp;nbsp;query&amp;nbsp;for&amp;nbsp;phone)"&gt;&lt;/div&gt;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;div&amp;nbsp;data-src='path&amp;nbsp;to&amp;nbsp;medium&amp;nbsp;image'&amp;nbsp;&amp;nbsp;&amp;nbsp;data-media="(media&amp;nbsp;query&amp;nbsp;for&amp;nbsp;tablet)"&gt;&lt;/div&gt;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;div&amp;nbsp;data-src='path&amp;nbsp;to&amp;nbsp;large&amp;nbsp;image'&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;data-media="(media&amp;nbsp;query&amp;nbsp;for&amp;nbsp;monitor)"&gt;&lt;/div&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;img&amp;nbsp;src="path&amp;nbsp;to&amp;nbsp;medium&amp;nbsp;image"&gt;!!discoiqbr!!&lt;/div&gt; 
  </codeblock> 
  <p>In an AEM page, the value of the <span class="code">data-src</span> attribute is the path to a resource in the repository. </p> 
  <h3>Implementing Adaptive Images in AEM</h3> 
  <p>To implement adaptive images in your AEM application, you need to add the required javascript libraries, and include the required HTML markup in your pages.</p> 
  <p><strong>Libraries</strong></p> 
  <p>Obtain the following javascript libraries and include them in a client library folder:</p> 
  <ul> 
   <li><a href="https://github.com/paulirish/matchMedia.js">matchMedia.js</a> (for browsers that do not implement the MediaQueryList interface)</li> 
   <li><a href="https://github.com/scottjehl/picturefill">picturefill.js</a></li> 
   <li>jquery.js (avaliable via the /etc/clientlibs/granite/jquery client library folder (category = jquery)</li> 
   <li><a href="https://github.com/louisremi/jquery-smartresize">jquery.debouncedresize.js</a> (a jquery event that occurs once after the window is resized)</li> 
  </ul> 
  <p><strong>Tip: </strong>You can automatically concatenate multiple client library folders by <a href="../../../sites/developing/using/clientlibs.md#main-pars-title-7">embedding</a>.</p> 
  <p><strong>HTML</strong></p> 
  <p>Create a component that generates the required div elements that the picturefill.js code expects. In an AEM page, the value of the data-src attribute is the path to a resource in the repository. For example, a page component can hard-code the media queries and the associated paths for image renditions in DAM. Or, create a custom Image component that enables authors to select image renditions or specify runtime rendering options. </p> 
  <p>The following example HTML selects from 2 DAM renditions of the same image.</p> 
  <codeblock class="syntax xml">
    &lt;div&amp;nbsp;data-picture&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;div&amp;nbsp;data-src='/content/dam/geometrixx-media/articles/meridien.png'&gt;&lt;/div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;div&amp;nbsp;data-src='/content/dam/geometrixx-media/articles/meridien.png/jcr:content/renditions/cq5dam.thumbnail.319.319.png'&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;data-media="(min-width:&amp;nbsp;769px)"&gt;&lt;/div&gt;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;div&amp;nbsp;data-src='/content/dam/geometrixx-media/articles/meridien.png/jcr:content/renditions/cq5dam.thumbnail.140.100.png'&amp;nbsp;&amp;nbsp;&amp;nbsp;data-media="(min-width:&amp;nbsp;481px)"&gt;&lt;/div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&lt;/div&gt; 
  </codeblock> 
  <note> 
   <p>The Adaptive Image foundation component implements adaptive images:</p> 
   <ul> 
    <li>Client library folder: /libs/foundation/components/adaptiveimage/clientlibs</li> 
    <li>Script that generates the HTML: /libs/foundation/components/adaptiveimage/adaptiveimage.jsp</li> 
   </ul> 
   <p>The subsequent section provides details about this component.</p> 
  </note> 
  <h3>Understanding Image Rendering in AEM</h3> 
  <p>To customize image rendering, you should understand the default AEM static image rendering implementation. AEM provides the Image component and an image-rendering servlet that work together to render images for web page. The following sequence of events occur when the Image component is included in the the page's paragraph system:</p> 
  <ol> 
   <li>Authoring: Authors edit the Image component to specify the image file to include in an HTML page. The file path is stored as a property value of the Image component node.</li> 
   <li>Page request: The JSP of the page component generates the HTML code. The JSP of the Image component generates and adds an img element to the page.</li> 
   <li>Image request: The web browser loads the page, and requests the image according to the src attribute of the img element.</li> 
   <li>Image rendering: The image-rendering servlet returns the image to the web browser.</li> 
  </ol> 
  <img imageRotate="0" src="assets/chlimage_1-7.png" /> 
  <p>For example, the JSP of the Image component generates the following HTML element:</p> 
  <p><span class="code">&amp;lt;img title="My Image" alt="My Image" class="cq-dd-image" src="/content/mywebsite/en/_jcr_content/par/image_0.img.jpg/1358372073597.jpg"&amp;gt;</span></p> 
  <p>When the browser loads the page, it requests the image using the value of the src attribute as the URL. Sling decomposes the URL:</p> 
  <ul> 
   <li>Resource: /content/mywebsite/en/_jcr_content/par/image_0</li> 
   <li>File name extension: .jpg</li> 
   <li>Selector: img</li> 
   <li>Suffix: 1358372073597.jpg</li> 
  </ul> 
  <p>The <span class="code">image_0</span> node has a <span class="code">jcr:resourceType</span> value of <span class="code">foundation/components/image</span>, which has a <span class="code">sling:resourceSuperType</span> value of <span class="code">foundation/components/parbase</span>. The parbase component includes the img.GET.java script that matches the selector and the file name extension of the request URL. CQ uses this script (servlet) to render the image.</p> 
  <p>To see the source code of the script, use CRXDE Lite to open the /libs/foundation/components/parbase/img.GET.java<br /> file. </p> 
  <h2>Scaling Images for the Current Viewport Size</h2> 
  <p>Scale images at runtime according to the characteristics of the client viewport to provide images that conform to the principles of responsive design. Use the same design pattern as static image rendering, using a servlet and an authoring component.</p> 
  <p>The component needs to perform the following tasks:</p> 
  <ul> 
   <li>Store the path and desired dimensions of the image resource as property values.</li> 
   <li>Generate <span class="code">div</span> elements that contain media selectors and service calls for rendering the image. </li> 
  </ul> 
  <p><strong>Note:</strong> The web client uses the matchMedia and Picturefill javascript libraries (or similar libraries) to evaluate the media selectors.</p> 
  <p>The servlet that processes the image request needs to perform the following tasks:</p> 
  <ul> 
   <li>Retrieve the path and dimensions of the image from the component properties.</li> 
   <li>Scale the image according to the properties and return the image.</li> 
  </ul> 
  <p><strong>Available Solutions</strong></p> 
  <p>AEM installs the following implementations that you can use or extend.</p> 
  <ul> 
   <li>The Adaptive Image foundation component that generates media queries, and HTTP requests to the Adaptive Image Component Servlet that scales the images.</li> 
   <li>The Geometrixx Commons package installs the Image Reference Modification Servlet sample servlets that alters image resolution.</li> 
  </ul> 
  <h3>Understanding the Adaptive Image Component</h3> 
  <p>The Adaptive Image foundation component generates calls to the Adaptive Image Component Servlet to render an image that is sized according to the device screen. The component includes the following resources:</p> 
  <ul> 
   <li>JSP: Adds div elements that associate media queries with calls to Adaptive Image Component Servlet.</li> 
   <li>Client libraries: The clientlibs folder is a cq:ClientLibraryFolder that assembles the matchMedia polyfill javascript library and a modified Picturefill javascript library.</li> 
   <li>Edit dialog: The cq:editConfig node overrides the CQ foundation image component so that the drop target creates an adaptive-image component rather than a foundation image component.</li> 
  </ul> 
  <h4>Adding the DIV Elements</h4> 
  <p>The adaptive-image.jsp script includes the following code that generates div elements and media queries:</p> 
  <codeblock class="syntax js">
    &lt;div&amp;nbsp;data-picture&amp;nbsp;data-alt='&lt;%=&amp;nbsp;alt&amp;nbsp;%&gt;'&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;div&amp;nbsp;data-src='&lt;%=&amp;nbsp;path&amp;nbsp;+&amp;nbsp;".img.320.low."&amp;nbsp;+&amp;nbsp;extension&amp;nbsp;+&amp;nbsp;suffix&amp;nbsp;%&gt;'&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;data-media="(min-width:&amp;nbsp;1px)"&gt;&lt;/div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;%--&amp;nbsp;Small&amp;nbsp;mobile&amp;nbsp;--%&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;div&amp;nbsp;data-src='&lt;%=&amp;nbsp;path&amp;nbsp;+&amp;nbsp;".img.320.medium."&amp;nbsp;+&amp;nbsp;extension&amp;nbsp;+&amp;nbsp;suffix&amp;nbsp;%&gt;'&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;data-media="(min-width:&amp;nbsp;320px)"&gt;&lt;/div&gt;&amp;nbsp;&amp;nbsp;&lt;%--&amp;nbsp;Portrait&amp;nbsp;mobile&amp;nbsp;--%&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;div&amp;nbsp;data-src='&lt;%=&amp;nbsp;path&amp;nbsp;+&amp;nbsp;".img.480.medium."&amp;nbsp;+&amp;nbsp;extension&amp;nbsp;+&amp;nbsp;suffix&amp;nbsp;%&gt;'&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;data-media="(min-width:&amp;nbsp;321px)"&gt;&lt;/div&gt;&amp;nbsp;&amp;nbsp;&lt;%--&amp;nbsp;Landscape&amp;nbsp;mobile&amp;nbsp;--%&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;div&amp;nbsp;data-src='&lt;%=&amp;nbsp;path&amp;nbsp;+&amp;nbsp;".img.476.high."&amp;nbsp;+&amp;nbsp;extension&amp;nbsp;+&amp;nbsp;suffix&amp;nbsp;%&gt;'&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;data-media="(min-width:&amp;nbsp;481px)"&gt;&lt;/div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;%--&amp;nbsp;Portrait&amp;nbsp;iPad&amp;nbsp;--%&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;div&amp;nbsp;data-src='&lt;%=&amp;nbsp;path&amp;nbsp;+&amp;nbsp;".img.620.high."&amp;nbsp;+&amp;nbsp;extension&amp;nbsp;+&amp;nbsp;suffix&amp;nbsp;%&gt;'&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;data-media="(min-width:&amp;nbsp;769px)"&gt;&lt;/div&gt;&amp;nbsp;&amp;nbsp;&lt;%--&amp;nbsp;Landscape&amp;nbsp;iPad&amp;nbsp;--%&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;div&amp;nbsp;data-src='&lt;%=&amp;nbsp;path&amp;nbsp;+&amp;nbsp;".img.full.high."&amp;nbsp;+&amp;nbsp;extension&amp;nbsp;+&amp;nbsp;suffix&amp;nbsp;%&gt;'&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;data-media="(min-width:&amp;nbsp;1025px)"&gt;&lt;/div&gt;&amp;nbsp;&lt;%--&amp;nbsp;Desktop&amp;nbsp;--%&gt;!!discoiqbr!!!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;%--&amp;nbsp;Fallback&amp;nbsp;content&amp;nbsp;for&amp;nbsp;non-JS&amp;nbsp;browsers.&amp;nbsp;Same&amp;nbsp;img&amp;nbsp;src&amp;nbsp;as&amp;nbsp;the&amp;nbsp;initial,&amp;nbsp;unqualified&amp;nbsp;source&amp;nbsp;element.&amp;nbsp;--%&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;noscript&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;img&amp;nbsp;src='&lt;%=&amp;nbsp;path&amp;nbsp;+&amp;nbsp;".img.320.low."&amp;nbsp;+&amp;nbsp;extension&amp;nbsp;+&amp;nbsp;suffix&amp;nbsp;%&gt;'&amp;nbsp;alt='&lt;%=&amp;nbsp;alt&amp;nbsp;%&gt;'&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/noscript&gt;!!discoiqbr!!&lt;/div&gt; 
  </codeblock> 
  <p>The <span class="code">path</span> variable contains the path of the current resource (the adaptive-image component node). The code generates a series of <span class="code">div</span> elements with the following structure:</p> 
  <p> </p> 
  <p><span class="code">&amp;lt;div data-scr = "<i>path-to-parent-node</i>.adaptive-image.adapt.<i>width</i>.<i>quality</i>.jpg" data-media="<i>media query</i>"&amp;gt;&amp;lt;/div&amp;gt;</span></p> 
  <p>The value of the <span class="code">data-scr</span> attribute is a URL that Sling resolves to the Adaptive Image Component Servlet that renders the image. The data-media attribute contains the media query that is evaluated against the client properties. </p> 
  <p>The following HTML code is an example of the <span class="code">div</span> elements that the JSP generates: </p> 
  <codeblock class="syntax xml">
    &lt;div&amp;nbsp;data-src='/content/geometrixx-media/en/events/the-lineup-you-ve-been-waiting-for/jcr:content/article-content-par/adaptive_image.adapt.320.low.jpg'&gt;&lt;/div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;div&amp;nbsp;data-src='/content/geometrixx-media/en/events/the-lineup-you-ve-been-waiting-for/jcr:content/article-content-par/adaptive_image.adapt.320.medium.jpg'&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;data-media="(min-width:&amp;nbsp;320px)"&gt;&lt;/div&gt;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;div&amp;nbsp;data-src='/content/geometrixx-media/en/events/the-lineup-you-ve-been-waiting-for/jcr:content/article-content-par/adaptive_image.adapt.480.medium.jpg'&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;data-media="(min-width:&amp;nbsp;321px)"&gt;&lt;/div&gt;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;div&amp;nbsp;data-src='/content/geometrixx-media/en/events/the-lineup-you-ve-been-waiting-for/jcr:content/article-content-par/adaptive_image.adapt.476.high.jpg'&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;data-media="(min-width:&amp;nbsp;481px)"&gt;&lt;/div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;div&amp;nbsp;data-src='/content/geometrixx-media/en/events/the-lineup-you-ve-been-waiting-for/jcr:content/article-content-par/adaptive_image.adapt.620.high.jpg'&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;data-media="(min-width:&amp;nbsp;769px)"&gt;&lt;/div&gt;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;div&amp;nbsp;data-src='/content/geometrixx-media/en/events/the-lineup-you-ve-been-waiting-for/jcr:content/article-content-par/adaptive_image.adapt.full.high.jpg'&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;data-media="(min-width:&amp;nbsp;1025px)"&gt;&lt;/div&gt; 
  </codeblock> 
  <h4>Changing the Image Size Selectors</h4> 
  <p>If you customize the Adaptive Image component and change the width selectors, you must also configure the Adaptive Image Component Servlet to support the widths.</p> 
  <h3>Understanding the Adaptive Image Component Servlet</h3> 
  <p>The Image Adaptive Image Component Servlet resizes a JPEG image according to a specified width, and sets the JPEG quality.</p> 
  <h4>The Interface of the Adaptive Image Component Servlet</h4> 
  <p>The Adaptive Image Component Servlet is bound to the default Sling servlet and supports the .jpg, .jpeg, .gif, and .png file extensions. The servlet selector is img.</p> 
  <note> 
   <p>Animated .gif files are not supported in AEM for adaptive renditions.</p> 
  </note> 
  <p>Therefore, Sling resolves HTTP request URLs of the following format to this servlet:</p> 
  <p><span class="code"><i>path-to-node</i>.img.<i>extension</i></span></p> 
  <p>For example, Sling forwards HTTP requests with the URL<span class="code"> http://localhost:4502/content/geometrixx/adaptiveImage.img.jpg</span> to Adaptive Image Component Servlet. </p> 
  <p>Two additional selectors specify the requested image width and JPEG quality. The following example requests an image of width 480 pixels and medium quality:</p> 
  <p><span class="code">http://localhost:4502/content/geometrixx/adaptiveImage.adapt.480.MEDIUM.jpg</span></p> 
  <p><strong>Supported image properties</strong></p> 
  <p>The servlet accepts a finite number of image widths and qualities. The following widths are supported by default (in pixels):</p> 
  <ul> 
   <li>full</li> 
   <li>320</li> 
   <li>480</li> 
   <li>476</li> 
   <li>620</li> 
  </ul> 
  <p>The full value indicates no scaling.</p> 
  <p>The following values for JPEG quality are supported:</p> 
  <ul> 
   <li>LOW</li> 
   <li>MEDIUM</li> 
   <li>HIGH</li> 
  </ul> 
  <p>The numeric values are 0.4, 0.82, and 1.0, respectively.</p> 
  <p><strong>Changing the Default Supported Widths</strong></p> 
  <p>Use the Web Console (<a href="http://localhost:4502/system/console/configMgr">http://localhost:4502/system/console/configMgr</a>) or a sling:OsgiConfig node to configure the supported widths of the Adobe CQ Adaptive Image Component Servlet.</p> 
  <p>For information about how to configure AEM services, see <a href="../../../sites/deploying/using/configuring-osgi.md">Configuring OSGi</a>.</p> 
  <table border="1" cellpadding="1" cellspacing="0" width="100%"> 
   <tbody> 
    <tr> 
     <th> </th> 
     <th>Web Console</th> 
     <th>sling:OsgiConfig</th> 
    </tr> 
    <tr> 
     <th>Service or Node Name</th> 
     <td>The service name on the Configuration tab is Adobe CQ Adaptive Image Component Servlet</td> 
     <td>com.day.cq.wcm.foundation.impl. AdaptiveImageComponentServlet</td> 
    </tr> 
    <tr> 
     <th>Property</th> 
     <td><p>Supported Widths</p> 
      <ul> 
       <li>To add a supported width, click a + button and enter a positive integer.</li> 
       <li>To remove a supported width, click the associated - button.</li> 
       <li>To modify a supported width, edit the field value.</li> 
      </ul> </td> 
     <td><p>adapt.supported.widths</p> 
      <ul> 
       <li>The property is a multivalued String value.</li> 
      </ul> </td> 
    </tr> 
   </tbody> 
  </table> 
  <h4>Implementation details</h4> 
  <p style="font-family: tahoma, arial, helvetica, sans-serif; font-size: 12px;">The c<span class="code">om.day.cq.wcm.foundation.impl.AdaptiveImageComponentServlet</span> class extends the <a href="/sites/developing/using/reference-materials/javadoc/com/day/cq/wcm/commons/AbstractImageServlet"><span class="code">AbstractImageServlet</span></a> class. The AdaptiveImageComponentServlet source code is located in the <span class="code">/libs/foundation/src/impl/src/com/day/cq/wcm/foundation/impl</span> folder.</p> 
  <p style="font-family: tahoma, arial, helvetica, sans-serif; font-size: 12px;">The class uses Felix SCR annotations to configure the resource type and file extension that the servlet is associated with, and the name of the first selector.</p> 
  <codeblock class="syntax java">
    @Component(metatype&amp;nbsp;=&amp;nbsp;true,&amp;nbsp;label&amp;nbsp;=&amp;nbsp;"Adobe&amp;nbsp;CQ&amp;nbsp;Adaptive&amp;nbsp;Image&amp;nbsp;Component&amp;nbsp;Servlet",!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;description&amp;nbsp;=&amp;nbsp;"Render&amp;nbsp;adaptive&amp;nbsp;images&amp;nbsp;in&amp;nbsp;a&amp;nbsp;variety&amp;nbsp;of&amp;nbsp;qualities")!!discoiqbr!!@Service!!discoiqbr!!@Properties(value&amp;nbsp;=&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;@Property(name&amp;nbsp;=&amp;nbsp;"sling.servlet.resourceTypes",&amp;nbsp;value&amp;nbsp;=&amp;nbsp;"foundation/components/adaptiveimage",&amp;nbsp;propertyPrivate&amp;nbsp;=&amp;nbsp;true),!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;@Property(name&amp;nbsp;=&amp;nbsp;"sling.servlet.selectors",&amp;nbsp;value&amp;nbsp;=&amp;nbsp;"img",&amp;nbsp;propertyPrivate&amp;nbsp;=&amp;nbsp;true),!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;@Property(name&amp;nbsp;=&amp;nbsp;"sling.servlet.extensions",&amp;nbsp;value&amp;nbsp;={&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"jpg",!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"jpeg",!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"png",!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"gif"!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;},&amp;nbsp;propertyPrivate&amp;nbsp;=&amp;nbsp;true)!!discoiqbr!!}) 
  </codeblock> 
  <p>The servlet uses the Property SCR annotation to set the default supported image quality and dimensions.</p> 
  <codeblock class="syntax java">
    @Property(value&amp;nbsp;=&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"320",&amp;nbsp;//&amp;nbsp;iPhone&amp;nbsp;portrait!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"480",&amp;nbsp;//&amp;nbsp;iPhone&amp;nbsp;landscape!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"476",&amp;nbsp;//&amp;nbsp;iPad&amp;nbsp;portrait!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"620"&amp;nbsp;//&amp;nbsp;iPad&amp;nbsp;landscape!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;},!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;label&amp;nbsp;=&amp;nbsp;"Supported&amp;nbsp;Widths",!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;description&amp;nbsp;=&amp;nbsp;"List&amp;nbsp;of&amp;nbsp;widths&amp;nbsp;this&amp;nbsp;component&amp;nbsp;is&amp;nbsp;permitted&amp;nbsp;to&amp;nbsp;generate.") 
  </codeblock> 
  <p>The <span class="code">AbstractImageServlet</span> class provides the <span class="code">doGet</span> method that processes the HTTP request. This method determines the resource that is associated with the request, retrieves resource properties from the repository, and returns them in an <a href="/sites/developing/using/reference-materials/javadoc/com/day/cq/wcm/commons/AbstractImageServlet.ImageContext"><span class="code">ImageContext</span></a> object.</p> 
  <p><strong>Note:</strong> The <a href="/sites/developing/using/reference-materials/javadoc/com/day/cq/commons/DownloadResource"><span class="code">com.day.cq.commons.DownloadResource</span></a><strong> </strong>class provides the <span class="code">getFileReference method</span>, which retrieves the value of the resource's <span class="code">fileReference</span> property.</p> 
  <p>The <span class="code">AdaptiveImageComponentServlet</span> class overrides the <span class="code">createLayer</span> method. The method obtains the path of the image resource and the requested image width from the <span class="code">ImageContext</span> object. It then calls the methods of the<span class="code"> info.geometrixx.commons.impl.AdaptiveImageHelper</span> class, which performs the actual image scaling.</p> 
  <p>The AdaptiveImageComponentServlet class also overrides the writeLayer method. This method applies the JPEG quality to the image.</p> 
  <h3>Image Reference Modification Servlet (Geometrixx Common)</h3> 
  <p>The sample Image Reference Modification Servlet generates size attributes for the img element to scale an image on the web page.</p> 
  <h4>Calling the servlet</h4> 
  <p>The servlet is bound to <span class="code">cq:page</span> resources and supports the .jpg file extension. The servlet selector is <span>image</span>. Therefore, Sling resolves HTTP request URLs of the following format to this servlet:</p> 
  <p><span class="code">path-to-page-node.image.jpg</span></p> 
  <p>For example, Sling forwards HTTP requests with the URL<span class="code"> http://localhost:4502/content/geometrixx/en.image.jpg</span> to Image Reference Modification Servlet.</p> 
  <p>Three additional selectors specify the requested image width, height, and (optionally) quality. The following example requests an image of width 770 pixels, height 360 pixels, and of medium quality.</p> 
  <p><span class="code">http://localhost:4502/content/geometrixx/en.image.770.360.MEDIUM.jpg</span></p> 
  <p><strong>Supported image properties</strong></p> 
  <p>The servlet accepts a finite number of image dimensions and quality values.</p> 
  <p>The following values are supported by default (widthxheight):</p> 
  <ul> 
   <li>256x192</li> 
   <li>370x150</li> 
   <li>480x200</li> 
   <li>127x127</li> 
   <li>770x360</li> 
   <li>620x290</li> 
   <li>480x225</li> 
   <li>320x150</li> 
   <li>375x175</li> 
   <li>303x142</li> 
   <li>1170x400</li> 
   <li>940x340</li> 
   <li>770x300</li> 
   <li>480x190</li> 
  </ul> 
  <p>The following values for image quality are supported:</p> 
  <ul> 
   <li>low</li> 
   <li>medium</li> 
   <li>high</li> 
  </ul> 
  <p>When working with AEM there are several methods of managing the configuration settings for such services; see <a href="../../../sites/deploying/using/configuring-osgi.md">Configuring OSGi</a> for full details.</p> 
  <h4>Specifying the image resource</h4> 
  <p>The image path, dimensions, and quality values must be stored as properties of a node in the repository:</p> 
  <ul> 
   <li>The node name is <span class="code">image</span>.</li> 
   <li>The parent node is the <span class="code">jcr:content</span> node of a <span class="code">cq:page</span> resource.</li> 
   <li>The image path is stored as the value of a property named <span class="code">fileReference</span>.</li> 
  </ul> 
  <p>When authoring a page, use Sidekick to specify the image and add the <span class="code">image</span> node to the page properties:</p> 
  <ol> 
   <li>In Sidekick, click the Page tab, and then click Page Properties.</li> 
   <li>Click the Image tab and specify the image.</li> 
   <li>Click OK.</li> 
  </ol> 
  <h4>Implementation details</h4> 
  <p>The info.geometrixx.commons.impl.servlets.ImageReferenceModificationServlet class extends the <a href="/sites/developing/using/reference-materials/javadoc/com/day/cq/wcm/commons/AbstractImageServlet">AbstractImageServlet</a> class. If you have the cq-geometrixx-commons-pkg package installed, the ImageReferenceModificationServlet source code is located in the <span class="code">/apps/geometrixx-commons/src/core/src/main/java/info/geometrixx/commons/impl/servlets</span> folder.</p> 
  <p>The class uses Felix SCR annotations to configure the resource type and file extension that the servlet is associated with, and the name of the first selector.</p> 
  <codeblock class="syntax java">
    @Component(metatype&amp;nbsp;=&amp;nbsp;true,&amp;nbsp;label&amp;nbsp;=&amp;nbsp;"Adobe&amp;nbsp;CQ&amp;nbsp;Image&amp;nbsp;Reference&amp;nbsp;Modification&amp;nbsp;Servlet",!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;description&amp;nbsp;=&amp;nbsp;"Render&amp;nbsp;the&amp;nbsp;image&amp;nbsp;associated&amp;nbsp;with&amp;nbsp;a&amp;nbsp;page&amp;nbsp;in&amp;nbsp;a&amp;nbsp;variety&amp;nbsp;of&amp;nbsp;dimensions&amp;nbsp;and&amp;nbsp;qualities")!!discoiqbr!!@Service!!discoiqbr!!@Properties(value&amp;nbsp;=&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;@Property(name&amp;nbsp;=&amp;nbsp;"sling.servlet.resourceTypes",&amp;nbsp;value&amp;nbsp;=&amp;nbsp;NameConstants.NT_PAGE,&amp;nbsp;propertyPrivate&amp;nbsp;=&amp;nbsp;true),!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;@Property(name&amp;nbsp;=&amp;nbsp;"sling.servlet.selectors",&amp;nbsp;value&amp;nbsp;=&amp;nbsp;"image",&amp;nbsp;propertyPrivate&amp;nbsp;=&amp;nbsp;true),!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;@Property(name&amp;nbsp;=&amp;nbsp;"sling.servlet.extensions",&amp;nbsp;value&amp;nbsp;=&amp;nbsp;"jpg",&amp;nbsp;propertyPrivate&amp;nbsp;=&amp;nbsp;true)!!discoiqbr!!}) 
  </codeblock> 
  <p>The servlet uses the Property SCR annotation to set the default supported image quality and dimensions.</p> 
  <codeblock class="syntax java">
    @Property(label&amp;nbsp;=&amp;nbsp;"Image&amp;nbsp;Quality",!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;description&amp;nbsp;=&amp;nbsp;"Quality&amp;nbsp;must&amp;nbsp;be&amp;nbsp;a&amp;nbsp;double&amp;nbsp;between&amp;nbsp;0.0&amp;nbsp;and&amp;nbsp;1.0",&amp;nbsp;value&amp;nbsp;=&amp;nbsp;"0.82")!!discoiqbr!!@Property(value&amp;nbsp;=&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"256x192",&amp;nbsp;//&amp;nbsp;Category&amp;nbsp;page&amp;nbsp;article&amp;nbsp;list&amp;nbsp;images!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"370x150",&amp;nbsp;//&amp;nbsp;"Most&amp;nbsp;popular"&amp;nbsp;desktop&amp;nbsp;&amp;&amp;nbsp;iPad&amp;nbsp;&amp;&amp;nbsp;carousel&amp;nbsp;min-width:&amp;nbsp;1px!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"480x200",&amp;nbsp;//&amp;nbsp;"Most&amp;nbsp;popular"&amp;nbsp;phone!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"127x127",&amp;nbsp;//&amp;nbsp;article&amp;nbsp;summary&amp;nbsp;phone&amp;nbsp;square&amp;nbsp;images!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"770x360",&amp;nbsp;//&amp;nbsp;article&amp;nbsp;summary,&amp;nbsp;desktop!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"620x290",&amp;nbsp;//&amp;nbsp;article&amp;nbsp;summary,&amp;nbsp;tablet!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"480x225",&amp;nbsp;//&amp;nbsp;article&amp;nbsp;summary,&amp;nbsp;phone&amp;nbsp;(landscape)!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"320x150",&amp;nbsp;//&amp;nbsp;article&amp;nbsp;summary,&amp;nbsp;phone&amp;nbsp;(portrait)&amp;nbsp;and&amp;nbsp;fallback!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"375x175",&amp;nbsp;//&amp;nbsp;2-column&amp;nbsp;article&amp;nbsp;summary,&amp;nbsp;desktop!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"303x142",&amp;nbsp;//&amp;nbsp;2-column&amp;nbsp;article&amp;nbsp;summary,&amp;nbsp;tablet!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"1170x400",&amp;nbsp;//&amp;nbsp;carousel,&amp;nbsp;full!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"940x340",&amp;nbsp;&amp;nbsp;//&amp;nbsp;carousel&amp;nbsp;min-width:&amp;nbsp;980px!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"770x300",&amp;nbsp;&amp;nbsp;//&amp;nbsp;carousel&amp;nbsp;min-width:&amp;nbsp;768px!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"480x190"&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;carousel&amp;nbsp;min-width:&amp;nbsp;480px!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;},!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;label&amp;nbsp;=&amp;nbsp;"Supported&amp;nbsp;Resolutions",!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;description&amp;nbsp;=&amp;nbsp;"List&amp;nbsp;of&amp;nbsp;resolutions&amp;nbsp;this&amp;nbsp;component&amp;nbsp;is&amp;nbsp;permitted&amp;nbsp;to&amp;nbsp;generate.") 
  </codeblock> 
  <p>The <span class="code">AbstractImageServlet</span> class provides the <span class="code">doGet</span> method that processes the HTTP request. This method determines the resource that is associated with the call, retrieves resource properties from the repository, and saves them in an <a href="/sites/developing/using/reference-materials/javadoc/com/day/cq/wcm/commons/AbstractImageServlet.ImageContext"><span class="code">ImageContext</span></a> object.</p> 
  <p>The <span class="code">ImageReferenceModificationServlet</span> class overrides the <span class="code">createLayer</span> method and implements the logic that determines the image resource to render. The method retrieves a child node of the page's <span class="code">jcr:content</span> node named <span class="code">image</span>. An <a href="/sites/developing/using/reference-materials/javadoc/com/day/cq/wcm/foundation/Image"><span class="code">Image</span></a> object is created from this <span class="code">image</span> node, and the <span class="code">getFileReference</span> method returns the path to the image file from the <span class="code">fileReference</span> property of the image node.</p> 
  <p><strong>Note:</strong> The <a href="/sites/developing/using/reference-materials/javadoc/com/day/cq/commons/DownloadResource">com.day.cq.commons.DownloadResource</a><strong> </strong>class provides the getFileReferencemethod. </p> 
  <h2>Developing a Fluid Grid</h2> 
  <p>AEM enables you to efficiently and effectively implement fluid grids. This page explains how you can integrate your fluid grid or an existing grid implementation (such as <a href="http://twitter.github.com/bootstrap/">Bootstrap</a>) into your AEM application.</p> 
  <p>If you are not familiar with fluid grids, see the <a href="../../../sites/developing/using/responsive.md#developingafluidgrid">Introduction to Fluid Grids</a> section at the bottom of this page. This introduction provides an overview of fluid grids and guidance for designing them.</p> 
  <h3>Defining the Grid Using a Page Component</h3> 
  <p>Use page components to generate the HTML elements that define the content blocks of the page. The ClientLibraryFolder that the page references provides the CSS that controls the layout of the content blocks:</p> 
  <ul> 
   <li>Page component: Adds div elements that represent rows of content blocks. The div elements that represent content blocks include a parsys component where authors add content. </li> 
   <li>Client library folder: Provides the CSS file that includes media queries and styles for the div elements. </li> 
  </ul> 
  <p>For example, the sample geometrixx-media application contains the media-home component. This page component inserts two scripts, which generate two <span class="code">div</span> elements of class <span class="code">row-fluid</span>:</p> 
  <ul> 
   <li>The first row contains a <span class="code">div</span> element of class <span class="code">span12</span> (the content spans 12 columns). The <span class="code">div</span> element contains the parsys component.</li> 
   <li>The second row contains two <span class="code">div</span> elements, one of class <span class="code">span8</span> and the other of class <span class="code">span4</span>. Each <span class="code">div</span> element includes the parsys component.</li> 
  </ul> 
  <codeblock gutter="true" class="syntax xml">
    &lt;div&amp;nbsp;class="page-content"&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;div&amp;nbsp;class="row-fluid"&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;div&amp;nbsp;class="span12"&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;cq:include&amp;nbsp;path="grid-12-par"&amp;nbsp;resourceType="foundation/components/parsys"&amp;nbsp;/&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/div&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/div&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;div&amp;nbsp;class="row-fluid"&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;div&amp;nbsp;class="span8"&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;cq:include&amp;nbsp;path="grid-8-par"&amp;nbsp;resourceType="foundation/components/parsys"&amp;nbsp;/&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/div&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;div&amp;nbsp;class="span4"&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;cq:include&amp;nbsp;path="grid-4-par"&amp;nbsp;resourceType="foundation/components/parsys"&amp;nbsp;/&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/div&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/div&gt;!!discoiqbr!!&lt;/div&gt; 
  </codeblock> 
  <p><strong>Note:</strong> When a component includes multiple <span class="code">cq:include</span> elements that reference the parsys component, each <span class="code">path</span> attribute must have a different value.</p> 
  <h4>Scaling the Page Component Grid</h4> 
  <p>The design that is associated with the geometrixx-media page component (/etc/designs/geometrixx-media) contains the <span class="code">clientlibs</span> ClientLibraryFolder. This ClientLibraryFolder defines CSS styles for <span class="code">row-fluid</span> classes, <span class="code">span*</span> classes, and <span class="code">span*</span> classes that are children of <span class="code">row-fluid</span> classes. Media queries enable styles to be redefined for different viewport sizes.</p> 
  <p>The following example CSS is a subset of those styles. This subset focuses on <span class="code">span12</span>, <span class="code">span8</span>, and <span class="code">span4</span> classes, and media queries for two viewport sizes. Notice the following characteristics of the CSS:</p> 
  <ul> 
   <li>The <span class="code">.span</span> styles define element widths using absolute numbers.</li> 
   <li>The <span class="code">.row-fluid .span*</span> styles define element widths as percenteages of the parent. Percentages are calculated from the absolute widths.</li> 
   <li>Media queries for larger viewports assign larger absolute widths.</li> 
  </ul> 
  <note> 
   <p>The Geometrixx Media sample integrates the <a href="http://twitter.github.com/bootstrap/javascript.html">Bootstrap</a> javascript framework into its fluid grid implementation. The Bootstrap framework provides the bootstrap.css file. </p> 
  </note> 
  <codeblock class="syntax xml">
    /*&amp;nbsp;default&amp;nbsp;styles&amp;nbsp;(no&amp;nbsp;media&amp;nbsp;queries)&amp;nbsp;*/!!discoiqbr!!&amp;nbsp;.span12&amp;nbsp;{&amp;nbsp;width:&amp;nbsp;940px&amp;nbsp;}!!discoiqbr!!&amp;nbsp;.span8&amp;nbsp;{&amp;nbsp;width:&amp;nbsp;620px&amp;nbsp;}!!discoiqbr!!&amp;nbsp;.span4&amp;nbsp;{&amp;nbsp;width:&amp;nbsp;300px&amp;nbsp;}!!discoiqbr!!&amp;nbsp;.row-fluid&amp;nbsp;.span12&amp;nbsp;{&amp;nbsp;width:&amp;nbsp;100%&amp;nbsp;}!!discoiqbr!!&amp;nbsp;.row-fluid&amp;nbsp;.span8&amp;nbsp;{&amp;nbsp;width:&amp;nbsp;65.95744680851064%&amp;nbsp;}!!discoiqbr!!&amp;nbsp;.row-fluid&amp;nbsp;.span4&amp;nbsp;{&amp;nbsp;width:&amp;nbsp;31.914893617021278%&amp;nbsp;}!!discoiqbr!!!!discoiqbr!!@media&amp;nbsp;(min-width:&amp;nbsp;768px)&amp;nbsp;and&amp;nbsp;(max-width:&amp;nbsp;979px)&amp;nbsp;{!!discoiqbr!!&amp;nbsp;.span12&amp;nbsp;{&amp;nbsp;width:&amp;nbsp;724px;&amp;nbsp;}!!discoiqbr!!&amp;nbsp;.span8&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;width:&amp;nbsp;476px;&amp;nbsp;}!!discoiqbr!!&amp;nbsp;.span4&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;width:&amp;nbsp;228px;&amp;nbsp;}!!discoiqbr!!&amp;nbsp;.row-fluid&amp;nbsp;.span12&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;width:&amp;nbsp;100%;}!!discoiqbr!!&amp;nbsp;.row-fluid&amp;nbsp;.span8&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;width:&amp;nbsp;65.74585635359117%;&amp;nbsp;}!!discoiqbr!!&amp;nbsp;.row-fluid&amp;nbsp;.span4&amp;nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;width:&amp;nbsp;31.491712707182323%;&amp;nbsp;}!!discoiqbr!!}!!discoiqbr!!!!discoiqbr!!@media&amp;nbsp;(min-width:&amp;nbsp;1200px)&amp;nbsp;{&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;.span12&amp;nbsp;{&amp;nbsp;width:&amp;nbsp;1170px&amp;nbsp;}!!discoiqbr!!&amp;nbsp;.span8&amp;nbsp;{&amp;nbsp;width:&amp;nbsp;770px&amp;nbsp;}&amp;nbsp;!!discoiqbr!!&amp;nbsp;.span4&amp;nbsp;{&amp;nbsp;width:&amp;nbsp;370px&amp;nbsp;}&amp;nbsp;!!discoiqbr!!&amp;nbsp;.row-fluid&amp;nbsp;.span12&amp;nbsp;{&amp;nbsp;width:&amp;nbsp;100%&amp;nbsp;}&amp;nbsp;!!discoiqbr!!&amp;nbsp;.row-fluid&amp;nbsp;.span8&amp;nbsp;{&amp;nbsp;width:&amp;nbsp;65.81196581196582%&amp;nbsp;}&amp;nbsp;!!discoiqbr!!&amp;nbsp;.row-fluid&amp;nbsp;.span4&amp;nbsp;{&amp;nbsp;width:&amp;nbsp;31.623931623931625%&amp;nbsp;}!!discoiqbr!!} 
  </codeblock> 
  <h4>Repositioning Content in the Page Component Grid</h4> 
  <p>The pages of the sample Geometrixx Media application distribute rows of content blocks horizontally in wide viewports. In smaller viewports, the same blocks are distributed vertically. The following example CSS shows the styles that implement this behavior for the HTML code that the media-home page component generates:</p> 
  <ul> 
   <li>The default CSS for the media-welcome page assigns the <span class="code">float:left</span> style for <span class="code">span*</span> classes that are inside <span class="code">row-fluid</span> classes.</li> 
   <li>Media queries for smaller viewports assign the <span class="code">float:none</span> style for the same classes. </li> 
  </ul> 
  <codeblock class="syntax xml">
    /*&amp;nbsp;default&amp;nbsp;styles&amp;nbsp;(no&amp;nbsp;media&amp;nbsp;queries)&amp;nbsp;*/!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;.row-fluid&amp;nbsp;[class*="span"]&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;width:&amp;nbsp;100%;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;float:&amp;nbsp;left;!!discoiqbr!!}!!discoiqbr!!!!discoiqbr!!@media&amp;nbsp;(max-width:&amp;nbsp;767px)&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[class*="span"],&amp;nbsp;.row-fluid&amp;nbsp;[class*="span"]&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;float:&amp;nbsp;none;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;width:&amp;nbsp;100%;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}!!discoiqbr!!} 
  </codeblock> 
  <h4>Tip: Modularize Your Page Components</h4> 
  <p>Modularize your components to make efficient use of the code. Your site likely uses several different types of pages, such as a welcome page, an article page, or a product page. Each type of page contains different types of content and likely use different layouts. However, when certain elements of each layout are common across multiple pages, you can re-use the code that implements that part of the layout.</p> 
  <p><strong>Use page component overlays</strong></p> 
  <p>Create a main page component that provides scripts for generating the various parts of a page, such as <span class="code">head</span> and <span class="code">body</span> sections, and <span class="code">header</span>, <span class="code">content</span>, and <span class="code">footer</span> sections within the body.</p> 
  <p>Create other page components that use the main page component as the <span class="code">cq:resourceSuperType</span>. These components include scripts that override the scripts of the main page as needed.</p> 
  <p>For example, the goemetrixx-media application includes the page component (the <span class="code">sling:resourceSuperType</span> is the foundation page component). Several child components (such as article, category, and media-home) use this page component as the<span class="code"> sling:resourceSuperType</span>. Each child component includes a content.jsp file that overrides the content.jsp file of the page component.</p> 
  <p><strong>Re-use scripts</strong></p> 
  <p>Create multiple JSP scripts that generate row and column combinations that are common for mulitple page components. For example, the content.jsp script of the article and media-home components both reference the 8x4col.jsp script.</p> 
  <p><strong>Organize CSS styles by targeted viewport size</strong></p> 
  <p>Include CSS styles and media queries for different viewport sizes in separate files. Use client library folders to concatenate them. </p> 
  <h3>Inserting Components into the Page Grid</h3> 
  <p>When components generate a single block of content, generally the grid that the page component establishes controls the placement of the content.</p> 
  <p>Authors should be aware that the content block can be rendered in various sizes and relative positions. Content text should not use relative directions to refer to other content blocks.</p> 
  <p>If necessary, the component should provide any CSS or javascript libraries that are required for the HTML code that it generates. Use a client library folder inside the component to generate the CSS and JS files. To expose the files, <a href="../../../sites/developing/using/clientlibs.md#main-pars-title-0">create a dependency or embed the library</a> in another client library folder below the /etc folder.</p> 
  <p><strong>Sub-grids</strong></p> 
  <p>If the component contains multiple blocks of content, add the content blocks inside a row to establish a sub-grid on the page:</p> 
  <ul> 
   <li>Use the same class names as the containing page component to express div elements as rows and content blocks.</li> 
   <li>To override the behavior that the page design's CSS implements, use a second class name for the row div element and provide the associated CSS in a client library folder.</li> 
  </ul> 
  <p>For example, the /apps/geometrixx-media/components/2-col-article-summary component generates two columns of content. The HTML that it generates has the following structure:</p> 
  <codeblock class="syntax xml">
    &lt;div&amp;nbsp;class="row-fluid&amp;nbsp;mutli-col-article-summary"&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;div&amp;nbsp;class="span6"&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;article&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;div&amp;nbsp;class="article-summary-image"&gt;...&lt;/div&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;div&amp;nbsp;class="social-header"&gt;...&lt;/div&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;div&amp;nbsp;class="article-summary-description"&gt;...&lt;/div&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;div&amp;nbsp;class="social"&gt;...&lt;/div&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/article&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/div&gt;!!discoiqbr!!&lt;/div&gt; 
  </codeblock> 
  <p>The <span class="code">.row-fluid .span6</span> selectors of the page's CSS applies to the <span class="code">div</span> elements of the same class and structure in this HTML. However, the component also includes the /apps/geometrixx-media/components/2-col-article-summary/clientlibs client library folder:</p> 
  <ul> 
   <li>The CSS uses the same media queries as the page component to establish changes in layout at the same discrete page widths. </li> 
   <li>Selectors use the <span class="code">multi-col-article-summary</span> class of the row <span class="code">div</span> element to override the behavior of the page's <span class="code">row-fluid</span> class.</li> 
  </ul> 
  <p>For example, the following styles are included in the <span class="code">/apps/geometrixx-media/components/2-col-article-summary/clientlibs/css/responsive-480px.css</span> file:</p> 
  <codeblock class="syntax xml">
    @media&amp;nbsp;(max-width:&amp;nbsp;480px)&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;.mutli-col-article-summary&amp;nbsp;.article-summary-image&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;float:&amp;nbsp;left;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;width:&amp;nbsp;127px;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;.mutli-col-article-summary&amp;nbsp;.article-summary-description&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;width:&amp;nbsp;auto;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;margin-left:&amp;nbsp;127px;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;.mutli-col-article-summary&amp;nbsp;.article-summary-description&amp;nbsp;h4&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;padding-left:&amp;nbsp;10px;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;.mutli-col-article-summary&amp;nbsp;.article-summary-text&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;margin-left:&amp;nbsp;127px;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;min-height:&amp;nbsp;122px;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;top:&amp;nbsp;0;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}!!discoiqbr!!} 
  </codeblock> 
  <h2>Introduction to Fluid Grids</h2> 
  <p>Fluid grids enable page layouts to adapt to the dimensions of the client viewport. Grids consist of logical columns and rows that position the blocks of content on the page.</p> 
  <ul> 
   <li>Columns determine the horizontal positions and widths of content blocks.</li> 
   <li>Rows determine the relative vertical positions of content blocks.</li> 
  </ul> 
  <p>Using HTML5 technology you can implement the grid and manipulate it to adapt page layouts to different viewport sizes:</p> 
  <ul> 
   <li>HTML div elements contain blocks of content that span a certain number of columns.</li> 
   <li>One or more of these div elements comprise a row when they share a common parent divelement.</li> 
  </ul> 
  <h4>Using Discrete Widths</h4> 
  <p>For each range of viewport widths that you are targeting, use a static page width and content blocks of constant width. When manually resizing a browser window, changes to content size occur at discrete window widths (also known as breakpoints). Consequently, page designs are more closely adhered to, maximizing the user experience.</p> 
  <h4>Scaling the Grid</h4> 
  <p>Use grids to scale content blocks to adapt to different viewport sizes. Content blocks span a specific number of columns. As column widths increase or decrease to fit different viewport sizes, the width of the content blocks increase or decrease accordingly. Scaling can support both large- and medium-sized viewports that are wide enough to accommodate the side-by-side placement of content blocks.</p> 
  <img imageRotate="0" src="assets/chlimage_1-8.png" /> 
  <h4>Repositioning Content in the Grid</h4> 
  <p>The size of content blocks can be constrained by a minimum width, beyond which scaling is no longer effective. For smaller viewports, the grid can be used to vertically distribute blocks of content rather than horizontally.</p> 
  <img imageRotate="0" src="assets/chlimage_1-9.png" /> 
  <h3>Designing The Grid</h3> 
  <p>Determine the columns and rows that you need to position the blocks of content on your pages. Your page layouts determine the number of columns and rows that span your grid. </p> 
  <p><strong>Number of columns</strong></p> 
  <p>Include enough columns to horizontally position the content blocks in all of your layouts, for all viewport sizes. You should use more columns than are currently needed to accommodate future page designs.</p> 
  <p><strong>Row contents</strong></p> 
  <p>Use rows to control the vertical positioning of content blocks. Determine the content blocks that share the same row:</p> 
  <ul> 
   <li>Content blocks that are located next to each other horizontally in any of the layouts are in the same row.</li> 
   <li>Content blocks that are located next to each other horizontally (wider viewports) and vertically (smaller viewports) are in the same row.</li> 
  </ul> 
  <h3>Grid Implementations</h3> 
  <p>Create CSS classes and styles to control the layout of the content blocks on a page. Page designs are often based on the relative size and position of content blocks within the viewport. The viewport determines the actual size of the content blocks. Your CSS needs to account for the relative and the absolute sizes. You can implement a fluid grid using three types of CSS classes:</p> 
  <ul> 
   <li>A class for a <span class="code">div</span> element that is a container for all rows. This class sets the absolute width of the grid.</li> 
   <li>A class for <span class="code">div</span> elements that represent a row. This class controls the horizontal or vertical positioning of the content blocks that it contains.</li> 
   <li>Classes for <span class="code">div</span> elements that represent blocks of content of different widths. Widths are expressed as a percentage of the parent (the row).</li> 
  </ul> 
  <p>Targeted viewport widths (and their associated media queries) demarcate discrete widths that are used for a page layout.</p> 
  <h4>Widths of Content Blocks</h4> 
  <p>Generally, the <span class="code">width</span> style of content block classes are based on the following characteristics of your page and grid:</p> 
  <ul> 
   <li>The absolute page width that you are using for each targeted viewport size. These are known values.</li> 
   <li>The absolute width of the grid columns for each page width. You determine these values.</li> 
   <li>The relative width of each column as a percentage of the total page width. You calculate these values.</li> 
  </ul> 
  <p>The CSS includes a series of media queries that use the following structure:</p> 
  <codeblock gutter="true" class="syntax xml">
    @media(query_for_targeted_viewport){!!discoiqbr!!!!discoiqbr!!&amp;nbsp;&amp;nbsp;.class_for_container{&amp;nbsp;width:absolute_page_width&amp;nbsp;}!!discoiqbr!!&amp;nbsp;&amp;nbsp;.class_for_row&amp;nbsp;{&amp;nbsp;width:100%}!!discoiqbr!!!!discoiqbr!!&amp;nbsp;&amp;nbsp;/*&amp;nbsp;several&amp;nbsp;selectors&amp;nbsp;for&amp;nbsp;content&amp;nbsp;blocks&amp;nbsp;&amp;nbsp;&amp;nbsp;*/!!discoiqbr!!&amp;nbsp;&amp;nbsp;.class_for_content_block1&amp;nbsp;{&amp;nbsp;width:absolute_block_width1&amp;nbsp;}!!discoiqbr!!&amp;nbsp;&amp;nbsp;.class_for_content_block2&amp;nbsp;{&amp;nbsp;width:absolute_block_width2&amp;nbsp;}!!discoiqbr!!&amp;nbsp;&amp;nbsp;...!!discoiqbr!!!!discoiqbr!!&amp;nbsp;&amp;nbsp;/*&amp;nbsp;several&amp;nbsp;selectors&amp;nbsp;for&amp;nbsp;content&amp;nbsp;blocks&amp;nbsp;inside&amp;nbsp;rows&amp;nbsp;*/!!discoiqbr!!&amp;nbsp;&amp;nbsp;.class_for_row&amp;nbsp;.class_for_content_block1&amp;nbsp;{&amp;nbsp;width:relative_block_width1&amp;nbsp;}!!discoiqbr!!&amp;nbsp;&amp;nbsp;.class_for_row&amp;nbsp;.class_for_content_block2&amp;nbsp;{&amp;nbsp;width:relative_block_width2&amp;nbsp;}!!discoiqbr!!&amp;nbsp;&amp;nbsp;...!!discoiqbr!!} 
  </codeblock> 
  <p>Use the following algorithm as a starting point for developing the element classes and CSS styles for your pages.</p> 
  <ol> 
   <li>Define a class name for the div element that contains all rows, for example <span class="code">content.</span></li> 
   <li>Define a CSS class for div elements that represent rows, such as <span class="code">row-fluid</span>.</li> 
   <li>Define class names for content block elements. A class is required for all possible widths, in terms of column spans. For example, use the <span class="code">span3</span> class for <span class="code">div</span> elements that span 3 columns, use <span class="code">span4</span> classes for spans of 4 columns. Define as many classes as there are columns in your grid.</li> 
   <li>For each viewport size that you are targeting, add the corresponding media query to your CSS file. Add the following items in each media query: 
    <ul> 
     <li>A selector for the <span class="code">content</span> class, for example <span class="code">.content{}</span>.</li> 
     <li>Selectors for each span class, for example <span class="code">.span3{ }</span>.</li> 
     <li>A selector for the <span class="code">row-fluid</span> class, for example <span class="code">.row-fluid{ }</span></li> 
     <li>Selectors for span classes that are inside row-fluid classes, for example <span class="code">.row-fluid span3 { }</span>.</li> 
    </ul> </li> 
   <li>Add width styles for each selector: 
    <ol> 
     <li>Set the width of <span class="code">content</span> selectors to the absolute size of the page, for example <span class="code">width:480px</span>.</li> 
     <li>Set the width of all row-fluid selectors to 100%.</li> 
     <li>Set the width of all span selectors to the absolute width of the content block. A trivial grid uses evenly-distributed columns of the same width:<span class="code"> (absolute width of page)/(number of columns)</span>.</li> 
     <li>Set the width of the <span class="code">.row-fluid .span</span> selectors as a percentage of the total width. Calculate this width using the <span class="code">(absolute span width)/(absolute page width)*100</span> formula.</li> 
    </ol> </li> 
  </ol> 
  <h4>Positioning Content Blocks in Rows</h4> 
  <p>Use the float style of the <span class="code">.row-fluid</span> class to control whether the content blocks in a row are arranged horizontally or vertically. </p> 
  <ul> 
   <li>The <span class="code">float:left</span> or <span class="code">float:right</span> style causes the horizontal distribution of child elements (content blocks).</li> 
   <li>The <span class="code">float:none</span> style causes vertical distribution of child elements.</li> 
  </ul> 
  <p>Add the style to the <span class="code">.row-fluid</span> selector inside each media query. Set the value according to the page layout that you are using for that media query. For example, the following diagram illustrates a row that distributes content horizontally for wide viewports, and vertically for narrow viewports.</p> 
  <img imageRotate="0" src="assets/chlimage_1-10.png" /> 
  <p>The following CSS could implement this behavior:</p> 
  <codeblock class="syntax xml">
    @media&amp;nbsp;(min-width:&amp;nbsp;768px)&amp;nbsp;and&amp;nbsp;(max-width:&amp;nbsp;979px)&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;.row-fluid&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;width:100%;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;float:left!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;}!!discoiqbr!!}!!discoiqbr!!!!discoiqbr!!@media&amp;nbsp;(max-width:480px){!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;.row-fluid&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;width:100%;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;float:none!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;}!!discoiqbr!!} 
  </codeblock> 
  <h4>Assigning Classes to Content Blocks</h4> 
  <p>For the page layout of each viewport size you are targeting, determine the number of columns that each content block spans. Then, determine which class to use for the div elements of those content blocks.</p> 
  <p>When you have established the div classes, you can implement the grid using your AEM application.</p> 
 </body> 
</html>