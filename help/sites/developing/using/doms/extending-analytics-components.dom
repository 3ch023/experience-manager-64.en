<?xml version="1.1" encoding="UTF-8" standalone="yes"?> 
<html> 
 <head> 
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/SITES" name="primaryProductTag" /> 
  <meta content="audience:developing" name="primaryAudienceTag" /> 
  <meta content="Adding Adobe Analytics Tracking to Components" name="jcr:title" /> 
  <meta content="/content/docs/en/aem/6-3/develop/extending/sitecatalyst/sc-components" name="qaNotes" /> 
  <meta content="help/components/pages/article-3" name="sling:resourceType" /> 
  <meta content="/apps/help/templates/article-3" name="cq:template" /> 
  <meta content="Activate" name="cq:lastReplicationAction" /> 
  <meta content="2018-07-05T03:37:59.565-0400" name="cq:lastModified" /> 
  <meta content="admin" name="jcr:createdBy" /> 
  <meta content="2018-05-31T07:25:16.325-0400" name="lastPublishExternalDate" /> 
  <meta content="2018-07-05T03:38:04.002-0400" name="cq:lastReplicated" /> 
  <meta content="/content/help/en/experience-manager/6-4/sites/developing/morehelp/extending-aem;/content/help/en/experience-manager/6-4/sites/developing/morehelp/extending-aem" name="moreHelpPaths" /> 
  <meta content="Adding Adobe Analytics Tracking to Components" name="navTitle" /> 
  <meta content="2017-10-12T21:46:58.665-0400" name="mwpw_migration_script_version" /> 
  <meta content="" name="jcr:primaryType" /> 
  <meta content="2018-05-31T07:25:16.325-0400" name="publishExternalDate" /> 
  <meta content="en_us" name="jcr:language" /> 
  <meta content="aheimoz@adobe.com" name="lr_lastReplicatedBy" /> 
  <meta content="79cb080b-1e3c-411e-8b51-54c4c8c1fce7" name="jcr:uuid" /> 
  <meta content="true" name="jcr:isCheckedOut" /> 
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/SITES;topic_tags:extending-aem;content_type:reference" name="cq:tags" /> 
  <meta content="2018-05-31T07:25:16.325-0400" name="topicBrowsingSortDate" /> 
  <meta content="Adding Adobe Analytics Tracking to Components" name="seoTitle" /> 
  <meta content="2017-10-12T21:46:00.000-0400" name="qaDate" /> 
  <meta content="" name="jcr:versionHistory" /> 
  <meta content="fa33cfc9-56ea-49e5-aabd-e31f088d7ec2" name="jcr:predecessors" /> 
  <meta content="https://helpx.adobe.com/experience-manager/6-4/sites/developing/using/extending-analytics-components.html" name="publishExternalURL" /> 
  <meta content="aheimoz" name="cq:lastModifiedBy" /> 
  <meta content="aheimoz" name="cq:lastReplicatedBy" /> 
  <meta content="2018-05-08T12:43:06.741-0400" name="locHandOffDate" /> 
  <meta content="2017-10-31T16:16:48.559-0400" name="firstPublishExternalDate" /> 
  <meta content="User" name="contentOwner" /> 
  <meta content="" name="jcr:baseVersion" /> 
  <meta content="/etc/designs/help" name="cq:designPath" /> 
  <meta content="2017-12-01T19:05:43.710-0500" name="jcr:created" /> 
  <meta content="mix:versionable" name="jcr:mixinTypes" /> 
 </head> 
 <body> 
  <h2>Including the Adobe Analytics Module in a Page Component</h2> 
  <p>Page template components (e.g. <span class="code">head.jsp, body.jsp</span>) need JSP includes in order to load the ContextHub and the Adobe Analytics integration (which is a part of Cloud Services). All includes load JavaScript files.</p> 
  <p>The ContextHub entry should be included immediately below the <span class="code">&amp;lt;head&amp;gt;</span> tag, while Cloud Services should be included in the <span class="code">&amp;lt;head&amp;gt;</span> and before the <span class="code">&amp;lt;/body&amp;gt;</span> section; for example:</p> 
  <codeblock gutter="true" class="syntax xml">
    &lt;head&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;sling:include&amp;nbsp;path="contexthub"&amp;nbsp;resourceType="granite/contexthub/components/contexthub"&amp;nbsp;/&gt;!!discoiqbr!!...!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;cq:include&amp;nbsp;script="/libs/cq/cloudserviceconfigs/components/servicelibs/servicelibs.jsp"/&gt;!!discoiqbr!!...!!discoiqbr!!&lt;/head&gt;!!discoiqbr!!&lt;body&gt;!!discoiqbr!!...!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;cq:include&amp;nbsp;path="cloudservices"&amp;nbsp;resourceType="cq/cloudserviceconfigs/components/servicecomponents"/&gt;!!discoiqbr!!&lt;/body&gt; 
  </codeblock> 
  <p>The <span class="code">contexthub</span> script that you insert after the <span class="code">&amp;lt;head&amp;gt;</span> element adds the ContextHub features to the page.</p> 
  <p>The <span class="code">cloudservices</span> scripts that you add in the <span class="code">&amp;lt;head&amp;gt;</span> and the <span class="code">&amp;lt;body&amp;gt;</span> sections apply to the cloud services configurations that are added to the page. (If the page uses more than one Cloud Services configuration, you need to include the ContextHub jsp and the Cloud Services jsp only once.)</p> 
  <p>When a Adobe Analytics framework is added to the page, the <span class="code">cloudservices</span> scripts generate Adobe Analytics-related javascript and references to client-side librarires, similar to the following example:</p> 
  <codeblock gutter="true" class="syntax xml">
    &lt;div&amp;nbsp;class="sitecatalyst&amp;nbsp;cloudservice"&gt;!!discoiqbr!!&lt;script&amp;nbsp;type="text/javascript"&amp;nbsp;src="/etc/clientlibs/foundation/sitecatalyst/sitecatalyst.js"&gt;&lt;/script&gt;!!discoiqbr!!&lt;script&amp;nbsp;type="text/javascript"&amp;nbsp;src="/etc/clientlibs/foundation/sitecatalyst/util.js"&gt;&lt;/script&gt;!!discoiqbr!!&lt;script&amp;nbsp;type="text/javascript"&amp;nbsp;src="/content/geometrixx-outdoors/_jcr_content/analytics.sitecatalyst.js"&gt;&lt;/script&gt;!!discoiqbr!!&lt;script&amp;nbsp;type="text/javascript"&amp;nbsp;src="/etc/clientlibs/mac/mac-sc.js"&gt;&lt;/script&gt;!!discoiqbr!!&lt;script&amp;nbsp;type="text/javascript"&amp;nbsp;src="/etc/clientlibs/foundation/sitecatalyst/plugins.js"&gt;&lt;/script&gt;!!discoiqbr!!&lt;script&amp;nbsp;type="text/javascript"&gt;!!discoiqbr!!&lt;!--!!discoiqbr!!CQ_Analytics.Sitecatalyst.frameworkComponents&amp;nbsp;=&amp;nbsp;['foundation/components/page'];!!discoiqbr!!/**!!discoiqbr!!&amp;nbsp;*&amp;nbsp;Sets&amp;nbsp;Adobe&amp;nbsp;Analytics&amp;nbsp;variables&amp;nbsp;accordingly&amp;nbsp;to&amp;nbsp;mapped&amp;nbsp;components.&amp;nbsp;If&amp;nbsp;&lt;code&gt;options&lt;/code&gt;&amp;nbsp;!!discoiqbr!!&amp;nbsp;*&amp;nbsp;object&amp;nbsp;is&amp;nbsp;provided&amp;nbsp;only&amp;nbsp;variables&amp;nbsp;matching&amp;nbsp;the&amp;nbsp;options.componentPath&amp;nbsp;are&amp;nbsp;set.!!discoiqbr!!&amp;nbsp;*!!discoiqbr!!&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;{Object}&amp;nbsp;options&amp;nbsp;Parameter&amp;nbsp;object&amp;nbsp;from&amp;nbsp;CQ_Analytics.record()&amp;nbsp;call.&amp;nbsp;Optional.!!discoiqbr!!&amp;nbsp;*/!!discoiqbr!!CQ_Analytics.Sitecatalyst.updateEvars&amp;nbsp;=&amp;nbsp;function(options)&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;this.frameworkMappings&amp;nbsp;=&amp;nbsp;[];!!discoiqbr!!&amp;nbsp;this.frameworkMappings.push({scVar:"pageName",cqVar:"pagedata.title",resourceType:"foundation/components/page"});!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;for&amp;nbsp;(var&amp;nbsp;i=0;&amp;nbsp;i&lt;this.frameworkMappings.length;&amp;nbsp;i++){!!discoiqbr!!&amp;nbsp;&amp;nbsp;var&amp;nbsp;m&amp;nbsp;=&amp;nbsp;this.frameworkMappings[i];!!discoiqbr!!&amp;nbsp;&amp;nbsp;if&amp;nbsp;(!options&amp;nbsp;||&amp;nbsp;options.compatibility&amp;nbsp;||&amp;nbsp;(options.componentPath&amp;nbsp;==&amp;nbsp;m.resourceType))&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;CQ_Analytics.Sitecatalyst.setEvar(m);!!discoiqbr!!&amp;nbsp;&amp;nbsp;}!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}!!discoiqbr!!}!!discoiqbr!!!!discoiqbr!!CQ_Analytics.CCM.addListener("storesinitialize",&amp;nbsp;function(e)&amp;nbsp;{!!discoiqbr!!&amp;nbsp;var&amp;nbsp;collect&amp;nbsp;=&amp;nbsp;true;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var&amp;nbsp;lte&amp;nbsp;=&amp;nbsp;s.linkTrackEvents;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;s.pageName="content:geometrixx-outdoors:en";!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;CQ_Analytics.Sitecatalyst.collect(collect);!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&amp;nbsp;(collect)&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;CQ_Analytics.Sitecatalyst.updateEvars();!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/*************&amp;nbsp;DO&amp;nbsp;NOT&amp;nbsp;ALTER&amp;nbsp;ANYTHING&amp;nbsp;BELOW&amp;nbsp;THIS&amp;nbsp;LINE&amp;nbsp;!&amp;nbsp;**************/!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var&amp;nbsp;s_code=s.t();if(s_code)document.write(s_code);!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;s.linkTrackEvents&amp;nbsp;=&amp;nbsp;lte;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if(s.linkTrackVars.indexOf('events')==-1){delete&amp;nbsp;s.events};!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$CQ(document).trigger("sitecatalystAfterCollect");!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}!!discoiqbr!!});!!discoiqbr!!//--&gt;!!discoiqbr!!&lt;/script&gt;!!discoiqbr!!&lt;script&amp;nbsp;type="text/javascript"&gt;!!discoiqbr!!&lt;!--!!discoiqbr!!if(navigator.appVersion.indexOf('MSIE')&gt;=0)document.write(unescape('%3C')+'\!-'+'-')!!discoiqbr!!//--&gt;!!discoiqbr!!&lt;/script&gt;!!discoiqbr!!&lt;noscript&gt;&lt;img&amp;nbsp;src="http://daydocumentation.112.2o7.net/b/ss/daydocumentation/1/H.25--NS/1380120772954?cdp=3&amp;amp;gn=content%3Ageometrixx-outdoors%3Aen"&amp;nbsp;height="1"&amp;nbsp;width="1"&amp;nbsp;border="0"&amp;nbsp;alt=""/&gt;&lt;/noscript&gt;!!discoiqbr!!&lt;span&amp;nbsp;data-tracking="{event:'pageView',&amp;nbsp;values:{},&amp;nbsp;componentPath:'foundation/components/page'}"&gt;&lt;/span&gt;!!discoiqbr!!&lt;div&amp;nbsp;id="cq-analytics-texthint"&amp;nbsp;style="background:white;&amp;nbsp;padding:0&amp;nbsp;10px;&amp;nbsp;display:none;"&gt;!!discoiqbr!!&amp;nbsp;&lt;h3&amp;nbsp;class="cq-texthint-placeholder"&gt;Component&amp;nbsp;clientcontext&amp;nbsp;is&amp;nbsp;missing&amp;nbsp;or&amp;nbsp;misplaced.&lt;/h3&gt;!!discoiqbr!!&lt;/div&gt;!!discoiqbr!!&lt;script&amp;nbsp;type="text/javascript"&gt;!!discoiqbr!!$CQ(function(){!!discoiqbr!!&amp;nbsp;if(&amp;nbsp;CQ_Analytics&amp;nbsp;&amp;&amp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;CQ_Analytics.ClientContextMgr&amp;nbsp;&amp;&amp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;!CQ_Analytics.ClientContextMgr.isConfigLoaded&amp;nbsp;)&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;$CQ("#cq-analytics-texthint").show();!!discoiqbr!!&amp;nbsp;&amp;nbsp;}!!discoiqbr!!});!!discoiqbr!!&lt;/script&gt;!!discoiqbr!!&lt;/div&gt; 
  </codeblock> 
  <p>All AEM sample sites such as Geometrixx Outdoors have this code included.</p> 
  <h4>The sitecatalystAfterCollect Event</h4> 
  <p>The <span class="code">cloudservices</span> script triggers the <span class="code">sitecatalystAfterCollect</span> event:</p> 
  <codeblock class="syntax js">
    $CQ(document).trigger("sitecatalystAfterCollect"); 
  </codeblock> 
  <p>This event is triggered to indicate that page tracking has been completed. If you are performing additional tracking operations on this page, you should listen to this event instead of the document load or document ready event. Using the <span class="code">sitecatalystAfterCollect</span> event avoids collisions or other unpredictable behavior.</p> 
  <note> 
   <p>The <span class="code">/libs/cq/analytics/clientlibs/sitecatalyst/sitecatalyst.js</span> library includes the code from the Adobe Analytics <span class="code">s_code.js</span> file.</p> 
  </note> 
  <h2>Implementing Adobe Analytics Tracking for Custom Components</h2> 
  <p>Enable your CQ components to interact with the Adobe Analytics framework. Then, configure your framework so that Adobe Analytics tracks the component data.</p> 
  <p>Components that interact with the Adobe Analytics framework appear in SideKick when you are editing a framework. After dragging the component to the framework, the component properties appear and you can then map them with Adobe Analytics properties. (See <a href="../../../sites/administering/using/adobeanalytics-connect.md#main-pars-title-2">Setting Up a Framework For Basic Tracking</a>.)</p> 
  <p>Components can interact with the Adobe Analytics framework when the component has a child node named <span class="code">analytics</span>. The <span class="code">analytics</span> node has the following properties:</p> 
  <ul> 
   <li><span class="code">cq:trackevents</span>: Identifies the CQ events that the component exposes. (See Custom Events.)</li> 
   <li><span class="code">cq:trackvars</span>: Names the CQ variables that are mapped with Adobe Analytics properties.</li> 
   <li><span class="code">cq:componentName</span>: The name for the component that appears in Sidekick.</li> 
   <li><span class="code">cq:componentGroup</span>: The group in Sidekick that includes the component.</li> 
  </ul> 
  <p>The code in the component JSP adds the javascript to the page that triggers the tracking, and defines the data that is tracked. The event name and data names used in the javascript must match the corresponding values of the <span class="code">analytics</span> node properties. </p> 
  <ul> 
   <li>Use the data-tracking attribute to track event data when a page loads. (See <a href="../../../sites/developing/using/extending-analytics.md#main-pars-title-1">Tracking Custom Events on Page Load</a>.)</li> 
   <li>Use the CQ_Analytics.record function to track event data when users interact with page features. (See <a href="../../../sites/developing/using/extending-analytics.md#main-pars-title-2">Tracking Custom Events After Page Load</a>.)</li> 
  </ul> 
  <p>When you use these data-tracking methods, the Adobe Analytics integration module automatically performs the calls to Adobe Analytics to record the events and data.</p> 
  <h3>Example: Tracking topnav Clicks</h3> 
  <p>Extend the foundation topnav component so that Adobe Analytics tracks clicks on navigation links at the top of the page. When a navigation link is clicked, Adobe Analytics records the link that was clicked, and the page on which it was clicked.</p> 
  <p>The following procedures require that you have already performed the following tasks:</p> 
  <ul> 
   <li>Created a CQ application.</li> 
   <li>Created a Adobe Analytics Configuration and a Adobe Analytics Framework.</li> 
  </ul> 
  <h4>Copy the topnav component</h4> 
  <p>Copy the topnav component to your CQ application. The procedure requires that your application is set up in CRXDE Lite.</p> 
  <ol> 
   <li><p>Right-click the <span class="code">/libs/foundation/components/topnav</span> node and click Copy.</p> </li> 
   <li><p>Right-click the Components folder below your application folder and click Paste.</p> </li> 
   <li><p>Click Save All.</p> </li> 
  </ol> 
  <h4>Integrating topnav With The Adobe Analytics Framework</h4> 
  <p>Configure the topnav component and edit the JSP file to define the tracking events and data.</p> 
  <ol> 
   <li><p>Right-click the topnav node and click Create &amp;gt; Create Node. Specify the following property values and then click OK:</p> 
    <ul> 
     <li>Name: <span class="code">analytics</span></li> 
     <li>Type: <span class="code">nt:unstructured</span></li> 
    </ul> </li> 
   <li><p>Add the following property to the analytics node to name the tracking event:</p> 
    <ul> 
     <li>Name: cq:trackevents</li> 
     <li>Type: String</li> 
     <li>Value: topnavClick</li> 
    </ul> </li> 
   <li><p>Add the following property to the analytics node to name the data variables:</p> 
    <ul> 
     <li>Name: cq:trackvars</li> 
     <li>Type: String</li> 
     <li>Value: topnavTarget,topnavLocation</li> 
    </ul> </li> 
   <li><p>Add the following property to the analytics node to name the component for Sidekick:</p> 
    <ul> 
     <li>Name: cq:componentName</li> 
     <li>Type: String</li> 
     <li>Value: topnav (tracking)</li> 
    </ul> </li> 
   <li><p>Add the following property to the analytics node to name the component group for Sidekick:</p> 
    <ul> 
     <li>Name: cq:componentGroup</li> 
     <li>Type: String</li> 
     <li>Value: General</li> 
    </ul> </li> 
   <li><p>Click Save All.</p> </li> 
   <li><p>Open the topnav.jsp file.</p> </li> 
   <li><p>In the a element, add the following attribute:</p> 
    <codeblock class="syntax xml">
      onclick&amp;nbsp;=&amp;nbsp;"tracknav('&lt;%=&amp;nbsp;child.getPath()&amp;nbsp;%&gt;.html')"&amp;nbsp; 
    </codeblock></li> 
   <li><p>At the bottom of the page, add the following javascript code:</p> 
    <codeblock class="syntax xml">
      &lt;script&amp;nbsp;type="text/javascript"&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;function&amp;nbsp;tracknav(target)&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&amp;nbsp;(CQ_Analytics.Sitecatalyst)&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;CQ_Analytics.record({!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;event:&amp;nbsp;'topnavClick',!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;values:&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;topnavTarget:&amp;nbsp;target,!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;topnavLocation:'&lt;%=currentPage.getPath()&amp;nbsp;%&gt;.html'!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;},!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;componentPath:&amp;nbsp;'&lt;%=resource.getResourceType()%&gt;'!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;});!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}!!discoiqbr!!&lt;/script&gt;&amp;nbsp;&amp;nbsp; 
    </codeblock></li> 
   <li><p>Click Save All.</p> </li> 
  </ol> 
  <p>The content of the topnav.jsp file should appear as follows:</p> 
  <codeblock class="syntax xml">
    &lt;%@page&amp;nbsp;session="false"%&gt;&lt;%--!!discoiqbr!!&amp;nbsp;&amp;nbsp;Copyright&amp;nbsp;1997-2008&amp;nbsp;Day&amp;nbsp;Management&amp;nbsp;AG!!discoiqbr!!&amp;nbsp;&amp;nbsp;Barfuesserplatz&amp;nbsp;6,&amp;nbsp;4001&amp;nbsp;Basel,&amp;nbsp;Switzerland!!discoiqbr!!&amp;nbsp;&amp;nbsp;All&amp;nbsp;Rights&amp;nbsp;Reserved.!!discoiqbr!!!!discoiqbr!!&amp;nbsp;&amp;nbsp;This&amp;nbsp;software&amp;nbsp;is&amp;nbsp;the&amp;nbsp;confidential&amp;nbsp;and&amp;nbsp;proprietary&amp;nbsp;information&amp;nbsp;of!!discoiqbr!!&amp;nbsp;&amp;nbsp;Day&amp;nbsp;Management&amp;nbsp;AG,&amp;nbsp;("Confidential&amp;nbsp;Information").&amp;nbsp;You&amp;nbsp;shall&amp;nbsp;not!!discoiqbr!!&amp;nbsp;&amp;nbsp;disclose&amp;nbsp;such&amp;nbsp;Confidential&amp;nbsp;Information&amp;nbsp;and&amp;nbsp;shall&amp;nbsp;use&amp;nbsp;it&amp;nbsp;only&amp;nbsp;in!!discoiqbr!!&amp;nbsp;&amp;nbsp;accordance&amp;nbsp;with&amp;nbsp;the&amp;nbsp;terms&amp;nbsp;of&amp;nbsp;the&amp;nbsp;license&amp;nbsp;agreement&amp;nbsp;you&amp;nbsp;entered&amp;nbsp;into!!discoiqbr!!&amp;nbsp;&amp;nbsp;with&amp;nbsp;Day.!!discoiqbr!!!!discoiqbr!!&amp;nbsp;&amp;nbsp;==============================================================================!!discoiqbr!!!!discoiqbr!!&amp;nbsp;&amp;nbsp;Top&amp;nbsp;Navigation&amp;nbsp;component!!discoiqbr!!!!discoiqbr!!&amp;nbsp;&amp;nbsp;Draws&amp;nbsp;the&amp;nbsp;top&amp;nbsp;navigation!!discoiqbr!!!!discoiqbr!!--%&gt;&lt;%@include&amp;nbsp;file="/libs/foundation/global.jsp"%&gt;&lt;%!!discoiqbr!!%&gt;&lt;%@&amp;nbsp;page&amp;nbsp;import="java.util.Iterator,!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;com.day.text.Text,!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;com.day.cq.wcm.api.PageFilter,!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;com.day.cq.wcm.api.Page,!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;com.day.cq.commons.Doctype,!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;org.apache.commons.lang3.StringEscapeUtils"&amp;nbsp;%&gt;&lt;%!!discoiqbr!!!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;get&amp;nbsp;starting&amp;nbsp;point&amp;nbsp;of&amp;nbsp;navigation!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;long&amp;nbsp;absParent&amp;nbsp;=&amp;nbsp;currentStyle.get("absParent",&amp;nbsp;2L);!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;String&amp;nbsp;navstart&amp;nbsp;=&amp;nbsp;Text.getAbsoluteParent(currentPage.getPath(),&amp;nbsp;(int)&amp;nbsp;absParent);!!discoiqbr!!!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//if&amp;nbsp;not&amp;nbsp;deep&amp;nbsp;enough&amp;nbsp;take&amp;nbsp;current&amp;nbsp;node!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&amp;nbsp;(navstart.equals(""))&amp;nbsp;navstart=currentPage.getPath();!!discoiqbr!!!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Resource&amp;nbsp;rootRes&amp;nbsp;=&amp;nbsp;slingRequest.getResourceResolver().getResource(navstart);!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Page&amp;nbsp;rootPage&amp;nbsp;=&amp;nbsp;rootRes&amp;nbsp;==&amp;nbsp;null&amp;nbsp;?&amp;nbsp;null&amp;nbsp;:&amp;nbsp;rootRes.adaptTo(Page.class);!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;String&amp;nbsp;xs&amp;nbsp;=&amp;nbsp;Doctype.isXHTML(request)&amp;nbsp;?&amp;nbsp;"/"&amp;nbsp;:&amp;nbsp;"";!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&amp;nbsp;(rootPage&amp;nbsp;!=&amp;nbsp;null)&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Iterator&lt;Page&gt;&amp;nbsp;children&amp;nbsp;=&amp;nbsp;rootPage.listChildren(new&amp;nbsp;PageFilter(request));!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;while&amp;nbsp;(children.hasNext())&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Page&amp;nbsp;child&amp;nbsp;=&amp;nbsp;children.next();!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;%&gt;&lt;a&amp;nbsp;onclick&amp;nbsp;=&amp;nbsp;"tracknav('&lt;%=&amp;nbsp;child.getPath()&amp;nbsp;%&gt;.html')"&amp;nbsp;&amp;nbsp;href="&lt;%=&amp;nbsp;child.getPath()&amp;nbsp;%&gt;.html"&gt;&lt;%!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;%&gt;&lt;img&amp;nbsp;alt="&lt;%=&amp;nbsp;StringEscapeUtils.escapeXml(child.getTitle())&amp;nbsp;%&gt;"&amp;nbsp;src="&lt;%=&amp;nbsp;child.getPath()&amp;nbsp;%&gt;.navimage.png"&lt;%=&amp;nbsp;xs&amp;nbsp;%&gt;&gt;&lt;/a&gt;&lt;%!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}!!discoiqbr!!%&gt;&lt;script&amp;nbsp;type="text/javascript"&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;function&amp;nbsp;tracknav(target)&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&amp;nbsp;(CQ_Analytics.Sitecatalyst)&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;CQ_Analytics.record({!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;event:&amp;nbsp;'topnavClick',!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;values:&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;topnavTarget:target,!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;topnavLocation:'&lt;%=currentPage.getPath()&amp;nbsp;%&gt;.html'!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;},!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;componentPath:&amp;nbsp;'&lt;%=resource.getResourceType()%&gt;'!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;});!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}!!discoiqbr!!&lt;/script&gt;&amp;nbsp;&amp;nbsp; 
  </codeblock> 
  <note> 
   <p>It is often desirable to track data from the ContextHub. For information about using javascript to obtain this information, see <a href="../../../sites/developing/using/extending-analytics.md#accessingvaluesinthecontexthub">Accessing Values in the ContextHub</a>. </p> 
  </note> 
  <h4>Adding the Tracking Component to Sidekick</h4> 
  <p>Add components that are enabled for tracking with the Adobe Analytics to Sidekick so that you can add them to your framework.</p> 
  <ol> 
   <li><p>Open your Adobe Analytics framework from your Adobe Analytics Configuration. (<a href="http://localhost:4502/etc/cloudservices/sitecatalyst.html">http://localhost:4502/etc/cloudservices/sitecatalyst.html</a>)</p> </li> 
   <li><p>On Sidekick, click the Design button.</p> <img imageRotate="0" src="assets/chlimage_1.png" /></li> 
   <li><p>In the Link Tracking Configuration area, click Configure Inheritance.</p> <img imageRotate="0" src="assets/chlimage_1-1.png" /></li> 
   <li><p>In the Allowed Components list, select topnav (tracking) in the General section, then click OK.</p> </li> 
   <li><p>Expand Sidekick to enter edit mode. The component is now available in the General group.</p> </li> 
  </ol> 
  <h4>Adding the topnav Component to Your Framework</h4> 
  <p>Drag the topnav component to your Adobe Analytics framework and map the component variables and events to Adobe Analytics variables and events. (See <a href="../../../sites/administering/using/adobeanalytics-connect.md#creatingasitecatalystframework">Setting Up a Framework For Basic Tracking</a>.)</p> 
  <img imageRotate="0" src="assets/chlimage_1-2.png" /> 
  <p>The topnav component is now integrated with the Adobe Analytics framework. When you add the component to a page, clicking the items in the top navigation bar causes tracking data to be sent to Adobe Analytics.</p> 
  <h3>Sending s.products Data to Adobe Analytics</h3> 
  <p>Components can generate data for the s.products variable that is sent to Adobe Analytics. Design your components to contribute to the s.products variable: </p> 
  <ul> 
   <li>Record a value named <span class="code">product</span> of a specific structure.</li> 
   <li>Expose the data members of the <span class="code">product</span> value so that they can be mapped with Adobe Analytics variables in the Adobe Analytics framework.</li> 
  </ul> 
  <p>The Adobe Analytics s.products variable uses the following syntax:</p> 
  <codeblock class="syntax js">
    s.products="category;product;quantity;price;eventY={value}|eventZ={value};evarA={value}|evarB={value}" 
  </codeblock> 
  <p>The Adobe Analytics integration module constructs the <span class="code">s.products</span> variable using the <span class="code">product</span> values that AEM components generate. The <span class="code">product</span> value in the javascript that AEM components generate is an array of values that have the following structure:</p> 
  <codeblock class="syntax js">
    "product":&amp;nbsp;[{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"category":&amp;nbsp;"",!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"sku"&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;:&amp;nbsp;"path&amp;nbsp;to&amp;nbsp;product&amp;nbsp;node",!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"quantity":&amp;nbsp;quantity,!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"price"&amp;nbsp;&amp;nbsp;&amp;nbsp;:&amp;nbsp;price,!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"events&amp;nbsp;&amp;nbsp;&amp;nbsp;:&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"eventName1":&amp;nbsp;"eventValue1",!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"eventName_n":&amp;nbsp;"eventValue_n"!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"evars"&amp;nbsp;&amp;nbsp;&amp;nbsp;:&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"eVarName1":&amp;nbsp;"eVarValue1",!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"eVarName_n":&amp;nbsp;"eVarValue_n"!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}!!discoiqbr!!}] 
  </codeblock> 
  <p>When a data item is omitted from the <span class="code">product</span> value, it is sent as an empty string in s.products.</p> 
  <note> 
   <p>When no event is associated with a product value, Adobe Analytics uses the <span class="code">prodView</span> event by default.</p> 
  </note> 
  <p>The <span class="code">analytics</span> node of the component must expose the variable names using the <span class="code">cq:trackvars</span> property:</p> 
  <ul> 
   <li>product.category</li> 
   <li>product.sku</li> 
   <li>product.quantity</li> 
   <li>product.price</li> 
   <li>product.events.eventName1</li> 
   <li>product.events.eventName_n</li> 
   <li>product.evars.eVarName1</li> 
   <li>product.evars.eVarName_n</li> 
  </ul> 
  <p>The eCommerce module provides several components that generate s.products variable data. For example, the submitorder component (<a href="http://localhost:4502/crx/de/index.jsp#/libs/commerce/components/submitorder/submitorder.jsp">http://localhost:4502/crx/de/index.jsp#/libs/commerce/components/submitorder/submitorder.jsp</a>) generates javascript that is similar to the following example:</p> 
  <codeblock class="syntax js">
    &lt;script&amp;nbsp;type="text/javascript"&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;function&amp;nbsp;trackCartPurchase()&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&amp;nbsp;(CQ_Analytics.Sitecatalyst)&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;CQ_Analytics.record({!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"event":&amp;nbsp;["productsCartPurchase"],!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"values":&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"product":&amp;nbsp;[!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"category":&amp;nbsp;"",!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"sku"&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;:&amp;nbsp;"/path/to/prod/1",!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"quantity":&amp;nbsp;3,!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"price"&amp;nbsp;&amp;nbsp;&amp;nbsp;:&amp;nbsp;179.7,!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"evars"&amp;nbsp;&amp;nbsp;&amp;nbsp;:&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"childSku":&amp;nbsp;"/path/to/prod/1/green/xs",!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"size"&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;:&amp;nbsp;"XS"!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;},!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"category":&amp;nbsp;"",!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"sku"&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;:&amp;nbsp;"/path/to/prod/2",!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"quantity":&amp;nbsp;10,!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"price"&amp;nbsp;&amp;nbsp;&amp;nbsp;:&amp;nbsp;150,!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"evars"&amp;nbsp;&amp;nbsp;&amp;nbsp;:&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"childSku":&amp;nbsp;"/path/to/prod/2",!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"size"&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;:&amp;nbsp;""!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;},!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"category":&amp;nbsp;"",!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"sku"&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;:&amp;nbsp;"/path/to/prod/3",!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"quantity":&amp;nbsp;2,!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"price"&amp;nbsp;&amp;nbsp;&amp;nbsp;:&amp;nbsp;102,!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"evars"&amp;nbsp;&amp;nbsp;&amp;nbsp;:&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"childSku":&amp;nbsp;"/path/to/prod/3/m",!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"size"&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;:&amp;nbsp;"M"!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;]!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;},!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"componentPath":&amp;nbsp;"commerce/components/submitorder"!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;});!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;CQ_Analytics.record({!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"event":&amp;nbsp;["discountRedemption"],!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"values":&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"discount":&amp;nbsp;"/path/to/discount/1&amp;nbsp;-&amp;nbsp;/path/to/discount/2",!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"product"&amp;nbsp;:&amp;nbsp;[{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"category":&amp;nbsp;"",!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"sku"&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;:&amp;nbsp;"Promotional&amp;nbsp;Discount",!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"events"&amp;nbsp;&amp;nbsp;:&amp;nbsp;{"discountRedemption":&amp;nbsp;20.00}!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}]!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;},!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"componentPath":&amp;nbsp;"commerce/components/submitorder"!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;});!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;CQ_Analytics.record({!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"event":&amp;nbsp;["cartPurchase"],!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"values":&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"orderId"&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;:&amp;nbsp;"00e40e2d-13a2-4a00-a8ee-01a9ebb0bf68",!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"shippingMethod":&amp;nbsp;"overnight",!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"paymentMethod"&amp;nbsp;:&amp;nbsp;"Amex",!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"billingState"&amp;nbsp;&amp;nbsp;:&amp;nbsp;"NY",!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"billingZip"&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;:&amp;nbsp;"10458",!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"product"&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;:&amp;nbsp;[{"category":&amp;nbsp;"",&amp;nbsp;"sku":&amp;nbsp;"",&amp;nbsp;"quantity":&amp;nbsp;"",&amp;nbsp;"price":&amp;nbsp;""}]!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;},!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"componentPath":&amp;nbsp;"commerce/components/submitorder"!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;});!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;true;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}!!discoiqbr!!&lt;/script&gt; 
  </codeblock> 
  <h4>Limiting the Size of Tracking Calls</h4> 
  <p>Generally, web browsers limit the size of GET requests. Because CQ product and SKU values are repository paths, product arrays that include multiple values can exceed the request size limit. Therefore, your components should limit the number of items in the <span class="code">product</span> array of each <span class="code">CQ_Analytics.record function</span>. Create multiple functions if the number of items that you need to track can exceed the limit.</p> 
  <p>For example, the eCommerce submitorder component limits the number of <span class="code">product</span> items in a call to four. When the cart contains more than four products, it generates multiple <span class="code">CQ_Analytics.record</span> functions.</p> 
 </body> 
</html>