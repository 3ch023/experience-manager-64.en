<?xml version="1.1" encoding="UTF-8" standalone="yes"?> 
<html> 
 <head> 
  <meta content="2017-11-21T06:59:52.489-0500" name="cq:lastModified" /> 
  <meta content="vishgupt@adobe.com" name="lr_lastReplicatedBy" /> 
  <meta content="" name="publishExternalURL" /> 
  <meta content="Activate" name="cq:lastReplicationAction" /> 
  <meta content="/etc/designs/help" name="cq:designPath" /> 
  <meta content="" name="jcr:baseVersion" /> 
  <meta content="71a32e8f-1533-4923-a0e7-08258eff085e" name="jcr:predecessors" /> 
  <meta content="" name="jcr:primaryType" /> 
  <meta content="" name="jcr:versionHistory" /> 
  <meta content="2017-11-01T04:29:33.461-0400" name="unpublishExternalDate" /> 
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/FORMS" name="primaryProductTag" /> 
  <meta content="2017-11-22T19:04:52.694-0500" name="jcr:created" /> 
  <meta content="false" name="doNotLocalize" /> 
  <meta content="carlino" name="cq:lastReplicatedBy" /> 
  <meta content="admin" name="lr_lastModifiedBy" /> 
  <meta content="Rendering Rights-Enabled Forms" name="jcr:title" /> 
  <meta content="audience:developing" name="primaryAudienceTag" /> 
  <meta content="help/components/pages/article-3" name="sling:resourceType" /> 
  <meta content="2018-04-03T08:33:06.379-0400" name="cq:lastReplicated" /> 
  <meta content="Rendering Rights-Enabled Forms Rendering Rights-Enabled Forms Rendering Rights-Enabled Forms" name="navTitle" /> 
  <meta content="/content/help/en/experience-manager/6-4/forms/developing/morehelp/operations;/content/help/en/experience-manager/6-4/forms/developing/morehelp/operations" name="moreHelpPaths" /> 
  <meta content="637bf08c-e2de-45e9-b08b-58530859bc3a" name="jcr:uuid" /> 
  <meta content="AEMForms/6.1/ProgramLC/WS624e3cba99b79e12e69a9941333732bac8-7e3a.2,AEMForms/6.1/ProgramLC/WSc4f8f29d5e2eb645-3646f28d15a1c54068b-8000,AEMForms/6.1/ProgramLC/WS624e3cba99b79e123bdd6a6d1336a3527c2-7fff.2,AEMForms/6.1/ProgramLC/WS624e3cba99b79e12e69a9941333732bac8-7a38.2,AEMForms/6.1/ProgramLC/WS624e3cba99b79e12e69a9941333732bac8-7a37.2" name="cq:gepId" /> 
  <meta content="left" name="sideColumn" /> 
  <meta content="head1_20111213" name="gep_conversion_script_version" /> 
  <meta content="light" name="heroGradient" /> 
  <meta content="not_checked" name="acrolinxStatus" /> 
  <meta content="video" name="pageLayout" /> 
  <meta content="en_us" name="jcr:language" /> 
  <meta content="mix:versionable" name="jcr:mixinTypes" /> 
  <meta content="content_type:reference;geptopics:SG_AEMFORMS/categories/rendering_forms;products:SG_EXPERIENCEMANAGER/6.4/FORMS;topic_tags:operations" name="cq:tags" /> 
  <meta content="2017-10-31T16:33:01.063-0400" name="lastPublishExternalDate" /> 
  <meta content="true" name="jcr:isCheckedOut" /> 
  <meta content="carlino" name="cq:lastModifiedBy" /> 
  <meta content="2017-08-09T03:29:00.000-0400" name="sortDate" /> 
  <meta content="admin" name="contentOwner" /> 
  <meta content="admin" name="lr_creator" /> 
  <meta content="2017-10-03T06:52:31.770-0400" name="firstPublishExternalDate" /> 
  <meta content="2017-08-09T03:29:45.730-0400" name="lr_lastModified" /> 
  <meta content="admin" name="jcr:createdBy" /> 
  <meta content="/apps/help/templates/article-3" name="cq:template" /> 
 </head> 
 <body> 
  <h2 id="rendering_rights_enabled_forms">Rendering Rights- Enabled Forms</h2> 
  <p></p> 
  <p>The Forms service can render forms that have usage rights applied to them. Usage rights pertain to functionality that is available by default in Acrobat but not in Adobe Reader, such as the ability to add comments to a form or to fill in form fields and save the form. Forms that have usage rights applied to them are called rights-enabled forms. A user who opens a rights-enabled form in Adobe Reader can perform operations that are enabled for that form.</p> 
  <p>In order to apply usage rights to a form, the Acrobat Reader DC extensions service must be part of your AEM forms installation. Also, you must have a valid credential that enables you to apply usage rights to PDF documents. That is, you must properly configure the Acrobat Reader DC extensions service before you can render a rights-enabled form. (See <a href="/programming-with-aem-forms/assigning-usage-rights-assigning-usage assigning-usage-rights-assigning-usage#about_the_acrobat_reader_dc_extensions_service">About the Acrobat Reader DC extensions Service</a>.)</p> 
  <note> 
   <p>To render a form that contains usage rights, you must use an XDP file as input, not a PDF file. If you use a PDF file as input, the form is still rendered; however, it will not be a rights-enabled form. </p> 
  </note> 
  <note> 
   <p>You cannot prepopulate a form with XML data when you specify the following usage rights: <span class="code">enableComments</span>, <span class="code">enableCommentsOnline</span>, <span class="code">enableEmbeddedFiles</span>, or <span class="code">enableDigitalSignatures</span>. (See <a href="/programming-with-aem-forms/rendering-forms-rendering-forms prepopulating-forms-flowable-layouts-prepopulating#prepopulating_forms_with_flowable_layouts">Prepopulating Forms with Flowable Layouts</a>.)</p> 
  </note> 
  <note> 
   <p>For more information about the Forms service, see<a href="http://www.adobe.com/go/learn_aemforms_services_63"> Services Reference for AEM Forms</a>.</p> 
  </note> 
  <h3 id="summary_of_steps">Summary of steps</h3> 
  <p></p> 
  <p>To render a rights-enabled form, perform the following tasks:</p> 
  <ol> 
   <li><p>Include project files.</p></li> 
   <li><p>Create a Forms Client API object.</p></li> 
   <li><p>Set usage rights run-time options. </p></li> 
   <li><p>Render a rights-enabled form.</p></li> 
   <li><p>Write the rights-enabled form to the client web browser.</p></li> 
  </ol> 
  <p><strong>Include project files</strong></p> 
  <p>Include necessary files into your development project. If you are creating a client application using Java, include the necessary JAR files. If you are using web services, ensure that you include the proxy files.</p> 
  <p><strong>Create a Forms Client API object </strong></p> 
  <p>Before you can programmatically perform a Forms service Client API operation, you must create a Forms service client.</p> 
  <p><strong>Set usage rights run-time options</strong></p> 
  <p>You must set usage rights run-time options to render a rights-enabled form. You must also specify the alias of the credential that is used to apply usage rights to a form. After you specify the alias value, you specify each usage right to apply to the form.</p> 
  <p><strong>Render a rights-enabled form</strong></p> 
  <p>To render a rights-enabled form, you use the same application logic as rendering a form without usage rights. The only difference is that you must ensure that the usage rights run-time options are included in your application logic. </p> 
  <note> 
   <p>When rendering a rights-enabled form using the Forms web service API, you cannot attach files to the form. </p> 
  </note> 
  <p><strong>Write the form data stream to the client web browser</strong></p> 
  <p>When the Forms service renders a rights-enabled form, it returns a form data stream that you must write to the client web browser. Once written to the client web browser, the form is visible to the user. A user viewing the rights-enabled form in Adobe Reader is able to perform operations that are enabled for that form.</p> 
  <p><strong>See also</strong></p> 
  <p><a href="/programming-with-aem-forms/rendering-forms-rendering-forms rendering-rights-enabled-forms-rendering rendering-rights-enabled-forms-rendering#render_rights_enabled_forms_using_the_java_api">Render rights-enabled forms using the Java API</a></p> 
  <p><a href="/programming-with-aem-forms/rendering-forms-rendering-forms rendering-rights-enabled-forms-rendering rendering-rights-enabled-forms-rendering#render_rights_enabled_forms_using_the_web_service_api">Render rights-enabled forms using the web service API</a></p> 
  <p><a href="#unresolvedlink-lc-in-invoke-using-java-iu.xml#ws624e3cba99b79e12e69a9941333732bac8-7b4b.2">Including AEM Forms Java library files</a></p> 
  <p><a href="#unresolvedlink-lc-in-invoke-using-java-iu.xml#ws624e3cba99b79e12e69a9941333732bac8-7fd6.2">Setting connection properties</a></p> 
  <p><a href="#unresolvedlink-lc-qs-forms-fo.xml#ws624e3cba99b79e12e69a9941333732bac8-7af6.2">Forms Service API Quick Starts</a></p> 
  <p><a href="/programming-with-aem-forms/rendering-forms-rendering-forms rendering-interactive-pdf-forms-rendering#rendering_interactive_pdf_forms">Rendering Interactive PDF Forms</a></p> 
  <p><a href="/programming-with-aem-forms/rendering-forms-rendering-forms creating-web-applications-renders-forms#creating_web_applications_that_renders_forms">Creating Web Applications that Renders Forms</a></p> 
  <h4 id="render_rights_enabled_forms_using_the_java_api">Render rights-enabled forms using the Java API</h4> 
  <p></p> 
  <p>Render a rights-enabled form by using the Forms API (Java):</p> 
  <ol> 
   <li><p>Include project files </p><p>Include client JAR files, such as adobe-forms-client.jar, in your Java project’s class path.</p></li> 
   <li><p>Create a Forms Client API object </p> 
    <ul> 
     <li><p>Create a <span class="code">ServiceClientFactory</span> object that contains connection properties.</p></li> 
     <li><p>Create an <span class="code">FormsServiceClient</span> object by using its constructor and passing the <span class="code">ServiceClientFactory</span> object. </p></li> 
    </ul></li> 
   <li><p>Set usage rights run-time options </p> 
    <ul> 
     <li><p>Create a <span class="code">ReaderExtensionSpec</span> object by using its constructor. </p></li> 
     <li><p>Specify the alias of the credential by invoking the <span class="code">ReaderExtensionSpec</span> object’s <span class="code">setReCredentialAlias</span> method and specify a string value that represents the alias value. </p></li> 
     <li><p>Set each usage right by invoking the corresponding method that belongs to the <span class="code">ReaderExtensionSpec</span> object. However, you can only set a usage right if the credential that you reference allows you to do so. That is, you cannot set a usage right if the credential does not allow you to set it. For example. to set the usage right that enables a user to fill in form fields and save the form, invoke the <span class="code">ReaderExtensionSpec</span> object’s <span class="code">setReFillIn</span> method and pass <span class="code">true</span>. </p></li> 
    </ul> 
    <note> 
     <p>It is not necessary to invoke the <span class="code">ReaderExtensionSpec</span> object’s <span class="code">setReCredentialPassword</span><i> method. This method is not used by the Forms service. </i></p> 
    </note></li> 
   <li><p>Render a rights-enabled form </p><p>Invoke the <span class="code">FormsServiceClient</span> object’s <span class="code">renderPDFFormWithUsageRights</span> method and pass the following values:</p> 
    <ul> 
     <li><p>A string value that specifies the form design name, including the file name extension. If you reference a form design that is part of a Forms application, ensure that you specify the complete path, such as <span class="code">Applications/FormsApplication/1.0/FormsFolder/Loan.xdp</span>.</p></li> 
     <li><p>A <span class="code">com.adobe.idp.Document</span> object that contains data to merge with the form. If you do not want to merge data, pass an empty <span class="code">com.adobe.idp.Document</span> object.</p></li> 
     <li><p>A <span class="code">PDFFormRenderSpec</span> object that stores run-time options. </p></li> 
     <li><p>A <span class="code">ReaderExtensionSpec</span> object that stores usage rights run-time options. </p></li> 
     <li><p>A <span class="code">URLSpec</span> object that contains URI values that are required by the Forms service. </p></li> 
    </ul><p>The <span class="code">renderPDFFormWithUsageRights</span> method returns a <span class="code">FormsResult</span> object that contains a form data stream that must be written to the client web browser.</p></li> 
   <li><p>Write the form data stream to the client web browser </p> 
    <ul> 
     <li><p>Create a <span class="code">com.adobe.idp.Document</span> object by invoking the <span class="code">FormsResult</span> object ‘s <span class="code">getOutputContent</span> method.</p></li> 
     <li><p>Get the content type of the <span class="code">com.adobe.idp.Document</span> object by invoking its <span class="code">getContentType</span> method.</p></li> 
     <li><p>Set the <span class="code">javax.servlet.http.HttpServletResponse</span> object’s content type by invoking its <span class="code">setContentType</span> method and passing the content type of the <span class="code">com.adobe.idp.Document</span> object.</p></li> 
     <li><p>Create a <span class="code">javax.servlet.ServletOutputStream</span> object used to write the form data stream to the client web browser by invoking the <span class="code">javax.servlet.http.HttpServletResponse</span> object’s <span class="code">getOutputStream</span> method.</p></li> 
     <li><p>Create a <span class="code">java.io.InputStream</span> object by invoking the <span class="code">com.adobe.idp.Document</span> object’s <span class="code">getInputStream</span> method. </p></li> 
     <li><p>Create a byte array populate it with the form data stream by invoking the <span class="code">InputStream</span> object’s <span class="code">read</span> method and passing the byte array as an argument. </p></li> 
     <li><p>Invoke the <span class="code">javax.servlet.ServletOutputStream</span> object’s <span class="code">write</span> method to send the form data stream to the client web browser. Pass the byte array to the <span class="code">write</span> method.</p></li> 
    </ul></li> 
  </ol> 
  <p><strong>See also</strong></p> 
  <p><a href="/programming-with-aem-forms/rendering-forms-rendering-forms rendering-rights-enabled-forms-rendering#rendering_rights_enabled_forms">Rendering Rights-Enabled Forms</a></p> 
  <p><a href="#unresolvedlink-lc-qs-forms-fo.xml#ws624e3cba99b79e12e69a9941333732bac8-7e39.2">Quick Start (SOAP mode): Rendering a rights-enabled form using the Java API</a></p> 
  <p><a href="#unresolvedlink-lc-in-invoke-using-java-iu.xml#ws624e3cba99b79e12e69a9941333732bac8-7b4b.2">Including AEM Forms Java library files</a></p> 
  <p><a href="#unresolvedlink-lc-in-invoke-using-java-iu.xml#ws624e3cba99b79e12e69a9941333732bac8-7fd6.2">Setting connection properties</a></p> 
  <h3 id="render_rights_enabled_forms_using_the_web_service_api">Render rights-enabled forms using the web service API</h3> 
  <p>Render a rights-enabled form by using the Forms API (web service): </p> 
  <ol> 
   <li><p>Include project files </p> 
    <ul> 
     <li><p>Create Java proxy classes that consume the Forms service WSDL. </p></li> 
     <li><p>Include the Java proxy classes into your class path. </p></li> 
    </ul></li> 
   <li><p>Create a Forms Client API object </p><p>Create a <span class="code">FormsService</span> object and set authentication values. </p></li> 
   <li><p>Set usage rights run-time options </p> 
    <ul> 
     <li><p>Create a <span class="code">ReaderExtensionSpec</span> object by using its constructor. </p></li> 
     <li><p>Specify the alias of the credential by invoking the <span class="code">ReaderExtensionSpec</span> object’s <span class="code">setReCredentialAlias</span> method and specify a string value that represents the alias value. </p></li> 
     <li><p>Set each usage right by invoking the corresponding method that belongs to the <span class="code">ReaderExtensionSpec</span> object. However, you can only set a usage right if the credential that you reference allows you to do so. That is, you cannot set a usage right if the credential does not allow you to set it. To set the usage right that enables a user to fill in form fields and save the form, invoke the <span class="code">ReaderExtensionSpec</span> object’s <span class="code">setReFillIn</span> method and pass <span class="code">true</span>. </p></li> 
    </ul></li> 
   <li><p>Render a rights-enabled form </p><p>Invoke the <span class="code">FormsService</span> object’s <span class="code">renderPDFFormWithUsageRights</span> method and pass the following values:</p> 
    <ul> 
     <li><p>A string value that specifies the form design name, including the file name extension. If you reference a form design that is part of a Forms application, ensure that you specify the complete path, such as <span class="code">Applications/FormsApplication/1.0/FormsFolder/Loan.xdp</span>.</p></li> 
     <li><p>A <span class="code">BLOB</span> object that contains data to merge with the form. If you do not want to merge data with the form, you must pass a <span class="code">BLOB</span> object that is based on an empty XML data source. You cannot pass a <span class="code">BLOB</span> object that is null; otherwise, an exception is thrown. </p></li> 
     <li><p>A <span class="code">PDFFormRenderSpec</span> object that stores run-time options.</p></li> 
     <li><p>A <span class="code">ReaderExtensionSpec</span> object that stores usage rights run-time options. </p></li> 
     <li><p>A <span class="code">URLSpec</span> object that contains URI values that are required by the Forms service. </p></li> 
    </ul><p>The <span class="code">renderPDFFormWithUsageRights</span> method returns a <span class="code">FormsResult</span> object that contains a form data stream that must be written to the client web browser.</p></li> 
   <li><p>Write the form data stream to the client web browser </p> 
    <ul> 
     <li><p>Create a <span class="code">BLOB</span> object that contains form data by invoking the <span class="code">FormsResult</span> object’s <span class="code">getOutputContent</span> method. </p></li> 
     <li><p>Get the content type of the <span class="code">BLOB</span> object by invoking its <span class="code">getContentType</span> method.</p></li> 
     <li><p>Set the <span class="code">javax.servlet.http.HttpServletResponse</span> object’s content type by invoking its <span class="code">setContentType</span> method and passing the content type of the <span class="code">BLOB</span> object.</p></li> 
     <li><p>Create a <span class="code">javax.servlet.ServletOutputStream</span> object used to write the form data stream to the client web browser by invoking the <span class="code">javax.servlet.http.HttpServletResponse</span> object’s <span class="code">getOutputStream</span> method.</p></li> 
     <li><p>Create a byte array and populate it by invoking the <span class="code">BLOB</span> object’s <span class="code">getBinaryData</span> method. This task assigns the content of the <span class="code">FormsResult</span> object to the byte array. </p></li> 
     <li><p>Invoke the <span class="code">javax.servlet.http.HttpServletResponse</span> object’s <span class="code">write</span> method to send the form data stream to the client web browser. Pass the byte array to the <span class="code">write</span> method. </p></li> 
    </ul></li> 
  </ol> 
  <p><strong>See also</strong></p> 
  <p><a href="/programming-with-aem-forms/rendering-forms-rendering-forms rendering-rights-enabled-forms-rendering#rendering_rights_enabled_forms">Rendering Rights-Enabled Forms</a></p> 
  <p><a href="#unresolvedlink-lc-qs-forms-fo.xml#ws624e3cba99b79e12e69a9941333732bac8-7e38.2">Quick Start (Base64): Rendering a rights-enabled form using the web service API</a></p> 
  <p><a href="#unresolvedlink-lc-in-invoke-using-web-services-iu.xml#ws624e3cba99b79e12e69a9941333732bac8-7fca.2">Invoking AEM Forms using Base64 encoding</a></p> 
 </body> 
</html>