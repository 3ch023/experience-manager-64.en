<?xml version="1.1" encoding="UTF-8" standalone="yes"?>
<html>
 <head>
  <meta content="admin" name="jcr:createdBy" />
  <meta content="carlino" name="cq:lastReplicatedBy" />
  <meta content="2018-04-26T04:39:01.260-0400" name="cq:lastModified" />
  <meta content="Activate" name="cq:lastReplicationAction" />
  <meta content="left" name="sideColumn" />
  <meta content="" name="jcr:baseVersion" />
  <meta content="2013-03-08T16:55:03.660-0500" name="firstPublishQADate" />
  <meta content="/apps/help/templates/article-3" name="cq:template" />
  <meta content="f566c9b5-3174-4820-bb52-3639d12e0f6a" name="jcr:predecessors" />
  <meta content="710" name="acrolinxWords" />
  <meta content="Document details for renderer" name="navTitle" />
  <meta content="" name="jcr:versionHistory" />
  <meta content="" name="jcr:primaryType" />
  <meta content="true" name="jcr:isCheckedOut" />
  <meta content="light" name="heroGradient" />
  <meta content="https://helpx.adobe.com/experience-manager/6-4/forms/using/document-details-renderer.html" name="publishExternalURL" />
  <meta content="2015-09-28T11:00:36.690-0400" name="lastPublishQADate" />
  <meta content="en_us" name="jcr:language" />
  <meta content="not_checked" name="acrolinxStatus" />
  <meta content="content_type:reference;products:SG_EXPERIENCEMANAGER/6.4/FORMS;topic_tags:forms-workspace" name="cq:tags" />
  <meta content="2016-05-31T06:48:14.972-0400" name="acrolinxDate" />
  <meta content="Document details for renderer" name="jcr:title" />
  <meta content="help/components/pages/article-3" name="sling:resourceType" />
  <meta content="false" name="isReadyForLocalization" />
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/FORMS" name="primaryProductTag" />
  <meta content="2018-04-26T04:39:01.260-0400" name="locHandOffDate" />
  <meta content="http://checkstyle.corp.adobe.com:8031/output/en/document_details_renderer_admin_5e12de0b318c6865_2128_report.xml" name="acrolinxReportURL" />
  <meta content="2018-04-03T08:27:43.991-0400" name="lastPublishExternalDate" />
  <meta content="carlino@adobe.com" name="lr_lastReplicatedBy" />
  <meta content="false" name="doNotLocalize" />
  <meta content="2013-03-22T13:14:47.470-0400" name="firstPublishExternalDate" />
  <meta content="9568b084-2dae-47b7-b69e-7b332f8c034d" name="jcr:uuid" />
  <meta content="2017-12-01T19:02:46.850-0500" name="jcr:created" />
  <meta content="vishgupt" name="acrolinxLastCheckedBy" />
  <meta content="2018-04-03T08:27:43.991-0400" name="topicBrowsingSortDate" />
  <meta content="Conceptual information on how renders work in AEM Forms workspace to render the various supported form and file types." name="seoDescription" />
  <meta content="video" name="pageLayout" />
  <meta content="carlino" name="cq:lastModifiedBy" />
  <meta content="2018-04-03T08:27:45.617-0400" name="cq:lastReplicated" />
  <meta content="/etc/designs/help" name="cq:designPath" />
  <meta content="mix:lockable;mix:versionable" name="jcr:mixinTypes" />
  <meta content="https://helpx.stage.adobe.com/aem-forms/6-1/html-workspace/document-details-renderer.html" name="publishQAURL" />
  <meta content="red" name="acrolinxPageStatus" />
  <meta content="2015-09-28T11:00:36.690-0400" name="publishQADate" />
  <meta content="47" name="acrolinxSentences" />
  <meta content="2018-04-03T08:27:43.991-0400" name="publishExternalDate" />
 </head>
 <body>
  <h2>Introduction</h2>
  <p>In AEM Forms workspace, multiple form types are supported seamlessly. These include:</p> 
  <ul> 
   <li>PDF forms (XDP / Acroform / Flat PDFs)</li> 
   <li>New HTML forms</li> 
   <li>Images</li> 
   <li>Third-party applications (for example, Correspondence Management)</li> 
  </ul> 
  <div>
   This document explains the working of these renderers from the perspective of semantic customization / component reuse, so that customer requirements are met without breaking any rendition. While AEM Forms workspace allows for any user interface / semantic changes, it is recommended that the rendering logic of different form types not be changed, otherwise the results can be unpredictable. This document is for guidance / knowledge to support rendering the same form, using same workspace components in different portals, and not for modifying the rendering logic itself.
  </div> 
  <h2>PDF Forms</h2>
  <p>PDF forms are rendered by <span class="code">PdfTaskForm View</span>.</p> 
  <p>When an XDP form is rendered as PDF, a <span class="code">FormBridge</span> JavaScript™ is added by FormsAugmenter service. This JavaScript™ (inside the PDF form) helps in performing actions like form submit, form save, or taking form offline.</p> 
  <p>In AEM Forms workspace, PDFTaskForm view communicates with the <span class="code">FormBridge </span>javascript, via an intermediary HTML present at <span class="code">/lc/libs/ws/libs/ws/pdf.html</span>. The flow is:</p> 
  <p style="margin-left: 40px;"><strong>PDFTaskForm view - pdf.html</strong></p> 
  <p style="margin-left: 40px;">Communicates using <span class="code">window.postMessage</span> / <span class="code">window.attachEvent('message')</span></p> 
  <p style="margin-left: 40px;">This method is the standard way of communication between a parent frame and an iframe. The existing event listeners from previously opened PDF forms are removed before adding a new one. This purging also considers the switching between form tab and history tab in task details view.</p> 
  <p style="margin-left: 40px;"><strong>pdf.html - <span class="code">FormBridge </span>javascript inside the rendered PDF</strong></p> 
  <p style="margin-left: 40px;">Communicates using <span class="code">pdfObject.postMessage</span> / <span class="code">pdfObject.messageHandler</span></p> 
  <p style="margin-left: 40px;">This method is the standard way of communication with a PDF javascript from an HTML. PdfTaskForm view also takes care of flat PDF and renders it plainly.</p> 
  <note>
   <p>It is not recommended to modify the pdf.html / contents of PdfTaskForm view.</p> 
  </note>
  <h2>New HTML Forms</h2>
  <p>New HTML forms are rendered by NewHTMLTaskForm View.</p> 
  <p>When an XDP Form is rendered as HTML using the mobile forms package deployed on CRX, it also adds additional <span class="code">FormBridge</span> javascript to the form, which exposes different methods for saving and submitting form data.</p> 
  <p>This javascript is different from the one referred in PDF Forms above, but serves a similar purpose.</p> 
  <note>
   <p>It is not recommended to modify the contents of NewHTMLTaskForm view.</p> 
  </note>
  <h2>Flex Forms and Guides</h2>
  <p>Flex Forms are rendered by SwfTaskForm and guides are rendered by HtmlTaskForm Views respectively.</p> 
  <p>In AEM Forms workspace, these views communicate with the actual SWF which makes up the flex form/guide using an intermediary SWF present at <span class="code">/lc/libs/ws/libs/ws/WSNextAdapter.swf</span></p> 
  <p>The communication happens using<span class="code"> swfObject.postMessage</span> / <span class="code">window.flexMessageHandler</span>.</p> 
  <p>This protocol is defined by the <span class="code">WsNextAdapter.swf</span>. The existing <span class="code">flexMessageHandlers </span>on window object, from previously opened SWF forms are removed before adding a new one. The logic also considers the switching between form tab and history tab in task details view. <span class="code">WsNextAdapter.swf</span> is used for performing various form actions like save or submit.</p> 
  <note>
   <p>It is not recommended to modify <span class="code">WSNextAdapter.swf</span> or the contents of SwfTaskForm / HtmlTaskForm view.</p> 
  </note>
  <h2>Third-party applications (for example, Correspondence Management)</h2>
  <p>Third-party applications are rendered using ExtAppTaskForm view.</p> 
  <p style="margin-left: 40px;"><strong>Third-party application to AEM Forms workspace communication</strong></p> 
  <p style="margin-left: 40px;">AEM Forms workspace listens on <span class="code">window.global.postMessage([Message],[Payload])</span></p> 
  <p style="margin-left: 40px;">[Message] can be a string specified as <span class="code">SubmitMessage </span>| <span class="code">CancelMessage </span>| <span class="code">ErrorMessage </span>| <span class="code">actionEnabledMessage </span>in the <span class="code">runtimeMap</span>. Third-party applications must use this interface to notify AEM Forms workspace as needed. Using this interface is mandatory, because the AEM Forms workspace must know that when the task is submitted so that it can clean up the task window.</p> 
  <p style="margin-left: 40px;"><strong>AEM Forms workspace to third-party application communication</strong></p> 
  <p style="margin-left: 40px;">If AEM Forms workspace's direct action buttons are visible, it calls <span class="code">window.[External-App-Name].getMessage([Action])</span>, where [<span class="code">Action]</span> is read from the <span class="code">routeActionMap</span>. The third-party application must listen on this interface, and then notify AEM Forms workspace via the <span class="code">postMessage ()</span> API.</p> 
  <p style="margin-left: 40px;">For example, a Flex application can define <span class="code">ExternalInterface.addCallback('getMessage', listener)</span> to support this communication. If the third-party application wants to handle form submission via its own buttons, then you should specify <span class="code">hideDirectActions = true() in the runtimeMap</span> and you may skip this listener. Hence, this construct is optional.</p> 
  <p>You can read more on third-party application integration with respect to Correspondence Management at <a href="../../forms/using/integrating-correspondence-management-html-workspace.md">Integrating Correspondence Management in AEM Forms workspace</a>.</p> 
  <p><a href="https://www.adobe.com/account/sign-in.supportportal.html" target="_blank"><strong>Contact Support</strong></a></p> 
  <related-links>
   <a href="../../forms/using/backbone-interaction.md">Backbone interaction</a>
   <a href="../../forms/using/description-reusable-components.md">Description of the reusable components</a>
   <a href="../../forms/using/folder-structure.md">Understanding the folder structure</a>
   <a href="../../forms/using/document-details-renderer.md">Document details for renderer</a>
   <a href="../../forms/using/integrating-html-ws-components-web.md">Integrating AEM Forms workspace components in web applications</a>
   <a href="../../forms/using/new-render-submit-service.md">New Render and Submit service</a>
  </related-links>
 </body>
</html>