<?xml version="1.1" encoding="UTF-8" standalone="yes"?> 
<html> 
 <head> 
  <meta content="content_type:reference;products:SG_EXPERIENCEMANAGER/6.4/FORMS;topic_tags:Configuration" name="cq:tags" /> 
  <meta content="2018-11-06T01:39:35.047-0500" name="cq:lastReplicated" /> 
  <meta content="2015-06-12T04:25:41.610-0400" name="lastPublishQADate" /> 
  <meta content="video" name="pageLayout" /> 
  <meta content="http://checkstyle.corp.adobe.com:8031/output/en/adding_custom_storage_provider_forms_admin_5e12de0b318c6865_1953_report.xml" name="acrolinxReportURL" /> 
  <meta content="2018-11-06T01:39:34.953-0500" name="lastPublishExternalDate" /> 
  <meta content="left" name="sideColumn" /> 
  <meta content="help/components/pages/article-3" name="sling:resourceType" /> 
  <meta content="light" name="heroGradient" /> 
  <meta content="2018-11-21T02:37:41.561-0500" name="cq:lastModified" /> 
  <meta content="khsingh" name="cq:lastReplicatedBy" /> 
  <meta content="711" name="acrolinxWords" /> 
  <meta content="c9681d94-f053-4a59-956c-1e81679a0c28" name="jcr:uuid" /> 
  <meta content="2016-04-20T09:47:20.816-0400" name="firstPublishExternalDate" /> 
  <meta content="true" name="jcr:isCheckedOut" /> 
  <meta content="/content/help/en/experience-manager/6-4/forms/morehelp/configuration;/content/help/en/experience-manager/6-4/forms/morehelp/configuration" name="moreHelpPaths" /> 
  <meta content="" name="jcr:versionHistory" /> 
  <meta content="Activate" name="cq:lastReplicationAction" /> 
  <meta content="2016-05-31T06:31:54.345-0400" name="acrolinxDate" /> 
  <meta content="/apps/help/templates/article-3" name="cq:template" /> 
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/FORMS" name="primaryProductTag" /> 
  <meta content="2017-12-01T19:04:47.433-0500" name="jcr:created" /> 
  <meta content="admin" name="jcr:createdBy" /> 
  <meta content="khsingh" name="cq:lastModifiedBy" /> 
  <meta content="false" name="isReadyForLocalization" /> 
  <meta content="Custom storage for drafts and submissions component" name="jcr:title" /> 
  <meta content="vishgupt" name="acrolinxLastCheckedBy" /> 
  <meta content="2018-11-06T01:39:34.953-0500" name="topicBrowsingSortDate" /> 
  <meta content="" name="jcr:baseVersion" /> 
  <meta content="false" name="doNotLocalize" /> 
  <meta content="2018-11-19T08:17:14.819-0500" name="locHandOffDate" /> 
  <meta content="en_us" name="jcr:language" /> 
  <meta content="mix:versionable" name="jcr:mixinTypes" /> 
  <meta content="See how to customize the storage of user data for drafts and submissions." name="seoDescription" /> 
  <meta content="f6c9f9ba-03f5-4989-99d3-f061ed6a7c6a" name="jcr:predecessors" /> 
  <meta content="10" name="acrolinxSentences" /> 
  <meta content="https://helpx.adobe.com/experience-manager/6-4/forms/using/adding-custom-storage-provider-forms.html" name="publishExternalURL" /> 
  <meta content="green" name="acrolinxPageStatus" /> 
  <meta content="" name="jcr:primaryType" /> 
  <meta content="2018-11-06T01:39:34.953-0500" name="publishExternalDate" /> 
  <meta content="khsingh@adobe.com" name="lr_lastReplicatedBy" /> 
  <meta content="checked_improved" name="acrolinxStatus" /> 
  <meta content="locales:fr;locales:de;locales:ja" name="locLangTag" /> 
  <meta content="/etc/designs/help" name="cq:designPath" /> 
 </head> 
 <body> 
  <h2>Overview</h2> 
  <p>AEM Forms allows you to save a form as a draft. The draft functionality lets you maintain a work-in-progress form, which you can complete and submit later from any device.</p> 
  <p>By default, AEM Forms stores the user data associated with the draft and submission of a form in the <span class="code">/content/forms/fp</span> node on the Publish instance. In addition, the AEM Forms portal components provide data services, which you can use to customize the implementation of storing user data for drafts and submissions. For example, you can store user data in a data store.</p> 
  <h2>Prerequisites </h2> 
  <ul> 
   <li>Enable F<a href="../../forms/using/enabling-forms-portal-components.md">orms portal components</a> </li> 
   <li>Create a <a href="../../forms/using/creating-form-portal-page.md">forms portal page</a> </li> 
   <li>Enable <a href="../../forms/using/draft-submission-component.md" target="_blank">adaptive forms for forms portal</a></li> 
   <li>Learn <a href="../../forms/using/draft-submission-component.md#main-pars-header" target="_blank">implementation details of custom storage</a></li> 
  </ul> 
  <h2>Draft data service</h2> 
  <p>To customize the storage of user data for drafts, you need to implement all the methods of the <span class="code">DraftDataService</span> interface. The following sample code describes the methods and arguments.</p> 
  <codeblock gutter="true" class="syntax java">
    /**!!discoiqbr!!&amp;nbsp;*&amp;nbsp;DraftDataService&amp;nbsp;service&amp;nbsp;will&amp;nbsp;get/delete/save&amp;nbsp;user&amp;nbsp;data&amp;nbsp;(attachments&amp;nbsp;and&amp;nbsp;form&amp;nbsp;data)&amp;nbsp;filled&amp;nbsp;with&amp;nbsp;a&amp;nbsp;draft&amp;nbsp;instance&amp;nbsp;of&amp;nbsp;Form&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;*/!!discoiqbr!!!!discoiqbr!!public&amp;nbsp;interface&amp;nbsp;DraftDataService&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/**!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;To&amp;nbsp;save/modify&amp;nbsp;user&amp;nbsp;data&amp;nbsp;for&amp;nbsp;this&amp;nbsp;userDataID,&amp;nbsp;it&amp;nbsp;will&amp;nbsp;be&amp;nbsp;null&amp;nbsp;in&amp;nbsp;case&amp;nbsp;of&amp;nbsp;creation&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;draftDataID:&amp;nbsp;unique&amp;nbsp;identifier&amp;nbsp;associated&amp;nbsp;with&amp;nbsp;the&amp;nbsp;form&amp;nbsp;data!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;formName:&amp;nbsp;name&amp;nbsp;of&amp;nbsp;the&amp;nbsp;form&amp;nbsp;whose&amp;nbsp;draft&amp;nbsp;is&amp;nbsp;being&amp;nbsp;saved!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;formData:&amp;nbsp;user&amp;nbsp;data&amp;nbsp;associated&amp;nbsp;with&amp;nbsp;this&amp;nbsp;draft!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@return&amp;nbsp;userdataID&amp;nbsp;corresponding&amp;nbsp;to&amp;nbsp;which&amp;nbsp;user&amp;nbsp;data&amp;nbsp;has&amp;nbsp;been&amp;nbsp;stored&amp;nbsp;and&amp;nbsp;which&amp;nbsp;can&amp;nbsp;be&amp;nbsp;used&amp;nbsp;later&amp;nbsp;to&amp;nbsp;retrieve&amp;nbsp;this&amp;nbsp;user&amp;nbsp;data!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@throws&amp;nbsp;FormsPortalException!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*/!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public&amp;nbsp;String&amp;nbsp;saveData&amp;nbsp;(String&amp;nbsp;draftDataID,&amp;nbsp;String&amp;nbsp;formName,&amp;nbsp;String&amp;nbsp;formData)&amp;nbsp;throws&amp;nbsp;FormsPortalException;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/**!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;Returns&amp;nbsp;the&amp;nbsp;user&amp;nbsp;data&amp;nbsp;stored&amp;nbsp;against&amp;nbsp;the&amp;nbsp;ID&amp;nbsp;passed&amp;nbsp;as&amp;nbsp;the&amp;nbsp;argument!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;userDataID:&amp;nbsp;unique&amp;nbsp;data&amp;nbsp;id&amp;nbsp;for&amp;nbsp;user&amp;nbsp;data&amp;nbsp;associated&amp;nbsp;with&amp;nbsp;a&amp;nbsp;draft!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@return&amp;nbsp;user&amp;nbsp;data&amp;nbsp;associated&amp;nbsp;with&amp;nbsp;this&amp;nbsp;data&amp;nbsp;ID!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@throws&amp;nbsp;FormsPortalException!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*/!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public&amp;nbsp;byte[]&amp;nbsp;getData&amp;nbsp;(String&amp;nbsp;userDataID)&amp;nbsp;throws&amp;nbsp;FormsPortalException;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/**!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;To&amp;nbsp;delete&amp;nbsp;data&amp;nbsp;associated&amp;nbsp;with&amp;nbsp;this&amp;nbsp;draft!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;userDataID:&amp;nbsp;unique&amp;nbsp;data&amp;nbsp;id&amp;nbsp;for&amp;nbsp;data&amp;nbsp;associated&amp;nbsp;with&amp;nbsp;a&amp;nbsp;draft!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@return&amp;nbsp;status&amp;nbsp;of&amp;nbsp;delete&amp;nbsp;operation&amp;nbsp;on&amp;nbsp;data&amp;nbsp;associated&amp;nbsp;with&amp;nbsp;this&amp;nbsp;draft&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@throws&amp;nbsp;FormsPortalException!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*/!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public&amp;nbsp;boolean&amp;nbsp;deleteData&amp;nbsp;(String&amp;nbsp;userDataID)&amp;nbsp;throws&amp;nbsp;FormsPortalException;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/**!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;Saves&amp;nbsp;the&amp;nbsp;attachment&amp;nbsp;for&amp;nbsp;current&amp;nbsp;form&amp;nbsp;instance!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;attachmentsBytes:&amp;nbsp;byte&amp;nbsp;array&amp;nbsp;of&amp;nbsp;the&amp;nbsp;attachment&amp;nbsp;to&amp;nbsp;be&amp;nbsp;saved!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@return&amp;nbsp;unique&amp;nbsp;id&amp;nbsp;(attachmentID)&amp;nbsp;for&amp;nbsp;the&amp;nbsp;attachment&amp;nbsp;just&amp;nbsp;saved&amp;nbsp;(so&amp;nbsp;that&amp;nbsp;it&amp;nbsp;could&amp;nbsp;be&amp;nbsp;retrieved&amp;nbsp;later)!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@throws&amp;nbsp;FormsPortalException!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*/!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public&amp;nbsp;String&amp;nbsp;saveAttachment&amp;nbsp;(byte[]&amp;nbsp;attachmentBytes)&amp;nbsp;throws&amp;nbsp;FormsPortalException;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/**!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;To&amp;nbsp;delete&amp;nbsp;an&amp;nbsp;attachment!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;attachmentID:&amp;nbsp;unique&amp;nbsp;id&amp;nbsp;for&amp;nbsp;this&amp;nbsp;attachment!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@return&amp;nbsp;status&amp;nbsp;of&amp;nbsp;delete&amp;nbsp;operation&amp;nbsp;performed&amp;nbsp;on&amp;nbsp;attachment&amp;nbsp;corresponding&amp;nbsp;to&amp;nbsp;this&amp;nbsp;attachment&amp;nbsp;ID!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@throws&amp;nbsp;FormsPortalException!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*/!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public&amp;nbsp;boolean&amp;nbsp;deleteAttachment&amp;nbsp;(String&amp;nbsp;attachmentID)&amp;nbsp;throws&amp;nbsp;FormsPortalException;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/**!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;To&amp;nbsp;get&amp;nbsp;attachment&amp;nbsp;bytes!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;attachmentID:&amp;nbsp;unique&amp;nbsp;id&amp;nbsp;for&amp;nbsp;this&amp;nbsp;attachment!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@return&amp;nbsp;data&amp;nbsp;corresponding&amp;nbsp;to&amp;nbsp;this&amp;nbsp;attachmentID!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@throws&amp;nbsp;FormsPortalException!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*/!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public&amp;nbsp;byte[]&amp;nbsp;getAttachment&amp;nbsp;(String&amp;nbsp;attachmentID)&amp;nbsp;throws&amp;nbsp;FormsPortalException;!!discoiqbr!!} 
  </codeblock> 
  <h2>Submission data service</h2> 
  <p>To customize the storage of user data for submissions, you need to implement all the methods of the <span class="code">SubmitDataService</span> interface. The following sample code describes the methods and arguments.</p> 
  <codeblock gutter="true" class="syntax java">
    /**!!discoiqbr!!&amp;nbsp;*&amp;nbsp;SubmitDataService&amp;nbsp;service&amp;nbsp;will&amp;nbsp;get/delete/submit&amp;nbsp;user&amp;nbsp;data&amp;nbsp;(attachments&amp;nbsp;and&amp;nbsp;form&amp;nbsp;data)&amp;nbsp;filled&amp;nbsp;with&amp;nbsp;a&amp;nbsp;submission&amp;nbsp;of&amp;nbsp;Form&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;*/!!discoiqbr!!public&amp;nbsp;interface&amp;nbsp;SubmitDataService&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/**!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;Submits&amp;nbsp;the&amp;nbsp;user&amp;nbsp;data&amp;nbsp;passed&amp;nbsp;in&amp;nbsp;argument&amp;nbsp;map!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;userDataID,&amp;nbsp;unique&amp;nbsp;identifier&amp;nbsp;associated&amp;nbsp;with&amp;nbsp;this&amp;nbsp;user&amp;nbsp;data!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;formName,&amp;nbsp;name&amp;nbsp;of&amp;nbsp;the&amp;nbsp;form&amp;nbsp;whose&amp;nbsp;draft&amp;nbsp;is&amp;nbsp;being&amp;nbsp;submitted!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;formData,&amp;nbsp;user&amp;nbsp;data&amp;nbsp;associated&amp;nbsp;with&amp;nbsp;this&amp;nbsp;submission!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@return&amp;nbsp;userdataID,&amp;nbsp;corresponding&amp;nbsp;to&amp;nbsp;which&amp;nbsp;the&amp;nbsp;user&amp;nbsp;data&amp;nbsp;has&amp;nbsp;been&amp;nbsp;stored&amp;nbsp;and&amp;nbsp;which&amp;nbsp;can&amp;nbsp;be&amp;nbsp;used&amp;nbsp;later&amp;nbsp;to&amp;nbsp;retrieve&amp;nbsp;this&amp;nbsp;data!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@throws&amp;nbsp;FormsPortalException!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*/!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public&amp;nbsp;String&amp;nbsp;saveData&amp;nbsp;(String&amp;nbsp;userDataID,&amp;nbsp;String&amp;nbsp;formName,&amp;nbsp;String&amp;nbsp;formData)&amp;nbsp;throws&amp;nbsp;FormsPortalException;!!discoiqbr!!!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/**!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;Submits&amp;nbsp;the&amp;nbsp;user&amp;nbsp;data&amp;nbsp;provided&amp;nbsp;as&amp;nbsp;byte&amp;nbsp;array!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;id!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;data!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@return&amp;nbsp;id&amp;nbsp;corresponding&amp;nbsp;to&amp;nbsp;saved&amp;nbsp;data!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@throws&amp;nbsp;FormsPortalException!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*/!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public&amp;nbsp;String&amp;nbsp;saveData&amp;nbsp;(String&amp;nbsp;id,&amp;nbsp;byte[]&amp;nbsp;data)&amp;nbsp;throws&amp;nbsp;FormsPortalException;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/**&amp;nbsp;Submits&amp;nbsp;the&amp;nbsp;user&amp;nbsp;data&amp;nbsp;provided&amp;nbsp;as&amp;nbsp;byte&amp;nbsp;array&amp;nbsp;asynchronously&amp;nbsp;for&amp;nbsp;the&amp;nbsp;user&amp;nbsp;name&amp;nbsp;provided&amp;nbsp;in&amp;nbsp;the&amp;nbsp;options&amp;nbsp;map&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;data&amp;nbsp;data&amp;nbsp;to&amp;nbsp;be&amp;nbsp;saved&amp;nbsp;in&amp;nbsp;bytes!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;options&amp;nbsp;map&amp;nbsp;containing&amp;nbsp;options&amp;nbsp;that&amp;nbsp;affect&amp;nbsp;this&amp;nbsp;save!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@return&amp;nbsp;id&amp;nbsp;of&amp;nbsp;the&amp;nbsp;saved&amp;nbsp;data&amp;nbsp;instance!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*/!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public&amp;nbsp;String&amp;nbsp;saveDataAsynchronusly(byte[]&amp;nbsp;data,&amp;nbsp;Map&lt;String,&amp;nbsp;Object&gt;&amp;nbsp;options)&amp;nbsp;throws&amp;nbsp;FormsPortalException;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/**!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;Gets&amp;nbsp;the&amp;nbsp;user&amp;nbsp;data&amp;nbsp;stored&amp;nbsp;against&amp;nbsp;the&amp;nbsp;ID&amp;nbsp;passed&amp;nbsp;as&amp;nbsp;argument!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;userDataID:&amp;nbsp;unique&amp;nbsp;id&amp;nbsp;associated&amp;nbsp;with&amp;nbsp;this&amp;nbsp;user&amp;nbsp;data&amp;nbsp;for&amp;nbsp;this&amp;nbsp;submission!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@return&amp;nbsp;user&amp;nbsp;data&amp;nbsp;associated&amp;nbsp;with&amp;nbsp;this&amp;nbsp;submission!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@throws&amp;nbsp;FormsPortalException!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*/!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public&amp;nbsp;byte[]&amp;nbsp;getData(String&amp;nbsp;userDataID)&amp;nbsp;throws&amp;nbsp;FormsPortalException;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/**!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;Deletes&amp;nbsp;user&amp;nbsp;data&amp;nbsp;stored&amp;nbsp;against&amp;nbsp;the&amp;nbsp;userDataID!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;userDataID:&amp;nbsp;unique&amp;nbsp;id&amp;nbsp;associated&amp;nbsp;with&amp;nbsp;this&amp;nbsp;user&amp;nbsp;data&amp;nbsp;for&amp;nbsp;this&amp;nbsp;submission!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@return&amp;nbsp;status&amp;nbsp;of&amp;nbsp;the&amp;nbsp;delete&amp;nbsp;operation&amp;nbsp;on&amp;nbsp;this&amp;nbsp;submission!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@throws&amp;nbsp;FormsPortalException!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*/!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public&amp;nbsp;boolean&amp;nbsp;deleteData(String&amp;nbsp;userDataID)&amp;nbsp;throws&amp;nbsp;FormsPortalException;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/**!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;Submits&amp;nbsp;the&amp;nbsp;attachment&amp;nbsp;bytes&amp;nbsp;passed&amp;nbsp;as&amp;nbsp;argument!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;attachmentsBytes:&amp;nbsp;would&amp;nbsp;expect&amp;nbsp;byte&amp;nbsp;array&amp;nbsp;of&amp;nbsp;the&amp;nbsp;attachment&amp;nbsp;for&amp;nbsp;this&amp;nbsp;submission!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@return&amp;nbsp;attachmentID&amp;nbsp;for&amp;nbsp;the&amp;nbsp;attachment&amp;nbsp;just&amp;nbsp;saved&amp;nbsp;(so&amp;nbsp;that&amp;nbsp;it&amp;nbsp;could&amp;nbsp;be&amp;nbsp;retrieved&amp;nbsp;later)&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@throws&amp;nbsp;FormsPortalException!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*/!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public&amp;nbsp;String&amp;nbsp;saveAttachment(byte[]&amp;nbsp;attachmentBytes)&amp;nbsp;throws&amp;nbsp;FormsPortalException;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/**&amp;nbsp;Submits&amp;nbsp;the&amp;nbsp;attachment&amp;nbsp;bytes&amp;nbsp;passed&amp;nbsp;as&amp;nbsp;argument&amp;nbsp;asynchronously&amp;nbsp;for&amp;nbsp;the&amp;nbsp;user&amp;nbsp;id&amp;nbsp;provided&amp;nbsp;in&amp;nbsp;options&amp;nbsp;map.!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;attachmentBytes&amp;nbsp;would&amp;nbsp;expect&amp;nbsp;byte&amp;nbsp;array&amp;nbsp;of&amp;nbsp;the&amp;nbsp;attachment&amp;nbsp;for&amp;nbsp;this&amp;nbsp;submission!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;options&amp;nbsp;map&amp;nbsp;containing&amp;nbsp;options&amp;nbsp;that&amp;nbsp;affect&amp;nbsp;this&amp;nbsp;save!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@return&amp;nbsp;attachmentID&amp;nbsp;for&amp;nbsp;the&amp;nbsp;attachment&amp;nbsp;just&amp;nbsp;saved&amp;nbsp;(so&amp;nbsp;that&amp;nbsp;it&amp;nbsp;could&amp;nbsp;be&amp;nbsp;retrieved&amp;nbsp;later)!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@throws&amp;nbsp;FormsPortalException!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*/!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public&amp;nbsp;String&amp;nbsp;saveAttachmentAsynchronously(byte[]&amp;nbsp;attachmentBytes,&amp;nbsp;Map&lt;String,&amp;nbsp;Object&gt;&amp;nbsp;options)&amp;nbsp;throws&amp;nbsp;FormsPortalException;!!discoiqbr!!&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/**!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;To&amp;nbsp;delete&amp;nbsp;an&amp;nbsp;attachment!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;attachmentID:&amp;nbsp;Unique&amp;nbsp;id&amp;nbsp;for&amp;nbsp;this&amp;nbsp;attachment!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@return&amp;nbsp;status&amp;nbsp;of&amp;nbsp;delete&amp;nbsp;operation&amp;nbsp;performed&amp;nbsp;on&amp;nbsp;attachment&amp;nbsp;corresponding&amp;nbsp;to&amp;nbsp;this&amp;nbsp;attachment&amp;nbsp;ID!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@throws&amp;nbsp;FormsPortalException!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*/!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public&amp;nbsp;boolean&amp;nbsp;deleteAttachment&amp;nbsp;(String&amp;nbsp;attachmentID)&amp;nbsp;throws&amp;nbsp;FormsPortalException;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/**!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;To&amp;nbsp;get&amp;nbsp;attachment&amp;nbsp;bytes!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;attachmentID:&amp;nbsp;unique&amp;nbsp;id&amp;nbsp;for&amp;nbsp;this&amp;nbsp;attachment!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@return&amp;nbsp;data&amp;nbsp;corresponding&amp;nbsp;to&amp;nbsp;this&amp;nbsp;attachmentID!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@throws&amp;nbsp;FormsPortalException!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*/!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public&amp;nbsp;byte[]&amp;nbsp;getAttachment&amp;nbsp;(String&amp;nbsp;attachmentID)&amp;nbsp;throws&amp;nbsp;FormsPortalException;!!discoiqbr!!} 
  </codeblock> 
  <p>Forms portal uses Universally unique identifier (UUID) concept to generate a unique ID for every draft and submitted form. You can also generate a unique ID of your own. You can implement the interface FPKeyGeneratorService, override its methods, and develop a custom logic to generate a custom unique ID for every draft and submitted form. Also, set service rank of custom ID generation implementation higher than 0. It ensures that the custom implementation is used instead of the default implementation.</p> 
  <codeblock gutter="true" class="syntax java">
    public&amp;nbsp;interface&amp;nbsp;FPKeyGeneratorService&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/**!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;returns&amp;nbsp;a&amp;nbsp;unique&amp;nbsp;id&amp;nbsp;for&amp;nbsp;draft&amp;nbsp;and&amp;nbsp;submission!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@param&amp;nbsp;none!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@return&amp;nbsp;unique&amp;nbsp;id&amp;nbsp;in&amp;nbsp;string&amp;nbsp;format&amp;nbsp;as&amp;nbsp;per&amp;nbsp;the&amp;nbsp;implementation!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*&amp;nbsp;@throws&amp;nbsp;FormsPortalException!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*/!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public&amp;nbsp;String&amp;nbsp;getUniqueId()&amp;nbsp;throws&amp;nbsp;FormsPortalException;!!discoiqbr!!} 
  </codeblock> 
  <p>You can use the below annotation to increase the service ranking for custom ID generated with above code:</p> 
  <p><span class="code">@Properties(value = { @Property(name = "service.ranking", intValue = 15) } )</span></p> 
  <p>To use the above annotation, imports the following to your project:<br /> <code class="code">import org.apache.felix.scr.annotations.Properties;
    <discoiqbr /> import org.apache.felix.scr.annotations.Property;</code></p> 
  <related-links> 
   <a href="../../forms/using/configuring-draft-submission-storage.md" target="_blank">Configuring storage services for drafts and submissions</a> 
   <a href="../../forms/using/draft-submission-component.md" target="_blank">Drafts and Submissions components</a> 
   <a href="../../forms/using/creating-form-portal-page.md" target="_blank">Creating a forms portal page</a> 
  </related-links> 
 </body> 
</html>