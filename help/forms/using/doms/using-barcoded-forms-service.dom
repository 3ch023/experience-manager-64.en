<?xml version="1.1" encoding="UTF-8" standalone="yes"?> 
<html> 
 <head> 
  <meta content="khsingh@adobe.com" name="lr_lastReplicatedBy" /> 
  <meta content="/content/help/en/experience-manager/6-4/forms/morehelp/document_services;/content/help/en/experience-manager/6-4/forms/morehelp/document_services" name="moreHelpPaths" /> 
  <meta content="Using AEM Forms Barcoded Forms Service" name="seoTitle" /> 
  <meta content="" name="jcr:primaryType" /> 
  <meta content="2018-04-13T07:34:10.856-0400" name="lastPublishExternalDate" /> 
  <meta content="true" name="generateCascadingToc" /> 
  <meta content="khsingh" name="cq:lastModifiedBy" /> 
  <meta content="red" name="acrolinxPageStatus" /> 
  <meta content="2018-04-13T07:34:10.856-0400" name="publishExternalDate" /> 
  <meta content="en_us" name="jcr:language" /> 
  <meta content="1499" name="acrolinxWords" /> 
  <meta content="light" name="heroGradient" /> 
  <meta content="2018-04-13T07:34:10.856-0400" name="topicBrowsingSortDate" /> 
  <meta content="79" name="acrolinxSentences" /> 
  <meta content="2015-09-25T06:35:49.879-0400" name="lastPublishQADate" /> 
  <meta content="false" name="isReadyForLocalization" /> 
  <meta content="video" name="pageLayout" /> 
  <meta content="admin" name="jcr:createdBy" /> 
  <meta content="Using AEM Forms Barcoded Forms Service" name="navTitle" /> 
  <meta content="https://helpx.adobe.com/experience-manager/6-4/forms/using/using-barcoded-forms-service.html" name="publishExternalURL" /> 
  <meta content="" name="jcr:versionHistory" /> 
  <meta content="khsingh" name="cq:lastReplicatedBy" /> 
  <meta content="2018-04-26T04:30:38.414-0400" name="cq:lastModified" /> 
  <meta content="2016-04-20T09:44:44.574-0400" name="firstPublishExternalDate" /> 
  <meta content="2017-12-01T19:07:22.065-0500" name="jcr:created" /> 
  <meta content="left" name="sideColumn" /> 
  <meta content="" name="jcr:baseVersion" /> 
  <meta content="mix:versionable" name="jcr:mixinTypes" /> 
  <meta content="f8ddcc55-ed25-4428-9e15-5e49bece2c48" name="jcr:predecessors" /> 
  <meta content="Activate" name="cq:lastReplicationAction" /> 
  <meta content="2016-05-31T06:44:49.143-0400" name="acrolinxDate" /> 
  <meta content="help/components/pages/article-3" name="sling:resourceType" /> 
  <meta content="not_checked" name="acrolinxStatus" /> 
  <meta content="2018-04-26T04:30:38.413-0400" name="locHandOffDate" /> 
  <meta content="content_type:reference;products:SG_EXPERIENCEMANAGER/6.4/FORMS;topic_tags:document_services" name="cq:tags" /> 
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/FORMS" name="primaryProductTag" /> 
  <meta content="http://checkstyle.corp.adobe.com:8031/output/en/using_barcoded_forms_service_admin_5e12de0b318c6865_2076_report.xml" name="acrolinxReportURL" /> 
  <meta content="/apps/help/templates/article-3" name="cq:template" /> 
  <meta content="false" name="doNotLocalize" /> 
  <meta content="2018-04-13T07:34:10.874-0400" name="cq:lastReplicated" /> 
  <meta content="75fae0f7-fbce-4a58-a98f-9813bc59ddf1" name="jcr:uuid" /> 
  <meta content="Use AEM Forms Barcoded Forms service to extract data from electronic images of barcodes. " name="seoDescription" /> 
  <meta content="Barcoded Forms Service" name="jcr:title" /> 
  <meta content="/etc/designs/help" name="cq:designPath" /> 
  <meta content="true" name="jcr:isCheckedOut" /> 
  <meta content="vishgupt" name="acrolinxLastCheckedBy" /> 
 </head> 
 <body> 
  <h2>Overview</h2> 
  <p>The Barcoded Forms service extracts data from electronic images of barcodes. The service accepts TIFF and PDF files that include one or more barcodes as input and extracts the barcode data. Barcode data can be formatted in various ways, including XML, delimited string, or any custom format created with JavaScript.</p> 
  <p>The Barcoded Forms service supports the following<strong> two-dimensional (2D) </strong>symbologies supplied as scanned TIFF or PDF documents:</p> 
  <ul> 
   <li>PDF417</li> 
   <li>Data Matrix</li> 
   <li>QR Code</li> 
  </ul> 
  <p>The service also supports the following <strong>one-dimensional </strong>symbologies supplied as scanned TIFF or PDF documents:</p> 
  <ul> 
   <li>Codabar</li> 
   <li>Code128</li> 
   <li>Code 3 of 9</li> 
   <li>EAN13</li> 
   <li>EAN8<br /> </li> 
  </ul> 
  <p>You can use the Barcoded Forms service to accomplish the following tasks:</p> 
  <ul> 
   <li>Extract barcode data from barcode images (TIFF or PDF). The data is stored as delimited text.</li> 
   <li>Convert delimited text data to XML (XDP or XFDF). XML data is easier to parse than delimited text. Also, data in XDP or XFDF format can be used as input for other services in AEM Forms.</li> 
  </ul> 
  <p>For each barcode in an image, the Barcoded Forms service locates the barcode, decodes it, and extracts the data. The service returns the barcode data (using entity encoding where required) in a content element of an XML document. For example, the following scanned TIFF image of a form contains two barcodes:</p> 
  <img imageRotate="0" src="assets/example.png" /> 
  <p>The Barcoded Forms service returns the following XML document after decoding the barcodes:</p> 
  <codeblock gutter="true" class="syntax xml">
    &lt;?xml&amp;nbsp;version="1.0"&amp;nbsp;encoding="UTF-8"&amp;nbsp;?&gt;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&lt;xb:scanned_image&amp;nbsp;xmlns:xb="http://decoder.barcodedforms.adobe.com/xmlbeans"&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;path="tiff"&amp;nbsp;version="1.0"&gt;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;xb:decode&gt;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;xb:date&gt;2007-05-11T15:07:49.965-04:00&lt;/xb:date&gt;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;xb:host_name&gt;myhost.adobe.com&lt;/xb:host_name&gt;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;xb:status&amp;nbsp;type="success"&gt;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;xb:message&amp;nbsp;/&gt;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/xb:status&gt;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/xb:decode&gt;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;xb:barcode&amp;nbsp;id="1"&gt;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;xb:header&amp;nbsp;symbology="pdf417"&gt;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;xb:location&amp;nbsp;page_no="1"&gt;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;xb:coordinates&gt;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;xb:point&amp;nbsp;x="0.119526625"&amp;nbsp;y="0.60945123"&amp;nbsp;/&gt;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;xb:point&amp;nbsp;x="0.44457594"&amp;nbsp;y="0.60945123"&amp;nbsp;/&gt;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;xb:point&amp;nbsp;x="0.44457594"&amp;nbsp;y="0.78445125"&amp;nbsp;/&gt;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;xb:point&amp;nbsp;x="0.119526625"&amp;nbsp;y="0.78445125"&amp;nbsp;/&gt;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/xb:coordinates&gt;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/xb:location&gt;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/xb:header&gt;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;xb:body&gt;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;xb:content&amp;nbsp;encoding="utf-8"&gt;t_SID&amp;nbsp;t_FirstName&amp;nbsp;t_MiddleName&amp;nbsp;t_LastName&amp;nbsp;t_nFirstName&amp;nbsp;t_nMiddleName&amp;nbsp;t_nLastName&amp;nbsp;90210&amp;nbsp;Patti&amp;nbsp;Y&amp;nbsp;Penne&amp;nbsp;Patti&amp;nbsp;P&amp;nbsp;Prosciutto&lt;/xb:content&gt;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/xb:body&gt;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/xb:barcode&gt;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;xb:barcode&amp;nbsp;id="2"&gt;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;xb:header&amp;nbsp;symbology="pdf417"&gt;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;xb:location&amp;nbsp;page_no="1"&gt;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;xb:coordinates&gt;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;xb:point&amp;nbsp;x="0.119526625"&amp;nbsp;y="0.825"&amp;nbsp;/&gt;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;xb:point&amp;nbsp;x="0.44457594"&amp;nbsp;y="0.825"&amp;nbsp;/&gt;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;xb:point&amp;nbsp;x="0.44457594"&amp;nbsp;y="0.9167683"&amp;nbsp;/&gt;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;xb:point&amp;nbsp;x="0.119526625"&amp;nbsp;y="0.9167683"&amp;nbsp;/&gt;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/xb:coordinates&gt;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/xb:location&gt;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/xb:header&gt;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;xb:body&gt;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;xb:content&amp;nbsp;encoding="utf-8"&gt;t_FormType&amp;nbsp;t_FormVersion&amp;nbsp;ChangeName&amp;nbsp;20061128&lt;/xb:content&gt;&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/xb:body&gt;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/xb:barcode&gt;&amp;nbsp;!!discoiqbr!!&lt;/xb:scanned_image&gt;!!discoiqbr!! 
  </codeblock> 
  <h2 id="Considerations">Considerations for the service</h2> 
  <h3>Workflows that use barcoded forms</h3> 
  <p>Form authors create interactive barcoded forms by using Designer. (See <a href="http://www.adobe.com/go/learn_aemforms_designer_63">Designer Help</a>.) When a user fills a barcoded form by using Adobe Reader or Acrobat, the barcode is updated automatically to encode the form data.</p> 
  <p>The Barcoded Forms service is useful for converting data that exists on paper to electronic format. For example, when a barcoded form is filled and printed, the printed copy can be scanned and used as input to the Barcoded Forms service.</p> 
  <p>Watched folder endpoints are typically used to start applications that use the Barcoded Forms service. For example, document scanners can save TIFF or PDF images of barcoded forms in a watched folder. The watched folder endpoint passes the images to the service for decoding.</p> 
  <h3>Recommended encoding and decoding formats</h3> 
  <p>Barcoded form authors are encouraged to use a simple, delimited format (such as tab-delimited) when encoding data in barcodes. Also, avoid using Carriage Return as the field delimiter. Designer provides a selection of delimited encodings that automatically generate JavaScript script to encode barcodes. The decoded data has the field names on the first line and their values on the second line, with tabs between each field.</p> 
  <p>When decoding barcodes, specify the character that is used to delimit fields. The character specified for decoding must be the same character that was used for encoding the barcode. For example, on using the recommended tab-delimited format, the Extract to XML operation must use the default value of Tab for the field delimiter.</p> 
  <h3>User-specified character sets</h3> 
  <p>When form authors add barcode objects to their forms by using Designer, they can specify a character encoding. The recognized encodings are UTF-8, ISO-8859-1, ISO-8859-2, ISO-8859-7, Shift-JIS, KSC-5601, Big-Five, GB-2312, UTF-16. By default, all data is encoded in barcodes as UTF-8.</p> 
  <p>When decoding barcodes, you can specify the character set encoding to use. To guarantee that all data is decoded correctly, specify the same character set that the form author specified when the form was designed.</p> 
  <h3>API Limitations</h3> 
  <p>When you use the BCF APIs, consider the following limitations:</p> 
  <ul> 
   <li>Dynamic forms are not supported.</li> 
   <li>Interactive forms are not decoded correctly, unless they are flattened.</li> 
   <li>1-D barcodes must contain only alphanumeric values (if supported). 1-D barcodes containing special symbols are not decoded.</li> 
  </ul> 
  <h3>Other limitations</h3> 
  <p>Also, conside<span class="acrolinxCursorMarker"></span>r the following limitations when using the Barcoded Forms service:</p> 
  <ul> 
   <li>The service fully supports AcroForms and static forms containing 2D barcodes that are saved using Adobe Reader or Acrobat. However, for 1D barcodes, either flatten the form or supply it as scanned PDF or TIFF document.</li> 
   <li>Dynamic XFA forms are not fully supported. To properly decode 1D and 2D barcodes in a dynamic form, either flatten the form or supply it as scanned PDF or TIFF document.</li> 
  </ul> 
  <p>In addition, the service can decode any barcode that uses supported symbology if the above limitations are observed. For more information on how to create interactive barcoded forms, see <a href="http://www.adobe.com/go/learn_aemforms_designer_63">Designer Help</a>. </p> 
  <h2 id="ConfigureProperties">Configure properties of the service &amp;nbsp;</h2> 
  <p>You can use the <strong>AEMFD Barcoded Forms Service</strong> in AEM Console to configure properties for this service. The default URL of AEM console is <span class="code">http://[host]:[port]/system/console/configMgr</span>.</p> 
  <h2 id="Using">Using the service</h2> 
  <p>Barcoded Forms Service provides the following two APIs:</p> 
  <ul> 
   <li><strong><a href="https://helpx.adobe.com/experience-manager/6-3/forms/javadocs/com/adobe/fd/bcf/api/BarcodedFormsService.html#decode" target="_blank">decode</a></strong>: Decodes all the barcodes available in an input PDF document or tiff image. It returns another XML document that contains data that was retrieved from all the barcodes available in the input document or image.<br /> </li> 
   <li><strong><a href="https://helpx.adobe.com/experience-manager/6-3/forms/javadocs/com/adobe/fd/bcf/api/BarcodedFormsService.html#decode" target="_blank">extractToXML</a></strong>: Convert data decoded using decode API to XML data. This XML data can be merged with an XFA Form. It returns a list of XML documents, one for each barcode.</li> 
  </ul> 
  <h3>Using BCF Service with a JSP or Servlets</h3> 
  <p>The following sample code decodes a barcode in a document and saves the output XML to the disk.</p> 
  <codeblock gutter="true" class="syntax java">
    &lt;%@&amp;nbsp;page&amp;nbsp;import="java.util.List,!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;com.adobe.fd.bcf.api.BarcodedFormsService,!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;com.adobe.fd.bcf.api.CharSet,!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;com.adobe.fd.bcf.api.Delimiter,!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;com.adobe.fd.bcf.api.XMLFormat,!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;com.adobe.aemfd.docmanager.Document,!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;javax.xml.transform.Transformer,!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;javax.xml.transform.TransformerFactory,!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;java.io.StringWriter,!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;javax.xml.transform.stream.StreamResult,!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;javax.xml.transform.dom.DOMSource,!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;javax.servlet.jsp.JspWriter,!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;org.apache.commons.lang.StringEscapeUtils"&amp;nbsp;%&gt;&lt;%!!discoiqbr!!%&gt;&lt;%@taglib&amp;nbsp;prefix="sling"&amp;nbsp;uri="http://sling.apache.org/taglibs/sling/1.0"&amp;nbsp;%&gt;&lt;%!!discoiqbr!!%&gt;&lt;sling:defineObjects/&gt;&lt;%!!discoiqbr!!!!discoiqbr!!!!discoiqbr!!&amp;nbsp;//&amp;nbsp;Get&amp;nbsp;reference&amp;nbsp;to&amp;nbsp;BarcodedForms&amp;nbsp;OSGi&amp;nbsp;service.!!discoiqbr!!&amp;nbsp;//&amp;nbsp;Within&amp;nbsp;an&amp;nbsp;OSGi&amp;nbsp;bundle&amp;nbsp;@Reference&amp;nbsp;annotation&amp;nbsp;!!discoiqbr!!&amp;nbsp;//&amp;nbsp;can&amp;nbsp;be&amp;nbsp;used&amp;nbsp;to&amp;nbsp;retrieve&amp;nbsp;service&amp;nbsp;reference!!discoiqbr!!!!discoiqbr!!!!discoiqbr!!&amp;nbsp;BarcodedFormsService&amp;nbsp;bcfService&amp;nbsp;=&amp;nbsp;sling.getService(BarcodedFormsService.class);!!discoiqbr!!!!discoiqbr!!!!discoiqbr!!&amp;nbsp;!!discoiqbr!!!!discoiqbr!!&amp;nbsp;//&amp;nbsp;Path&amp;nbsp;to&amp;nbsp;image&amp;nbsp;containing&amp;nbsp;barcodes&amp;nbsp;in&amp;nbsp;AEM&amp;nbsp;repository.&amp;nbsp;!!discoiqbr!!&amp;nbsp;//&amp;nbsp;Replace&amp;nbsp;this&amp;nbsp;with&amp;nbsp;path&amp;nbsp;to&amp;nbsp;image&amp;nbsp;in&amp;nbsp;your&amp;nbsp;repository!!discoiqbr!!&amp;nbsp;String&amp;nbsp;documentPath&amp;nbsp;=&amp;nbsp;"/content/dam/TestImage-010.tif";!!discoiqbr!!!!discoiqbr!!!!discoiqbr!!&amp;nbsp;//&amp;nbsp;Create&amp;nbsp;a&amp;nbsp;Docmanager&amp;nbsp;Document&amp;nbsp;object&amp;nbsp;for&amp;nbsp;!!discoiqbr!!&amp;nbsp;//&amp;nbsp;the&amp;nbsp;tiff&amp;nbsp;file&amp;nbsp;containing&amp;nbsp;barcode!!discoiqbr!!&amp;nbsp;//&amp;nbsp;Please&amp;nbsp;see&amp;nbsp;Docmanager&amp;nbsp;Document&amp;nbsp;javadoc&amp;nbsp;for!!discoiqbr!!&amp;nbsp;//&amp;nbsp;more&amp;nbsp;details!!discoiqbr!!&amp;nbsp;Document&amp;nbsp;inputDoc&amp;nbsp;=&amp;nbsp;new&amp;nbsp;Document(documentPath);!!discoiqbr!!!!discoiqbr!!!!discoiqbr!!&amp;nbsp;//&amp;nbsp;Invoke&amp;nbsp;decode&amp;nbsp;operation&amp;nbsp;of&amp;nbsp;barcoded&amp;nbsp;forms&amp;nbsp;service&amp;nbsp;!!discoiqbr!!&amp;nbsp;//&amp;nbsp;Second&amp;nbsp;parameter&amp;nbsp;is&amp;nbsp;set&amp;nbsp;to&amp;nbsp;true&amp;nbsp;to&amp;nbsp;decode&amp;nbsp;PDF417&amp;nbsp;barcode&amp;nbsp;symbology!!discoiqbr!!&amp;nbsp;//&amp;nbsp;Please&amp;nbsp;see&amp;nbsp;javadoc&amp;nbsp;for&amp;nbsp;details&amp;nbsp;of&amp;nbsp;parameters!!discoiqbr!!!!discoiqbr!!&amp;nbsp;org.w3c.dom.Document&amp;nbsp;result&amp;nbsp;=&amp;nbsp;bcfService.decode(inputDoc,&amp;nbsp;//&amp;nbsp;Input&amp;nbsp;Document&amp;nbsp;Object!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;true,&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;false,&amp;nbsp;&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;false,!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;false,!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;false,!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;false,!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;false,!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;false,!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;CharSet.UTF_8);//&amp;nbsp;use&amp;nbsp;UTF-8&amp;nbsp;character&amp;nbsp;encoding&amp;nbsp;!!discoiqbr!!!!discoiqbr!!&amp;nbsp;out.println("&lt;h2&gt;&amp;nbsp;Output&amp;nbsp;Returned&amp;nbsp;from&amp;nbsp;decode&amp;nbsp;operation&amp;nbsp;&lt;/h2&gt;");!!discoiqbr!!&amp;nbsp;printDoc(result,out);!!discoiqbr!!!!discoiqbr!!!!discoiqbr!!&amp;nbsp;//&amp;nbsp;Invoke&amp;nbsp;extractToXML&amp;nbsp;to&amp;nbsp;convert&amp;nbsp;Carriage&amp;nbsp;!!discoiqbr!!&amp;nbsp;//&amp;nbsp;return&amp;nbsp;/&amp;nbsp;Tab&amp;nbsp;delimited&amp;nbsp;data&amp;nbsp;to&amp;nbsp;XML&amp;nbsp;!!discoiqbr!!!!discoiqbr!!&amp;nbsp;List&lt;org.w3c.dom.Document&gt;&amp;nbsp;listResult&amp;nbsp;=&amp;nbsp;bcfService.extractToXML(result,&amp;nbsp;//&amp;nbsp;w3c&amp;nbsp;document&amp;nbsp;from&amp;nbsp;the&amp;nbsp;output&amp;nbsp;of&amp;nbsp;decode&amp;nbsp;operation!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Delimiter.Carriage_Return,&amp;nbsp;//&amp;nbsp;Lines&amp;nbsp;are&amp;nbsp;separated&amp;nbsp;using&amp;nbsp;"\r"!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Delimiter.Tab,&amp;nbsp;//&amp;nbsp;Fields&amp;nbsp;are&amp;nbsp;separated&amp;nbsp;using&amp;nbsp;"\t"&amp;nbsp;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;XMLFormat.XDP);&amp;nbsp;//&amp;nbsp;wraps&amp;nbsp;generated&amp;nbsp;XML&amp;nbsp;in&amp;nbsp;&lt;xdp:xdp&gt;&amp;nbsp;packet&amp;nbsp;!!discoiqbr!!!!discoiqbr!!!!discoiqbr!!&amp;nbsp;out.println("&lt;h2&gt;&amp;nbsp;Output&amp;nbsp;returned&amp;nbsp;from&amp;nbsp;extractToXML&amp;nbsp;&lt;/h2&gt;");!!discoiqbr!!&amp;nbsp;printDoc(listResult.get(0),out);!!discoiqbr!!!!discoiqbr!!%&gt;&lt;%!!!discoiqbr!!!!discoiqbr!!&amp;nbsp;//&amp;nbsp;helper&amp;nbsp;function&amp;nbsp;to&amp;nbsp;convert&amp;nbsp;w3c&amp;nbsp;document&amp;nbsp;to&amp;nbsp;string!!discoiqbr!!!!discoiqbr!!&amp;nbsp;String&amp;nbsp;convertToString(org.w3c.dom.Document&amp;nbsp;inputDoc)&amp;nbsp;throws&amp;nbsp;Exception&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;TransformerFactory&amp;nbsp;tf&amp;nbsp;=&amp;nbsp;TransformerFactory.newInstance();!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;Transformer&amp;nbsp;tr&amp;nbsp;=&amp;nbsp;tf.newTransformer();!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;StringWriter&amp;nbsp;sw&amp;nbsp;=&amp;nbsp;new&amp;nbsp;StringWriter();!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;StreamResult&amp;nbsp;sr&amp;nbsp;=&amp;nbsp;new&amp;nbsp;StreamResult(sw);!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;tr.transform(new&amp;nbsp;DOMSource(inputDoc),&amp;nbsp;sr);!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;return&amp;nbsp;sw.toString();!!discoiqbr!!&amp;nbsp;}!!discoiqbr!!!!discoiqbr!!&amp;nbsp;//&amp;nbsp;helper&amp;nbsp;function&amp;nbsp;to&amp;nbsp;render&amp;nbsp;XML&amp;nbsp;to&amp;nbsp;response!!discoiqbr!!!!discoiqbr!!&amp;nbsp;void&amp;nbsp;printDoc(org.w3c.dom.Document&amp;nbsp;inputDoc,JspWriter&amp;nbsp;out)&amp;nbsp;throws&amp;nbsp;Exception&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;String&amp;nbsp;escapedString&amp;nbsp;=&amp;nbsp;StringEscapeUtils.escapeHtml(convertToString(inputDoc));!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;out.println(escapedString);!!discoiqbr!!&amp;nbsp;}!!discoiqbr!!!!discoiqbr!!%&gt; 
  </codeblock> 
  <h3>Using the BCF service with AEM Workflows</h3> 
  <p>Running Barcoded Forms service from a workflow is similar to running the service from JSP/Servlet. The only difference is on running the service from JSP/Servlet the document object automatically retrieves an instance of ResourceResolver object from the ResourceResolverHelper object. This automatic mechanism does not work when the code is called from a workflow.</p> 
  <p>For a workflow, explicitly pass an instance of the ResourceResolver object to the Document class constructor. Then, the Document object uses provided ResourceResolver object to read content from the repository.</p> 
  <p>The following sample workflow process decodes a barcode in a document and saves the result to disk. The code is written in ECMAScript and the document is passed as workflow payload:</p> 
  <codeblock gutter="true" class="syntax js">
    /*!!discoiqbr!!&amp;nbsp;*&amp;nbsp;Imports&amp;nbsp;!!discoiqbr!!&amp;nbsp;*/!!discoiqbr!!var&amp;nbsp;BarcodedFormsService&amp;nbsp;=&amp;nbsp;Packages.com.adobe.fd.bcf.api.BarcodedFormsService;!!discoiqbr!!var&amp;nbsp;CharSet&amp;nbsp;=&amp;nbsp;Packages.com.adobe.fd.bcf.api.CharSet;!!discoiqbr!!!!discoiqbr!!var&amp;nbsp;Document&amp;nbsp;=&amp;nbsp;Packages.com.adobe.aemfd.docmanager.Document;!!discoiqbr!!var&amp;nbsp;File&amp;nbsp;=&amp;nbsp;Packages.java.io.File;!!discoiqbr!!var&amp;nbsp;FileOutputStream&amp;nbsp;=&amp;nbsp;Packages.java.io.FileOutputStream;!!discoiqbr!!var&amp;nbsp;TransformerFactory&amp;nbsp;=&amp;nbsp;Packages.javax.xml.transform.TransformerFactory;!!discoiqbr!!var&amp;nbsp;Transformer&amp;nbsp;=&amp;nbsp;Packages.javax.xml.transform.Transformer;!!discoiqbr!!var&amp;nbsp;StreamResult&amp;nbsp;=&amp;nbsp;Packages.javax.xml.transform.stream.StreamResult;!!discoiqbr!!var&amp;nbsp;DOMSource&amp;nbsp;=&amp;nbsp;Packages.javax.xml.transform.dom.DOMSource;!!discoiqbr!!!!discoiqbr!!var&amp;nbsp;ResourceResolverFactory&amp;nbsp;=&amp;nbsp;Packages.org.apache.sling.api.resource.ResourceResolverFactory;!!discoiqbr!!!!discoiqbr!!!!discoiqbr!!!!discoiqbr!!//&amp;nbsp;get&amp;nbsp;reference&amp;nbsp;to&amp;nbsp;BarcodedFormsService!!discoiqbr!!var&amp;nbsp;bcfService&amp;nbsp;=&amp;nbsp;sling.getService(BarcodedFormsService);!!discoiqbr!!!!discoiqbr!!!!discoiqbr!!/*!!discoiqbr!!&amp;nbsp;*&amp;nbsp;workflow&amp;nbsp;payload&amp;nbsp;and&amp;nbsp;path&amp;nbsp;to&amp;nbsp;it!!discoiqbr!!&amp;nbsp;*/!!discoiqbr!!var&amp;nbsp;payload&amp;nbsp;=&amp;nbsp;graniteWorkItem.getWorkflowData().getPayload();!!discoiqbr!!var&amp;nbsp;payload_path&amp;nbsp;=&amp;nbsp;payload.toString();!!discoiqbr!!!!discoiqbr!!!!discoiqbr!!/*&amp;nbsp;Create&amp;nbsp;resource&amp;nbsp;resolver&amp;nbsp;using&amp;nbsp;current&amp;nbsp;session&amp;nbsp;!!discoiqbr!!&amp;nbsp;*&amp;nbsp;this&amp;nbsp;resource&amp;nbsp;resolver&amp;nbsp;needs&amp;nbsp;to&amp;nbsp;be&amp;nbsp;passed&amp;nbsp;to&amp;nbsp;Document!!discoiqbr!!&amp;nbsp;*&amp;nbsp;object&amp;nbsp;constructor&amp;nbsp;when&amp;nbsp;file&amp;nbsp;is&amp;nbsp;to&amp;nbsp;be&amp;nbsp;read&amp;nbsp;from&amp;nbsp;!!discoiqbr!!&amp;nbsp;*&amp;nbsp;crx&amp;nbsp;repository.&amp;nbsp;!!discoiqbr!!&amp;nbsp;*/!!discoiqbr!!!!discoiqbr!!/*&amp;nbsp;get&amp;nbsp;ResourceResolverFactory&amp;nbsp;service&amp;nbsp;reference&amp;nbsp;,&amp;nbsp;used&amp;nbsp;!!discoiqbr!!&amp;nbsp;*&amp;nbsp;to&amp;nbsp;construct&amp;nbsp;resource&amp;nbsp;resolver!!discoiqbr!!&amp;nbsp;*/!!discoiqbr!!var&amp;nbsp;resourceResolverFactory&amp;nbsp;=&amp;nbsp;sling.getService(ResourceResolverFactory);!!discoiqbr!!!!discoiqbr!!var&amp;nbsp;authInfo&amp;nbsp;=&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"user.jcr.session":graniteWorkflowSession.getSession()!!discoiqbr!!};!!discoiqbr!!!!discoiqbr!!var&amp;nbsp;resourceResolver&amp;nbsp;=&amp;nbsp;resourceResolverFactory.getResourceResolver(authInfo);!!discoiqbr!!!!discoiqbr!!//&amp;nbsp;Create&amp;nbsp;Document&amp;nbsp;object&amp;nbsp;from&amp;nbsp;payload_path&amp;nbsp;!!discoiqbr!!var&amp;nbsp;inputDocument&amp;nbsp;=&amp;nbsp;new&amp;nbsp;Document(payload_path,&amp;nbsp;resourceResolver);!!discoiqbr!!!!discoiqbr!!!!discoiqbr!!//&amp;nbsp;invoke&amp;nbsp;decode&amp;nbsp;operation&amp;nbsp;to&amp;nbsp;decode&amp;nbsp;barcodes&amp;nbsp;in&amp;nbsp;inputDocument!!discoiqbr!!var&amp;nbsp;decodedBarcode&amp;nbsp;=&amp;nbsp;bcfService.decode(inputDocument,&amp;nbsp;true,&amp;nbsp;false,&amp;nbsp;false,&amp;nbsp;false,&amp;nbsp;false,&amp;nbsp;false,&amp;nbsp;false,&amp;nbsp;false,&amp;nbsp;CharSet.UTF_8);!!discoiqbr!!!!discoiqbr!!//&amp;nbsp;save&amp;nbsp;decoded&amp;nbsp;barcode&amp;nbsp;data&amp;nbsp;to&amp;nbsp;disk!!discoiqbr!!saveW3CDocument(decodedBarcode,&amp;nbsp;"C:/temp/decoded.xml");!!discoiqbr!!!!discoiqbr!!/*!!discoiqbr!!&amp;nbsp;*&amp;nbsp;Helper&amp;nbsp;function&amp;nbsp;to&amp;nbsp;save&amp;nbsp;W3C&amp;nbsp;Document!!discoiqbr!!&amp;nbsp;*&amp;nbsp;to&amp;nbsp;a&amp;nbsp;file&amp;nbsp;on&amp;nbsp;disk!!discoiqbr!!&amp;nbsp;*/!!discoiqbr!!function&amp;nbsp;saveW3CDocument(inputDoc,&amp;nbsp;filePath)&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;var&amp;nbsp;tf&amp;nbsp;=&amp;nbsp;TransformerFactory.newInstance();!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;var&amp;nbsp;tr&amp;nbsp;=&amp;nbsp;tf.newTransformer();!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;var&amp;nbsp;os&amp;nbsp;=&amp;nbsp;new&amp;nbsp;FileOutputStream(filePath);!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;var&amp;nbsp;sr&amp;nbsp;=&amp;nbsp;new&amp;nbsp;StreamResult(os);!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;tr.transform(new&amp;nbsp;DOMSource(inputDoc),&amp;nbsp;sr);!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;os.close();!!discoiqbr!!} 
  </codeblock> 
  <related-links> 
   <a href="https://helpx.adobe.com/experience-manager/6-3/forms/javadocs/com/adobe/fd/bcf/api/BarcodedFormsService.html" target="_blank">Java API Reference for Barcoded Forms service</a> 
   <a href="https://helpx.adobe.com/experience-manager/6-3/forms/javadocs/com/adobe/fd/bcf/api/BarcodedFormsService.html" target="_blank">Java API Reference for Document Manager</a> 
  </related-links> 
 </body> 
</html>