<?xml version="1.1" encoding="UTF-8" standalone="yes"?> 
<html> 
 <head> 
  <meta content="" name="jcr:baseVersion" /> 
  <meta content="2018-07-12T08:52:05.913-0400" name="lastPublishExternalDate" /> 
  <meta content="2015-12-01T01:29:55.495-0500" name="lastPublishQADate" /> 
  <meta content="admin" name="jcr:createdBy" /> 
  <meta content="help/components/pages/article-3" name="sling:resourceType" /> 
  <meta content="checked_not_improved" name="acrolinxStatus" /> 
  <meta content="khsingh" name="cq:lastModifiedBy" /> 
  <meta content="light" name="heroGradient" /> 
  <meta content="khsingh" name="cq:lastReplicatedBy" /> 
  <meta content="true" name="jcr:isCheckedOut" /> 
  <meta content="AEM Forms reference sites showcase how you can use AEM Forms to implement end-to-end workflow in an organization." name="seoDescription" /> 
  <meta content="vishgupt" name="acrolinxLastCheckedBy" /> 
  <meta content="/content/help/en/experience-manager/6-4/forms/morehelp/introduction;/content/help/en/experience-manager/6-4/forms/morehelp/introduction" name="moreHelpPaths" /> 
  <meta content="aa7348fa-97ef-467a-9990-746aab2f41cd" name="jcr:predecessors" /> 
  <meta content="2018-08-13T06:05:20.221-0400" name="cq:lastModified" /> 
  <meta content="2018-07-12T08:52:05.959-0400" name="cq:lastReplicated" /> 
  <meta content="Activate" name="cq:lastReplicationAction" /> 
  <meta content="" name="jcr:primaryType" /> 
  <meta content="mix:versionable" name="jcr:mixinTypes" /> 
  <meta content="3112" name="acrolinxWords" /> 
  <meta content="en_us" name="jcr:language" /> 
  <meta content="291" name="acrolinxSentences" /> 
  <meta content="left" name="sideColumn" /> 
  <meta content="Set up and configure AEM Forms reference sites" name="jcr:title" /> 
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/FORMS" name="primaryProductTag" /> 
  <meta content="/etc/designs/help" name="cq:designPath" /> 
  <meta content="false" name="doNotLocalize" /> 
  <meta content="2017-12-01T19:03:47.886-0500" name="jcr:created" /> 
  <meta content="http://acrolinx.corp.adobe.com:8031/output/en/setup_reference_sites_krs_workflow_a6ce1fdff5e6a85b_231_report.xml" name="acrolinxReportURL" /> 
  <meta content="2366a11d-5083-41f3-adb9-ac1af353547e" name="jcr:uuid" /> 
  <meta content="2018-06-14T07:31:56.004-0400" name="acrolinxDate" /> 
  <meta content="content_type:reference;products:SG_EXPERIENCEMANAGER/6.4/FORMS;topic_tags:introduction" name="cq:tags" /> 
  <meta content="/apps/help/templates/article-3" name="cq:template" /> 
  <meta content="yellow" name="acrolinxPageStatus" /> 
  <meta content="" name="jcr:versionHistory" /> 
  <meta content="video" name="pageLayout" /> 
 </head> 
 <body> 
  <p>AEM Forms provides reference site implementation to demonstrate how AEM Forms helps Financial Services Industry and Government organizations in transforming their complex transactions into simple and engaging digital experiences anywhere, anytime, on any device.</p> 
  <p>We.Finance and We.Gov reference sites draw real life use-cases to engage with existing and potential customers, right from the point of first touch to managing correspondences and transactions in a personalized and cost-effective manner.</p> 
  <p>The reference sites allow you to explore and showcase the following key capabilities of AEM Forms.</p> 
  <ul> 
   <li>Simplified authoring experience of engaging and responsive adaptive forms and interactive communications. </li> 
   <li>Interactive Communications to create interactive, personalized, and responsive customer communications that adapt to the device setting and layout.</li> 
   <li>Data integration to connect to disparate data sources to prefill and submit form data through a form data model.</li> 
   <li>Forms workflow to automate business processes and workflows.</li> 
   <li>Advanced user data managing and processing capabilities.</li> 
   <li>Integration with Adobe Sign to securely sign and submit adaptive forms.</li> 
   <li>Integration with Adobe Target to serve targeted recommendations and perform A/B testing to maximize the ROI from a form.</li> 
   <li>Integration with Adobe Analytics to measure the performance of a form or a campaign and take informed decisions.</li> 
   <li>Enhanced form filling experience.</li> 
  </ul> 
  <p>The reference sites provide reusable assets that you can use as templates to create your own assets.</p> 
  <div style="position: absolute; left: -10000px; width: 9000px; top: 0px;"> 
   <ul style="font-family: tahoma, arial, helvetica, sans-serif; font-size: 12px;"> 
    <li>Integration with Adobe Sign to securely sign and submit adaptive forms. </li> 
   </ul> 
  </div> 
  <div style="position: absolute; left: -10000px; width: 9000px; top: 0px;"> 
   <ul style="font-family: tahoma, arial, helvetica, sans-serif; font-size: 12px;"> 
    <li>Integration with Adobe Sign to securely sign and submit adaptive forms. </li> 
   </ul> 
  </div> 
  <h2>Prerequisites and steps to set up reference sites</h2> 
  <p>Before you set up the reference site, ensure that you have the following:</p> 
  <ul> 
   <li><strong>AEM essentials<br /> </strong>AEM QuickStart, AEM Forms add-on package, and reference site packages. See <a href="/content/help/en/aem-forms/kb/aem-forms-releases" target="_blank">AEM Forms releases</a> for add-on and reference sites packages details.</li> 
   <li><strong>An SMTP service</strong><br /> You can use any SMTP service.</li> 
   <li><strong>Adobe Sign developer account and Adobe Sign API application<br /> </strong>To use digital signing capabilities, Adobe Sign developer account is required. See <a href="https://acrobat.adobe.com/us/en/why-adobe/developer-form.html" target="_blank">Adobe Sign</a>.</li> 
   <li>A running instance of Microsoft Dynamics 365 to integrate with AEM Forms. To run the reference site, you import the sample data into the Microsoft Dynamics instance to prefill the interactive communication used in the reference site.</li> 
   <li>A running instance of AEM 6.4 with Forms add-on package. For more information, see <a href="https://helpx.adobe.com/experience-manager/6-3/forms/using/installing-configuring-aem-forms-osgi.html">Installing and configuring AEM Forms</a>. </li> 
  </ul> 
  <p>Perform the following steps in the recommended sequence to set up and configure the reference sites.</p> 
  <table border="1" cellpadding="0" cellspacing="0"> 
   <tbody> 
    <tr> 
     <th><strong>Step</strong></th> 
     <th width="20%"><strong>Configure</strong></th> 
     <th><strong>Notes</strong></th> 
    </tr> 
    <tr> 
     <td><a href="#installaemforms">Install and configure AEM Forms</a></td> 
     <td>Author and Publish</td> 
     <td>Install and configure AEM Forms author and publish instances.</td> 
    </tr> 
    <tr> 
     <td><a href="#ssl">Configure SSL</a></td> 
     <td>Author and Publish<br /> </td> 
     <td valign="top">Enable HTTP over SSL for secure communications with Adobe Sign.</td> 
    </tr> 
    <tr> 
     <td valign="top" width="163"><p><a href="#externalizer">Configure Day CQ Link Externalizer configuration</a></p> </td> 
     <td>Author and Publish<br /> </td> 
     <td valign="top" width="159"><p>Reference Site use cases deliver emails for different transactions. This setting is required for Newsletter delivery via email. It ensures that URLs and Images point to the publish instance. </p> </td> 
    </tr> 
    <tr> 
     <td><a href="#cqmail">Configure Day CQ Mail Service</a></td> 
     <td>Author and Publish</td> 
     <td>Required for email communication.</td> 
    </tr> 
    <tr> 
     <td><a href="#xss">Override default XSS configuration</a></td> 
     <td>Publish</td> 
     <td>Used to override $, {, and } characters that are blocked by xss security.</td> 
    </tr> 
    <tr> 
     <td><a href="#aemds">Configure AEM DS settings</a></td> 
     <td>Author</td> 
     <td>Configure AEM DS for form submission on publish instance and processing workflows on the author instance.</td> 
    </tr> 
    <tr> 
     <td><a href="#refsite">Deploy reference sites packages</a></td> 
     <td>Author</td> 
     <td>Deploy reference sites packages on AEM Forms author instance.</td> 
    </tr> 
    <tr> 
     <td><a href="../../forms/using/setup-reference-sites.md#main-pars-header-1796965447">Import sample data into Microsoft Dynamics</a></td> 
     <td>Author and Publish</td> 
     <td>Import sample data for credit card application, home mortgage application, and home insurance application walkthrough</td> 
    </tr> 
    <tr> 
     <td><a href="../../forms/using/setup-reference-sites.md#main-pars-header-1188847625">Configure OAuth cloud service for Microsoft Dynamics</a></td> 
     <td>Author and Publish</td> 
     <td>Configure the OAuth cloud service in AEM Forms to enable communication between AEM Forms and Microsoft Dynamics. </td> 
    </tr> 
    <tr> 
     <td><a href="#scheduler">Configure Adobe Sign Scheduler</a></td> 
     <td>Author and Publish<br /> </td> 
     <td>Change the configuration of the scheduler to check status every two minutes.</td> 
    </tr> 
    <tr> 
     <td><a href="#sign-service">Configure Reference Site Adobe Sign Cloud Service</a></td> 
     <td>Author and Publish<br /> </td> 
     <td>A configuration that comes with reference sites packages and needs reconfiguration with valid credentials.</td> 
    </tr> 
    <tr> 
     <td><a href="#anonymous">Configure Forms Common Configuration Service for anonymous users</a></td> 
     <td>Publish</td> 
     <td>The configuration allows submission, sign and Document of Record generation for anonymous users.</td> 
    </tr> 
    <tr> 
     <td><a href="#fdm">Modify Rest Service Swagger File for Form Data Model</a></td> 
     <td>Author and Publish<br /> </td> 
     <td>Modify the service for your environment.</td> 
    </tr> 
   </tbody> 
  </table> 
  <h2>Install and configure AEM Forms</h2> 
  <p>Install and deploy AEM Forms as described in <a href="../../forms/using/installing-configuring-aem-forms-osgi.md" target="_blank">Installing and configuring AEM Forms on OSGi</a>.</p> 
  <note> 
   <p>Configure replication and reverse replication agents if there are more than one publish instances or author and publish instances are on different machines.</p> 
  </note> 
  <h2 id="ssl">Configure SSL</h2> 
  <p>SSL configuration is required to communicate with Adobe Sign servers. For detailed steps, see <a href="../../sites/administering/using/ssl-by-default.md" target="_blank">Enabling HTTP Over SSL</a>.</p> 
  <note> 
   <p>Do not configure force SSL on <span class="code">/etc/map</span> folder.</p> 
  </note> 
  <h2 id="externalizer">Configure Day CQ Link Externalizer configuration</h2> 
  <p>In AEM, the <strong>Externalizer</strong> is an OSGI service that allows you to programmatically transform a resource path (e.g. /path/to/my/page) into an external and absolute URL (for example, http://www.mycompany.com/path/to/my/page) by prefixing the path with a pre-configured DNS. See <a href="../../sites/developing/using/externalizer.md" target="_blank">Externalizing URLs</a>.</p> 
  <note> 
   <p>Do not externalize to HTTPS URL if you are using self-signed certificate for SSL.</p> 
   <p>Also, use localhost instead of its hostname for local server.</p> 
  </note> 
  <p>Perform the following steps on both author and publish instances:</p> 
  <ol> 
   <li><p>Go to OSGi Configuration at http://&amp;lt;<em>hostname&amp;gt;</em>:&amp;lt;<em>port&amp;gt;</em>/system/console/configMgr.</p> </li> 
   <li><p>Find and tap <strong>Day CQ Link Externalizer</strong> configuration.<br /> The Day CQ Link Externalizer dialog opens for editing the configuration.</p> </li> 
   <li><p>In the Day CQ Link Externalizer dialog, in the Domains field:</p> 
    <ul> 
     <li>On the author instance, specify a publish URL that can be accessed from an external system. For example, a hostname or a publishing web server.</li> 
     <li>On the publish instance, specify both the author and publish URLs.</li> 
    </ul> </li> 
   <li><p>On both author and publish instances, ensure that the local server URL is specified in the Domains field.</p> </li> 
   <li><p>Tap <strong>Save</strong>. Wait for a while for all services to restart.</p> </li> 
  </ol> 
  <h2 id="cqmail">Configure Day CQ Mail Service</h2> 
  <p>Reference site implementation requires emails to be sent to sample users when they fill and submit forms. Configuring Day CQ Mail Service lets you provide SMTP service details to send automated emails to customers. See <a href="../../sites/administering/using/notification.md" target="_blank">Configuring Email Notifications</a>.</p> 
  <p>Perform the following steps to configure mail service on the publish instance:</p> 
  <ol> 
   <li><p>Go to OSGi Configuration at http://&amp;lt;<em>hostname&amp;gt;</em>:&amp;lt;<em>port&amp;gt;</em>/system/console/configMgr.</p> </li> 
   <li><p>Find and tap <strong>Day CQ Mail Service</strong> to open it for configuration.</p> </li> 
   <li><p>Provide SMTP server hostname and port values.</p> </li> 
   <li><p>Tap <strong>Save.</strong></p> </li> 
  </ol> 
  <note> 
   <p>You can use your corporate SMTP service or public services like Gmail. For configuring SMTP service, see SMTP service documentation.</p> 
  </note> 
  <h2 id="xss">Override default XSS configuration</h2> 
  <p>The email templates for We.Finance reference site contain personalized links in emails. These links have placeholder as <span class="code">${placeholder}</span>. These placeholders are replaced by actual values before sending emails. The default XSS protection configuration for AEM does not allow curly braces (<strong>{ }</strong>) in the URL in HTML content. However, you can override the default configuration by performing the following steps on publish instance:</p> 
  <ol> 
   <li><p>Copy <span class="code">/libs/cq/xssprotection/config.xml</span> to <span class="code">/apps/cq/xssprotection/config.xml</span>.</p> </li> 
   <li><p>Open <span class="code">/apps/cq/xssprotection/config.xml</span>.</p> </li> 
   <li><p>In the <span class="code">common-regexps</span> section, modify the <span class="code">onsiteURL</span><strong> </strong>entry as follows and save the file. </p>   </li> 
  </ol> 
  <note> 
   <p>Curly braces (<strong>{ }</strong>) are included as accepted characters in the URL in HTML content. </p> 
  </note> 
  <p>After configuring the SMTP server, try to fill a form using the Sarah Rose persona and save it as a draft. When you save as draft, you get an option to receive the draft using email. On tapping the <strong>Send Email</strong> button, if you receive an email with a link to the draft of the application, your email configuration is successful. Ensure that you log in using Sarah's credentials to see the draft.</p> 
  <h2 id="aemds">Configure AEM DS settings</h2> 
  <p>AEM DS Service settings are required on the Publish instance for email communications in the reference site use cases. For detailed steps to configure AEM DS Service setup on the Publish instance, see <a href="../../forms/using/configuring-the-processing-server-url-.md" target="_blank">Configure AEM DS settings</a>.</p> 
  <p>For AEM Forms reference sites, in the AEM DS Settings Service, specify URL of the publish server instead of the URL of the processing server. <br /> </p> 
  <note> 
   <p>Do not put <span class="code">/lc</span> in the processing server URL if you are configuring it for AEM Forms OSGi.</p> 
  </note> 
  <h2 id="refsite">Deploy reference sites packages</h2> 
  <p>Install the following reference sites packages using package share.</p> 
  <ul> 
   <li><a href="https://www.adobeaemcloud.com/content/marketplace/marketplaceProxy.html?packagePath=/content/companies/public/adobe/packages/cq640/fd/AEM-FORMS-6.4-FSI-REF-SITE" target="_blank">AEM-FORMS-6.4-FSI-REF-SITE</a></li> 
   <li><a href="https://www.adobeaemcloud.com/content/marketplace/marketplaceProxy.html?packagePath=/content/companies/public/adobe/packages/cq640/fd/AEM-FORMS-6.4-GOV-REF-SITE " target="_blank">AEM-FORMS-6.4-GOV-REF-SITE</a></li> 
  </ul> 
  <p>To learn more about how to use packages and package share, see <a href="../../sites/administering/using/package-manager.md" target="_blank">How to Work With Packages</a>.</p>     
  <p>After you have installed the packages and started the author and publish instances, visit the following URLs in your browser:</p> 
  <ul> 
   <li>http://[server]:[port]/wegov</li> 
   <li>http://[server]:[port]/wefinance</li> 
  </ul> 
  <p>If your installation is successful, you can access the We.Gov and We.Finance reference sites landing pages.</p> 
  <h2>(Optional) Import sample data into Microsoft Dynamics</h2> 
  <p>The home mortgage application and auto insurance application reference sites are configured to use records from Microsoft Dynamics. The reference site package installs a custom entity and sample records that you can import into Microsoft Dynamics to run the reference site. Perform the following steps to migrate and set up the sample data:</p> 
  <p>To import the custom entity for auto insurance application:</p> 
  <ol> 
   <li><p>Download the <strong>WeFinanceAutoInsurance_1_0.zip</strong> solution package from http://[server]:[port]/content/aemforms-refsite-collaterals/we-finance/auto-insurance/ms-dynamics/WeFinanceAutoInsurance_1_0.zip on your AEM author instance.</p> </li> 
   <li><p>In your Microsoft Dynamics instance, go to <strong>Settings &amp;gt; Solutions</strong> and click <strong>Import</strong>. Select and import the package.</p> </li> 
  </ol> 
  <p>To import the custom entity for auto insurance application:</p> 
  <ol> 
   <li><p>Download the<strong> AEMFormsFSIRefsite_1_0.zip</strong> package from http://[author]:[port]/content/aemforms-refsite-collaterals/we-finance/home-mortgage/ms-dynamics/AEMFormsFSIRefsite_1_0.zip. Select and import the package.<br /> </p> </li> 
   <li><p>In your Microsoft Dynamics instance, go to <strong>Settings &amp;gt; Solutions</strong> and click <strong>Import</strong>. Select and import the package.</p> </li>    
  </ol> 
  <p>To import the customer and insurance policy records: </p> 
  <ol> 
   <li><p>Download the <strong>We.Finance Customers.csv, We.Finance Auto Insurance Renewals.csv</strong>, and <strong>home mortgage</strong> data files from the following locations on your AEM author instance:</p> 
    <ul> 
     <li>http://[server]:[port/content/aemforms-refsite-collaterals/we-finance/auto-insurance/ms-dynamics/We.Finance Customers.csv</li> 
     <li>http://[server]:[port/content/aemforms-refsite-collaterals/we-finance/auto-insurance/ms-dynamics/We.Finance Auto Insurance Renewals.csv</li> 
     <li>http://[server]:[port]/content/aemforms-refsite-collaterals/we-finance/home-mortgage/ms-dynamics/Sarah%20Rose%20Contact.csv</li> 
    </ul> </li> 
   <li><p>In your Microsoft Dynamics instance, do the following:</p> 
    <ul> 
     <li>Go to <strong>Sales </strong>&amp;gt; <strong>We.Finance Customers</strong> and click <strong>Import</strong>. </li> 
     <li>Go to <strong>Sales </strong>&amp;gt; <strong>We.Finance Auto Insurance</strong> and click <strong>Import</strong>. <br /> </li> 
     <li>Go to <strong>Sales </strong>&amp;gt; <strong>We.Finance Home Mortgage </strong>and click <strong>Import</strong>.<br /> </li> 
    </ul> </li> 
  </ol> 
  <h2>Configure OAuth cloud service for Microsoft Dynamics</h2> 
  <p>Configure the OAuth cloud service in AEM Forms to enable communication between AEM Forms and Microsoft Dynamics. Perform the following steps to configure the OAuth Cloud Service on AEM author and publish instances:</p> 
  <ol> 
   <li><p>On AEM author instance, go to <strong>Tools </strong>&amp;gt; <strong>Cloud Services</strong> &amp;gt; <strong>Data Sources</strong> &amp;gt; <strong>global</strong>. Tap <strong>Refsite Dynamics Integration</strong> icon and tap Properties. </p> </li> 
   <li><p>Go to Microsoft Azure Active Directory account. Add the copied cloud service configuration URL in the <strong>Reply URL</strong> setting for your registered application. Save the configuration.</p> </li> 
   <li><p>In the Authentication Settings tab, specify <strong>Service Root</strong>, <strong>Client Id</strong>, <strong>Client Secret</strong>, and <strong>Resource URL</strong> for your Microsoft Dynamics instance. Click <strong>Connect to OAuth</strong> that redirects to the Microsoft Dynamics login page.</p> </li> 
   <li><p>Provide your login credentials. Once logged in, you are redirected to the AEM Forms cloud service configuration page. Click <strong>Save &amp; Close</strong>. The cloud service configuration is saved. </p> </li> 
   <li><p>Go to <strong>Forms </strong>&amp;gt; <strong>Data Integrations</strong> &amp;gt; <strong>We.Finance</strong>. Select Auto Insurance (Dynamics) and click Edit. Microsoft Dynamics entities are listed under the Data Sources tab. Wait until all entities are fetched from Microsoft Dynamics and listed under the data sources tab.</p> </li> 
   <li><p>Select the <strong>AutoInsuranceRenewal entity</strong> and click <strong>Test Model Object</strong>. In the input request section, specify the value for customer ID as “900001” and click <strong>Test</strong>. The Output section displays the records fetched from Microsoft Dynamics for customer ID 900001.</p> </li> 
   <li><p>In the input request section, specify the value for customer ID as “900001” and click <strong>Test</strong>. The Output section displays the records fetched from Microsoft Dynamics for customer ID 900001.</p> </li> 
   <li><p>Repeat steps 1-6 on the publish instance.</p> </li> 
  </ol> 
  <h2 id="scheduler">Configure Adobe Sign Scheduler</h2> 
  <p>Do the following on both author and publish instances:</p> 
  <ol> 
   <li><p>Go to AEM Web Configuration console at http://[server]:[host]/system/console/configMgr.</p> </li> 
   <li><p>Find and tap <span class="uicontrol">Adobe Sign Configuration Service</span> to open it for configuration.</p> </li> 
   <li><p>Configure<span class="uicontrol"> Status Update Scheduler Expression</span> as <strong>0 0/2 * * * ?</strong>.</p> 
    <note> 
     <p>The above scheduler configuration checks the status of the Adobe Sign service every two minutes.</p> 
    </note></li> 
   <li><p>Tap <span class="uicontrol">Save</span>.</p> </li> 
  </ol> 
  <h2 id="sign-service">Configure reference site Adobe Sign cloud service</h2> 
  <p>Do the following on both author and publish instances:</p> 
  <ol> 
   <li><p>Go to <strong>Tools </strong>&amp;gt; <strong>Cloud Services</strong> &amp;gt; <strong>Adobe Sign</strong> &amp;gt; <strong>global</strong>. Select <strong>AEM Forms Reference Site Sign</strong> and tap Properties. </p> 
    <note> 
     <p>Ensure that the <a>https://[host]:[ssl_port]/mnt/overlay/adobesign/cloudservices/adobesign/properties.html </a>URL is added to the redirect URL list of OAuth configuration of Adobe Sign API application.</p> 
    </note></li> 
   <li><p>Specify Client Id and secret of the Adobe Sign application OAuth configuration.</p> </li> 
   <li><p>(Optional) Select the <span class="uicontrol">Enable Adobe Sign for attachments also</span> option, and tap <span class="uicontrol">Connect to Adobe Sign</span>. It appends the files attached to an adaptive forms to the corresponding Adobe Sign document sent for signing.</p> </li> 
   <li><p>Tap <span class="uicontrol">Connect to Adobe Sign</span> and log in with your Adobe Sign credentials.</p> </li> 
  </ol> 
  <h2 id="anonymous">Configure Forms Common Configuration Service</h2> 
  <p>Do the following on the publish instance to allow access to anonymous users:</p> 
  <ol> 
   <li><p>Go to AEM Web Configuration console at http://[server]:[port]/system/console/configMgr.</p> </li> 
   <li><p>Find and tap <span class="uicontrol">Forms Common Configuration Service</span> to open it for configuration.</p> </li> 
   <li><p>Configure the <span class="uicontrol">Allow</span> field for <span class="uicontrol">All Users</span>.</p> </li> 
   <li><p>Tap <span class="uicontrol">Save</span>.</p> </li> 
  </ol> 
  <h2 id="fdm">Modify Rest Service for Form Data Model</h2> 
  <p>Do the following on both author and publish instances:</p> 
  <ol> 
   <li><p>Go to CRXDE at http://[server]:[port]/crx/de/index.jsp.</p> </li> 
   <li><p>Navigate to<strong> </strong>/conf/global/settings/cloudconfigs/fdm/roi-rest/jcr:content/swaggerFile<strong> </strong>and open the swagger file.</p> </li> 
   <li><p>Update the host and port settings as per your environment.</p> </li> 
   <li><p>Save the settings.</p> </li> 
   <li><p>(<strong>Author instance only</strong>) Go to <strong>Tools </strong>&amp;gt; <strong>Cloud Services</strong> &amp;gt; <strong>Data Sources </strong>&amp;gt; <strong>global. </strong>Select<strong> roi-rest </strong>and tap<strong> Properties.</strong> Tap <strong>Authentication Settings</strong> and set <strong>Authentication Type</strong> to<strong> Basic Authentication</strong>. Specify <span class="code">admin</span>/<span class="code">admin </span>as the username/password to access the service. Tap <strong>Save &amp; Close</strong>.</p> </li> 
  </ol> 
  <h2>Integrate with Marketing Cloud</h2> 
  <p>You can integrate the AEM Forms with Adobe Analytics and Adobe Target. While Adobe Analytics helps you generate reports and analyze performance of adaptive forms, Adobe Target helps you deliver personalized experiences and perform A/B testing for adaptive forms. </p> 
  <p>Do the following to configure Adobe Analytics and Adobe Target in AEM Forms.<br /> </p> 
  <h3>Configure Adobe Analytics</h3> 
  <p>AEM Forms integration with Adobe Analytics allows you to monitor and analyze how your customers interact with your forms and documents. It helps you identify and fix problem areas and act to increase the conversion rate.</p> 
  <p>To experience this functionality in reference site, configure your Analytics account as described in <a href="../../forms/using/configure-analytics-forms-documents.md" target="_blank">Configuring analytics and reports</a>.</p> 
  <p>To generate a report, seed data is bundled with the reference sites. Before you use seed data, do the following:</p> 
  <ol> 
   <li><p>Ensure that We.Finance and We.Gov analytics configurations are available in the AEM Cloud Services. You can find cloud services in one of the following ways:</p> 
    <ul> 
     <li>Navigate to <span class="uicontrol">Tools&amp;gt;Cloud Services&amp;gt;Legacy Cloud Services</span> or browse to http://&amp;lt;host&amp;gt;:&amp;lt;port&amp;gt;/libs/cq/core/content/tools/cloudservices.html.</li> 
     <li>In the <span class="uicontrol">Cloud Services</span> page, under <span class="uicontrol">Adobe Analytics</span> section, click <span class="code">Show Configurations</span>. You can see We.Finance and We.Gov configurations available. Click to open the configuration. In the configuration page, click <span class="uicontrol">Edit</span>. Provide valid Company, Username, Shared Secret (Password) and Data Center and click <span class="uicontrol">Connect to Analytics</span>. Once you get Connection successful dialog, click <span class="uicontrol">OK</span> on the configuration dialog. Configure the framework under the Analytics configuration as described in the <a href="../../forms/using/configure-analytics-forms-documents.md" target="_blank">Configuring Analytics and Reports</a>.</li> 
    </ul> </li> 
   <li><p>Navigate to http://&amp;lt;<em>host</em>&amp;gt;:&amp;lt;<em>port</em>&amp;gt;/system/console/configMgr and do the following:</p> 
    <ul> 
     <li>In the <span class="uicontrol">Web Console Configuration</span> page, find and click <span class="uicontrol">AEM Forms Analytics Configuration</span>.</li> 
     <li>In the<span class="uicontrol"> SiteCatalyst Framework</span> field of the AEM Forms Analytics Configuration dialog, select we-finance(we-finance) or we-gov(we-gov).</li> 
     <li>Click <span class="uicontrol">Save</span> and let the page refresh.<br /> </li> 
    </ul> </li> 
   <li><p>Navigate to forms manager at http://&amp;lt;host&amp;gt;:&amp;lt;port&amp;gt;/aem/forms and do the following:</p> 
    <ul> 
     <li>Open the We.Finance or We.Gov folder, and select the form for which you want to see the report.</li> 
     <li>Click Enable Analytics in the Actions Toolbar. After you have enabled analytics for the form, click Analytics Report. You can see a blank report generated. After a blank report is generated, you have to provide seed data shipped with refsite package to generate analytics report for demo purpose. </li> 
    </ul> <p>Reference sites provide analytics reporting with seed data for credit card, home mortgage, and child support use cases. For configuration of seed data, see <a href="../../forms/using/finance-reference-site-walkthrough.md" target="_blank">We.Finance reference site walkthrough</a> and <a href="../../forms/using/gov-reference-site-walkthrough.md" target="_blank">We.Gov reference site walkthrough</a>.</p> </li> 
  </ol> 
  <h3>Configure Target</h3> 
  <p>The reference site showcases the integration of AEM Forms with Adobe Target that allows you to include targeted and personalized content in adaptive documents. It also enables creating A/B tests for adaptive forms.</p> 
  <p>To experience the integration in the reference site, do the following to configure Target in AEM:</p> 
  <ol> 
   <li>Start the author quickstart with the jvm argument <span class="code">-Dabtesting.enabled=true</span> to enable A/B testing on the server.<strong><br /> Note</strong>: If the AEM instance is running on JBoss, which is started as a service from Turnkey installation, add the <span class="code">-Dabtesting.enabled=true</span> parameter in the following entry in the <span class="code">jboss\bin\standalone.conf.bat</span> file, :<br /> <span class="code">set "JAVA_OPTS=%JAVA_OPTS% -Dadobeidp.serverName=server1 -Dfile.encoding=utf8 -Djava.net.preferIPv4Stack=true -Dabtesting.enabled=true"</span> <br /> </li> 
   <li>Access http://&amp;lt;<em>hostname</em>&amp;gt;:&amp;lt;<em>port</em>&amp;gt;/libs/cq/core/content/tools/cloudservices.html.</li> 
   <li>In the <span class="uicontrol">Adobe Target</span> section, click <span class="uicontrol">Show Configurations</span>. You can see the We.Finance Target Configuration available. Click to open the configuration. In the configuration page, click <span class="uicontrol">Edit</span>. The <span class="uicontrol">Edit Component</span> dialog for the configuration opens.</li> 
   <li>Specify your Client Code, Email and Password associated with your Target account. Select API type as <span class="uicontrol">REST</span>.</li> 
   <li>Click <span class="uicontrol">Connect to Adobe target</span>. Once the Target account is configured successfully, click <span class="uicontrol">OK</span>. You can see the packaged configuration has a Target Framework.</li> 
   <li>Go to http://&amp;lt;<em>hostname</em>&amp;gt;:&amp;lt;<em>port</em>&amp;gt;/system/console/configMgr.</li> 
   <li>Click <span class="uicontrol">AEM Forms Target Configuration</span>.</li> 
   <li>Select a Target framework.</li> 
   <li>In the <span class="uicontrol">Target URLs</span> field, specify the URL to AEM Forms. For example: http://&amp;lt;<em>hostname</em>&amp;gt;:&amp;lt;<em>port</em>&amp;gt;.</li> 
   <li>Click <span class="uicontrol">Save</span>.</li> 
  </ol> 
  <p>Credit Card Application and Home Mortgage Application use cases demonstrate how to perform A/B testing and showcase a report for demo purpose. For walkthroughs, see <a href="../../forms/using/finance-reference-site-walkthrough.md" target="_blank">We.Finance reference site walkthrough</a>.</p> 
  <h2>Next step</h2> 
  <p>Now you are all set to explore the reference site. For more information about reference site workflow and steps, see:</p> 
  <ul> 
   <li><a href="../../forms/using/finance-reference-site-walkthrough.md" target="_blank">We.Finance reference site walkthrough</a></li> 
   <li><a href="../../forms/using/gov-reference-site-walkthrough.md" target="_blank">We.Gov reference site walkthrough</a><br /> </li> 
   <li><a href="../../forms/using/employee-self-service-reference-site.md" target="_blank">Employee self-service reference site walkthrough</a><br /> </li> 
  </ul> 
 </body> 
</html>