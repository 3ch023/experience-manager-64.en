<?xml version="1.1" encoding="UTF-8" standalone="yes"?> 
<html> 
 <head> 
  <meta content="2019-02-06T03:49:08.973-0500" name="lastPublishExternalDate" /> 
  <meta content="" name="jcr:primaryType" /> 
  <meta content="2019-02-06T03:49:08.973-0500" name="topicBrowsingSortDate" /> 
  <meta content="anujkapo" name="cq:lastReplicatedBy" /> 
  <meta content="" name="jcr:baseVersion" /> 
  <meta content="2017-12-01T19:01:44.172-0500" name="jcr:created" /> 
  <meta content="517a3e79-7a09-4ef5-b474-8273bd651a63" name="jcr:uuid" /> 
  <meta content="1473" name="acrolinxWords" /> 
  <meta content="" name="autotags" /> 
  <meta content="Integrating Correspondence Management in HTML Workspace" name="navTitle" /> 
  <meta content="robhagat" name="lr_lastModifiedBy" /> 
  <meta content="2013-02-13T03:00:00.000-0500" name="lr_lastModified" /> 
  <meta content="http://acrolinx.corp.adobe.com:8031/output/en/tegrating_correspondence_management_html_workspace_krs_workflow_c77e08fb6f309c49_27_report.xml" name="acrolinxReportURL" /> 
  <meta content="2016-12-23T01:40:04.590-0500" name="firstPublishExternalDate" /> 
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/FORMS" name="primaryProductTag" /> 
  <meta content="checked_not_improved" name="acrolinxStatus" /> 
  <meta content="anujkapo" name="cq:lastModifiedBy" /> 
  <meta content="vishgupt" name="acrolinxLastCheckedBy" /> 
  <meta content="How-to integrate third-party apps like Correspondence Management in AEM Forms workspace." name="seoDescription" /> 
  <meta content="admin" name="jcr:createdBy" /> 
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/FORMS;topic_tags:forms-workspace" name="cq:tags" /> 
  <meta content="/etc/designs/help" name="cq:designPath" /> 
  <meta content="head1_20111213" name="gep_conversion_script_version" /> 
  <meta content="/apps/help/templates/article-3" name="cq:template" /> 
  <meta content="yellow" name="acrolinxPageStatus" /> 
  <meta content="help/components/pages/article-3" name="sling:resourceType" /> 
  <meta content="en_us" name="jcr:language" /> 
  <meta content="Activate" name="cq:lastReplicationAction" /> 
  <meta content="https://helpx.adobe.com/experience-manager/6-4/forms/using/integrating-correspondence-management-html-workspace.html" name="publishExternalURL" /> 
  <meta content="robhagat" name="lr_creator" /> 
  <meta content="false" name="doNotLocalize" /> 
  <meta content="2015-09-18T10:58:21.889-0400" name="lastPublishQADate" /> 
  <meta content="true" name="jcr:isCheckedOut" /> 
  <meta content="LiveCycle/10.5/HTMLWorkspace/WSa0b1fbebd32c111d2e18002413c61930502-7fff" name="cq:gepId" /> 
  <meta content="" name="jcr:versionHistory" /> 
  <meta content="anujkapo@adobe.com" name="lr_lastReplicatedBy" /> 
  <meta content="2018-04-26T04:37:25.257-0400" name="locHandOffDate" /> 
  <meta content="2016-12-22T04:59:01.564-0500" name="acrolinxDate" /> 
  <meta content="true" name="isReadyForLocalization" /> 
  <meta content="" name="autotagsRejected" /> 
  <meta content="Integrating third-party applications in AEM Forms workspace" name="jcr:title" /> 
  <meta content="184" name="acrolinxSentences" /> 
  <meta content="light" name="heroGradient" /> 
  <meta content="2019-02-06T03:49:09.048-0500" name="cq:lastReplicated" /> 
  <meta content="left" name="sideColumn" /> 
  <meta content="2019-02-06T03:49:08.973-0500" name="publishExternalDate" /> 
  <meta content="b159aa24-ac92-446a-972a-33a09f272310" name="jcr:predecessors" /> 
  <meta content="/content/help/en/experience-manager/6-4/forms/morehelp/forms-workspace;/content/help/en/experience-manager/6-4/forms/morehelp/forms-workspace" name="moreHelpPaths" /> 
  <meta content="video" name="pageLayout" /> 
  <meta content="2019-02-06T03:49:08.987-0500" name="cq:lastModified" /> 
  <meta content="mix:lockable;mix:versionable" name="jcr:mixinTypes" /> 
 </head> 
 <body> 
  <p>AEM Forms workspace supports the management of task assignment and completion activities for forms and documents. These forms and documents can be XDP Forms, FlexÂ® forms, or Guides (deprecated) that have been rendered in XDP, PDF, HTML, or Flex formats.</p> 
  <p>These capabilities are further enhanced. AEM Forms now supports collaboration with third-party applications that support functionality similar to the AEM Forms workspace. A common part of this functionality is the workflow of assignment and subsequent approval of a task. AEM Forms provides a single unified experience for AEM Forms enterprise users so that all such task assignments or approvals for the supported applications can be handled through AEM Forms workspace.</p> 
  <p>As an example, let us consider Correspondence Management as the sample candidate for integration with AEM Forms workspace. Correspondence Management has the concept of a 'Letter', which can be rendered and allows actions.</p> 
  <h2>Create Correspondence Management assets</h2> 
  <p>Start by creating a sample Correspondence Management template that is rendered in AEM Forms workspace. For more details, see <a href="../../forms/using/create-letter.md">Create a letter template</a>.</p> 
  <p>Access the Correspondence Management template at its URL to verify if the Correspondence Management template can be rendered successfully. The URL has a pattern similar to <span class="code">http://[server]:[port]/lc/content/cm/createcorrespondence.html?cmLetterId=encodedLetterId&amp;cmUseTestData=1&amp;cmPreview=0;</span></p> 
  <p>where <span class="code">encodedLetterId</span> is the URL-encoded letter Id. Specify the same letter Id, when defining the render process for workspace task in Workbench.</p>       
  <h2>Create a task to render and submit a letter in AEM Workspace</h2> 
  <p>Before executing these steps, ensure that you are a member of the following groups:</p> 
  <ul> 
   <li>cm-agent-users</li> 
   <li>Workspace Users</li> 
  </ul> 
  <p>For more information, see <a href="../../forms/using/admin-help/adding-configuring-users.md" target="_blank">Add and configure users</a>.</p> 
  <p>Use the following steps to create a task to render and submit a letter in AEM Workspace:</p> 
  <ol> 
   <li><p>Launch Workbench. Log in to localhost as administrator.</p>  </li> 
   <li><p>Click File &amp;gt; New &amp;gt; Application. In the Application Name field, enter <span class="code">CMDemoSample</span> and then click Finish.</p> </li> 
   <li><p>Select <span class="code">CMDemoSample/1.0</span> and right-click <span class="code">NewProcess</span>. In the name field, enter <span class="code">CMRenderer</span> and then click Finish.</p> </li> 
   <li><p>Drag the Start Point activity picker and configure it:</p> 
    <ol> 
     <li><p>In Presentation Data, select Use A CRX Asset.</p> <img imageRotate="0" src="assets/useacrxasset.png" /></li> 
     <li><p>Browse for an asset. In the Select Form Asset dialog, the Letters tab lists all the letters on the server.</p> <img imageRotate="0" src="assets/lettertab.png" /></li> 
     <li><p>Select the appropriate letter and click <strong>OK</strong>. </p> </li> 
    </ol></li> 
   <li><p>Click Manage Action Profiles. The Manage Action Profile dialog appears. Ensure that the Render Process and Submit Process are appropriately selected.</p> </li> 
   <li><p>To open the letter with a data XML file, browse and select the appropriate data file in the Prepare Data Process. </p> </li> 
   <li><p>Click OK.</p> </li> 
   <li><p>Define the variables for Start Point Output and Task Attachments. The defined variables will contain Start Point Output and Task Attachments data. </p> </li> 
   <li><p>(Optional) To add another user in the workflow, drag an activity picker, configure it, and assign it to a user. Write a custom wrapper (sample given below) or download and install the DSC (given below) to extact Letter template, Start Point Output, and task Attachment.</p> <p>A sample custom wrapper is as listed below:</p> 
    <codeblock gutter="true" class="syntax java">
      public&amp;nbsp;LetterInstanceInfo&amp;nbsp;getLetterInstanceInfo(Document&amp;nbsp;dataXML)&amp;nbsp;throws&amp;nbsp;Exception&amp;nbsp;{!!discoiqbr!!try&amp;nbsp;{!!discoiqbr!!if(dataXML&amp;nbsp;==&amp;nbsp;null)!!discoiqbr!!throw&amp;nbsp;new&amp;nbsp;Exception("dataXML&amp;nbsp;is&amp;nbsp;missing");!!discoiqbr!!!!discoiqbr!!CoreService&amp;nbsp;coreService&amp;nbsp;=&amp;nbsp;getRemoteCoreService();!!discoiqbr!!if&amp;nbsp;(coreService&amp;nbsp;==&amp;nbsp;null)!!discoiqbr!!throw&amp;nbsp;new&amp;nbsp;Exception("Unable&amp;nbsp;to&amp;nbsp;retrive&amp;nbsp;service.&amp;nbsp;Please&amp;nbsp;verify&amp;nbsp;connection&amp;nbsp;details.");!!discoiqbr!!Map&lt;String,&amp;nbsp;Object&gt;&amp;nbsp;result&amp;nbsp;=&amp;nbsp;coreService.getLetterInstanceInfo(IOUtils.toString(dataXML.getInputStream(),&amp;nbsp;"UTF-8"));!!discoiqbr!!LetterInstanceInfo&amp;nbsp;letterInstanceInfo&amp;nbsp;=&amp;nbsp;new&amp;nbsp;LetterInstanceInfo();!!discoiqbr!!!!discoiqbr!!List&lt;Document&gt;&amp;nbsp;attachmentDocs&amp;nbsp;=&amp;nbsp;new&amp;nbsp;ArrayList&lt;Document&gt;();!!discoiqbr!!List&lt;byte[]&gt;&amp;nbsp;attachments&amp;nbsp;=&amp;nbsp;(List&lt;byte[]&gt;)result.get(CoreService.ATTACHMENT_KEY);!!discoiqbr!!if&amp;nbsp;(attachments&amp;nbsp;!=&amp;nbsp;null){!!discoiqbr!!for&amp;nbsp;(byte[]&amp;nbsp;attachment&amp;nbsp;:&amp;nbsp;attachments)!!discoiqbr!!{&amp;nbsp;attachmentDocs.add(new&amp;nbsp;Document(attachment));&amp;nbsp;}!!discoiqbr!!!!discoiqbr!!}!!discoiqbr!!letterInstanceInfo.setLetterAttachments(attachmentDocs);!!discoiqbr!!!!discoiqbr!!byte[]&amp;nbsp;updateLayout&amp;nbsp;=&amp;nbsp;(byte[])result.get(CoreService.LAYOUT_TEMPLATE_KEY);!!discoiqbr!!if&amp;nbsp;(updateLayout&amp;nbsp;!=&amp;nbsp;null)!!discoiqbr!!{&amp;nbsp;letterInstanceInfo.setLetterTemplate(new&amp;nbsp;Document(updateLayout));&amp;nbsp;}!!discoiqbr!!!!discoiqbr!!else!!discoiqbr!!{&amp;nbsp;throw&amp;nbsp;new&amp;nbsp;Exception("template&amp;nbsp;bytes&amp;nbsp;missing&amp;nbsp;while&amp;nbsp;getting&amp;nbsp;Letter&amp;nbsp;instance&amp;nbsp;Info.");&amp;nbsp;}!!discoiqbr!!!!discoiqbr!!return&amp;nbsp;letterInstanceInfo;!!discoiqbr!!}&amp;nbsp;catch&amp;nbsp;(Exception&amp;nbsp;e)!!discoiqbr!!{&amp;nbsp;throw&amp;nbsp;new&amp;nbsp;Exception(e);&amp;nbsp;}!!discoiqbr!!!!discoiqbr!!}!!discoiqbr!! 
    </codeblock> 
    <div> 
     <p></p> 
     <p><a alt="DSCSample.zip" href="assets/dscsample.zip">Get File</a></p> 
    </div><p>Download DSC: A sample DSC is available in the DSCSample.zip file attached above. Download and unzip the DSCSample.zip file. Before you use the DSC service, you need to configure it. For information, see <a href="../../forms/using/add-action-button-in-create-correspondence-ui.md#main-pars-header-12" target="_blank">Configure the DSC Service</a>. </p> <p>In the Define Activity dialog, select the appropriate activity such as getLetterInstanceInfo and click <strong>OK</strong>.</p> </li> 
   <li><p>Deploy the application. If prompted check-in and save the assets.</p> </li> 
   <li><p>Log in to the AEM forms workspace at http://[server]:[port]/lc/content/ws.</p> </li> 
   <li><p>Open the task you had added, CMRenderer. The Correspondence Management letter appears.</p> <img imageRotate="0" src="assets/cminworkspace.png" /></li> 
   <li><p>Fill in the required data and submit the letter. The window closes. In this process, the task gets assigned to the user specified in the workflow in step 9.</p> 
    <note> 
     <p>The Submit button is not enabled until all the required variables in the letter are filled in.</p> 
    </note></li> 
  </ol> 
  <p><a href="https://www.adobe.com/account/sign-in.supportportal.html" target="_blank"><strong>Contact Support</strong></a></p> 
  <related-links> 
   <a href="../../forms/using/introduction-customizing-html-workspace.md">Introduction to Customizing AEM Forms workspace</a> 
   <a href="../../forms/using/generic-steps-html-workspace-customization.md">Generic steps for AEM Forms workspace customization</a> 
   <a href="../../forms/using/tasks-organizational-hierarchy-using-manager.md">Managing tasks in an organizational hierarchy using Manager View</a> 
   <a href="../../forms/using/integrating-correspondence-management-html-workspace.md">Integrating Correspondence Management in AEM Forms workspace</a> 
   <a href="../../forms/using/single-sign-timeout-handlers.md">Single Sign On and timeout handlers</a> 
   <a href="../../forms/using/displaying-user-avatar.md">Displaying the user avatar</a> 
   <a href="../../forms/using/displaying-information-task-summary-pane.md">Displaying information in the Task Summary pane</a> 
   <a href="../../forms/using/changing-organization-logo-branding.md">Changing the organization logo</a> 
   <a href="../../forms/using/changing-color-scheme-interface.md">Changing the color scheme of the interface</a> 
   <a href="../../forms/using/changing-font-interface.md">Changing the font on the interface</a> 
   <a href="../../forms/using/changing-locale-user-interface.md">Changing the locale of the user interface</a> 
   <a href="../../forms/using/customizing-error-dialogs.md">Customizing error dialogs</a> 
   <a href="../../forms/using/customizing-tabs-task.md">Customizing tabs for a task</a> 
   <a href="../../forms/using/customizing-task-actions.md">Customizing Task Actions</a> 
   <a href="../../forms/using/customizing-listing-process-instances.md">Customizing the listing of process instances</a> 
   <a href="../../forms/using/customizing-task-details-page.md">Customizing the task Details page</a> 
   <a href="../../forms/using/display-additional-data-in-todo-list.md">Displaying additional data in ToDo list</a> 
   <a href="../../forms/using/getting-task-variables-summary-url.md">Getting Task Variables in Summary URL</a> 
   <a href="../../forms/using/images-route-actions.md">Images for Route Actions</a> 
   <a href="../../forms/using/creating-new-login-screen.md">Creating a new login screen</a> 
   <a href="../../forms/using/minification-javascript-files.md">Minification of the JavaScript files</a> 
   <a href="../../forms/using/sorting-tracking-tables-add-columns.md">Sorting of Tracking tables and adding more columns</a> 
   <a href="../../forms/using/updating-link-help-documentation.md">Updating the link to the documentation</a> 
   <a href="../../forms/using/two-html-workspace-instances-one.md">Hosting two AEM Forms workspace instances on one server</a> 
  </related-links> 
 </body> 
</html>