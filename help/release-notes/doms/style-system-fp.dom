<?xml version="1.1" encoding="UTF-8" standalone="yes"?> 
<html> 
 <head> 
  <meta content="Deactivate" name="cq:lastReplicationAction" /> 
  <meta content="" name="jcr:mixinTypes" /> 
  <meta content="true" name="preview" /> 
  <meta content="carlino" name="cq:lastReplicatedBy" /> 
  <meta content="en_us" name="jcr:language" /> 
  <meta content="bohnert" name="contentOwner" /> 
  <meta content="/etc/designs/help" name="cq:designPath" /> 
  <meta content="en" name="pageCreatedAt" /> 
  <meta content="" name="jcr:primaryType" /> 
  <meta content="admin" name="jcr:createdBy" /> 
  <meta content="2017-11-22T19:03:39.742-0500" name="jcr:created" /> 
  <meta content="/apps/help/templates/article-3" name="cq:template" /> 
  <meta content="2017-11-21T07:11:22.855-0500" name="cq:lastModified" /> 
  <meta content="2018-01-18T10:01:52.170-0500" name="cq:lastReplicated" /> 
  <meta content="carlino" name="cq:lastModifiedBy" /> 
  <meta content="Style System" name="jcr:title" /> 
  <meta content="help/components/pages/article-3" name="sling:resourceType" /> 
 </head> 
 <body> 
  <p>The Style System allows a template author to define style classes in the component policy of components so that a content author can select these when editing the component on a page. These styles can be visiual variations of the component, allowing better component reuse.</p> 
  <p>This eliminates the need to develop a custom component for each stlye or customize the component dialog to enable such style functionality, enabling more flexible components that can be more quickly easily adapted to the needs of the content authors without any need for AEM back-end development.</p> 
  <h2>Use Case</h2> 
  <p>Template authors need the ability to not only configure how the components function for the content authors, but they also need the ability to configure the possible visual variations of the components.</p> 
  <p>Likewise, content authors need not only the ability to structure and arrange their content, but also the ability to select how it is visually presented.</p> 
  <p>The style system provides a unified solution to both the template author's and content author's requirements:</p> 
  <ul> 
   <li>Template authors can define style classes in the component policy of components.</li> 
   <li>Content authors can then select these classes from a drop-down when editing the component on a page in order to apply the corresponding styles.</li> 
  </ul> 
  <p>The style class is then inserted on the decoration wrapper element of the component, so that the component developer doesn't need to be concerned about handling the styles beyond providing the CSS of the different styles.</p> 
  <h2>Overview</h2> 
  <p>Using the style system generally takes the following form.</p> 
  <ol> 
   <li><p>The web designer creates different visual variations for a component.<br /> </p> </li> 
   <li><p>The HTML developer is provided with the HTML output of the components and the desired visual variations to implement.<br /> </p> </li> 
   <li><p>The HTML developer defines the CSS classes that correspond to the visual variation, which are to be inserted on the element wrapping the components.<br /> </p> </li> 
   <li><p>The HTML developer implements the corresponding CSS code (and optionally JS code) for each of the visual variation to look as defined.<br /> </p> </li> 
   <li><p>The AEM developer places the provided CSS (and optional JS) in a <a href="../sites/developing/using/clientlibs.md">Client Library</a> and deploys it.<br /> </p> </li> 
   <li><p>The AEM developer or template author configures the page templates and edits the policy of each styled component with the defined CSS classes, defining user-friendly names for each style, and defining which styles can be combined.<br /> </p> </li> 
   <li><p>The AEM page author can then choose the designed styles in the page editor through the style menu of the component's toolbar.<br /> </p> </li> 
  </ol> 
  <p>Note that only the last three steps are actually carried out in AEM. This means all development of the necessary CSS and Javascript can be done without AEM.</p> 
  <p>Actually implementing the styles only requires deployment on AEM and selection within the components of the desired templates.</p> 
  <p>The following diagram illustrates the architecture of the style system.</p> 
  <img imageRotate="0" src="assets/aem-style-system.png" /> 
  <h2>Use</h2> 
  <p><a href="https://www.adobeaemcloud.com/content/marketplace/marketplaceProxy.html?packagePath=/content/companies/public/adobe/packages/cq630/featurepack/cq-6.3.0-featurepack-18678">Feature pack 18678</a> for AEM 6.3 is required to enable the style system feature and can be downloaded from Package Share.</p> 
  <p>To demonstrate the feature, styles need to be created for a component. Using <a href="../sites/developing/using/we-retail.md">We.Retail</a>'s implementaiton of core component's <a href="/content/help/en/experience-manager/core-components-v2/using/core-components-v1-authoring-list">list component</a> as a basis, you can install the attached package containing styles in order to explore the feature's functionality.</p> 
  <div> 
   <p>Style system demo package</p> 
   <p><a alt="Package - Style System Demo.zip" href="assets/package_-_style_systemdemo.zip" status="changing">Get File</a></p> 
  </div> 
  <p>The following sections <a href="../release-notes/style-system-fp.md#main-pars-header-1976461423">As a Content Author</a> and <a href="/content#main-pars_header_1183415855">As a Template Author</a> describe how to test the functionality of the style system using the style system demo package on top of We.Retail.</p> 
  <p>If you wish to use the style system for your own components follow these steps:</p> 
  <ol> 
   <li>Install the CSS as client libraries as discussed in the section <a href="/content#main-pars_header_364726274">Overview</a>.</li> 
   <li>Configure the CSS classes that you wish to make available to your content authors as described in the section <a href="/content#main-pars_header_1183415855">As a Template Author</a>.</li> 
   <li>Content authors can then use the styles as described in the section <a href="/content#main-pars_header_1976461423">As a Content Author</a>.</li> 
  </ol> 
  <h3>As a Content Author</h3> 
  <ol> 
   <li><p>After installing the style system demo package, navigate to We.Retail's English language master home page at <span class="code">http://localhost:4502/sites.html/content/we-retail/language-masters/en</span> and edit the page.</p> </li> 
   <li><p>Select the <strong>List</strong> component at the bottom or the top of the parsys. Do not confuse it with the <strong>Articles List</strong> component.<br /> </p> <img imageRotate="0" src="assets/screen_shot_2017-11-15at162032.png" /></li> 
   <li><p>Tap or click the <strong>Styles</strong> button on the toolbar of the <strong>List </strong>component to open the style menu and change the appearance of the component.</p> <img imageRotate="0" src="assets/screen_shot_2017-11-15at162358.png" /> 
    <note> 
     <p>In this example, the <strong>Layout</strong> styles (<strong>Block</strong> and <strong>Grid</strong>) are mutually exclusive, while the <strong>Display</strong> options (<strong>Image</strong> or <strong>Date</strong>) can be combined. This can be <a href="../release-notes/style-system-fp.md#main-pars-header-1183415855">configured in the template as the template author</a>.</p> 
    </note></li> 
  </ol> 
  <h3>As a Template Author</h3> 
  <ol> 
   <li><p>While editing We.Retail's English language master home page at <span class="code">http://localhost:4502/sites.html/content/we-retail/language-masters/en</span>, edit the template of the page via <strong>Page Information -&amp;gt; Edit Template</strong>.</p> <img imageRotate="0" src="assets/screen_shot_2017-11-15at162922.png" /></li> 
   <li><p>Edit the policy of the <strong>List</strong> component by tapping or clicking the <strong>Policy</strong> button of the component. Do not confuse this with the <strong>Article List</strong> component.</p> <img imageRotate="0" src="assets/screen_shot_2017-11-15at163133.png" /></li> 
   <li><p>On the Styles tab of the properties, you can see how the styles have been configured.</p> <img imageRotate="0" src="assets/screen_shot_2017-11-15at163546.png" /> 
    <ul> 
     <li><strong>Group Name:</strong> Styles can be grouped together within the style menu that the content author will see when configuring the style of the component.</li> 
     <li><strong>Multiple:</strong> Allows for multiple styles within that group to be selected at one time.</li> 
     <li><strong>Style Name:</strong> The description of the style that will display to the content author when configuring the style of the component.</li> 
     <li><strong>CSS Classes:</strong> The atual name of the CSS class associated with the style.</li> 
    </ul> <p>Use the drag handles to arrange the order of the groups and the styles within the groups. Use the add or delete icons to add or remove groups or styles within the groups.</p> </li> 
  </ol> 
  <note> 
   <p>The CSS classes (as well as any necessary Javascript) configured as style properties of a components policy must be deployed as <a href="../sites/developing/using/clientlibs.md">Client Libraries</a> in order to work.</p> 
  </note> 
  <h2>Setup</h2> 
  <note> 
   <p><a href="/content/help/en/experience-manager/core-components-v2/user-guide">Version 2 of the core components</a> is fully enabled to take advantage of the style system and requires no additional configuration.</p> 
   <p>Follow the next steps to enable the style system for your own custom components.</p> 
  </note> 
  <p>In order for a component to work with AEM's style system and show the style tab in its design dialog, the component developer must include that tab from the product with the following settings on the component:</p> 
  <ul> 
   <li><span class="code">path = "/mnt/overlay/cq/gui/components/authoring/dialog/style/tab_design/styletab"</span></li> 
   <li><span class="code">sling:resourceType = "granite/ui/components/coral/foundation/include"</span></li> 
  </ul> 
  <p>With the component configured, the styles configured by the page authors will be automatically insterted by AEM on the decoration element that AEM automatically wraps around every editable component. The component itself need not do anything else to make this happen.</p> 
  <h3>Styles with Element Names</h3> 
  <p>A developer can also configure a list of allowed element names for styles on the component with the <span class="code">cq:styleElements</span> string array property. Then in the Styles tab of the policy within the design dialog, the template author can also choose an element name to be set for each style. This will set the element name of the wrapper element.</p> 
  <p>This property is set on the <span class="code">cq:Component</span> node. For example:</p> 
  <ul> 
   <li><span class="code">/apps/weretail/components/content/list@cq:styleElements=[div,section,span]</span></li> 
  </ul> 
  <note> 
   <p>Avoid defining element names for styles that can be combined. When multiple element names are defined, the order of priority is:</p> 
   <ol> 
    <li>HTL takes precedence over everything: <span class="code">data-sly-resource="${'path/to/resource' @ decorationTagName='span'}</span></li> 
    <li>Then among multiple active styles, the first style in the list of styles configured in the component's policy is taken.</li> 
    <li>Finally, the component's <span class="code">cq:htmlTag</span>/<span class="code">cq:tagName</span> will be considered as a fallback value.</li> 
   </ol> 
  </note> 
  <p>This ability to define style names is useful for very generic components, like the Layout Container, or the Content Fragment component, in order to provide them with additional meaning.</p> 
  <p>For instance it allows a Layout Container to be given semantics like <span class="code">&amp;lt;main&amp;gt;</span>, <span class="code">&amp;lt;aside&amp;gt;</span>, <span class="code">&amp;lt;nav&amp;gt;</span>, etc.</p> 
 </body> 
</html>