<?xml version="1.1" encoding="UTF-8" standalone="yes"?> 
<html> 
 <head> 
  <meta content="2018-05-11T10:03:10.889-0400" name="locHandOffDate" /> 
  <meta content="2018-05-11T10:03:10.889-0400" name="cq:lastModified" /> 
  <meta content="" name="jcr:primaryType" /> 
  <meta content="admin" name="jcr:createdBy" /> 
  <meta content="help/components/pages/article-3" name="sling:resourceType" /> 
  <meta content="true" name="jcr:isCheckedOut" /> 
  <meta content="content_type:reference;products:SG_EXPERIENCEMANAGER/6.4/MOBILE" name="cq:tags" /> 
  <meta content="bohnert" name="cq:lastReplicatedBy" /> 
  <meta content="2018-04-03T07:24:38.724-0400" name="firstPublishExternalDate" /> 
  <meta content="2018-05-04T05:14:10.493-0400" name="cq:lastReplicated" /> 
  <meta content="User" name="contentOwner" /> 
  <meta content="/content/docs/en/aem/6-3/develop/mobile-apps/content-services/rendering-and-delivery" name="qaNotes" /> 
  <meta content="bohnert@adobe.com" name="lr_lastReplicatedBy" /> 
  <meta content="/apps/help/templates/article-3" name="cq:template" /> 
  <meta content="Activate" name="cq:lastReplicationAction" /> 
  <meta content="7b5bd91f-c858-422f-8a87-4534951e8bec" name="jcr:uuid" /> 
  <meta content="2018-05-04T05:14:10.358-0400" name="topicBrowsingSortDate" /> 
  <meta content="2018-05-04T05:14:10.358-0400" name="lastPublishExternalDate" /> 
  <meta content="2017-10-12T21:46:58.665-0400" name="mwpw_migration_script_version" /> 
  <meta content="2017-12-13T19:01:15.714-0500" name="jcr:created" /> 
  <meta content="" name="jcr:versionHistory" /> 
  <meta content="false" name="isReadyForLocalization" /> 
  <meta content="https://helpx.adobe.com/experience-manager/6-4/mobile/using/rendering-and-delivery.html" name="publishExternalURL" /> 
  <meta content="2017-10-12T21:46:58.665-0400" name="qaDate" /> 
  <meta content="en_us" name="jcr:language" /> 
  <meta content="/etc/designs/help" name="cq:designPath" /> 
  <meta content="msm-service" name="cq:lastModifiedBy" /> 
  <meta content="Rendering and Delivery" name="jcr:title" /> 
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/MOBILE" name="primaryProductTag" /> 
  <meta content="" name="jcr:baseVersion" /> 
  <meta content="mix:versionable" name="jcr:mixinTypes" /> 
  <meta content="2018-05-04T05:14:10.358-0400" name="publishExternalDate" /> 
  <meta content="Rendering and Delivery" name="seoTitle" /> 
  <meta content="35c44f32-080e-4255-9675-125640f5d811" name="jcr:predecessors" /> 
 </head> 
 <body> 
  <note> 
   <p>Adobe recommends using the SPA Editor for projects that require single page application framework-based client-side rendering (e.g. React). <a href="../../sites/developing/using/spa-overview.md">Learn more</a>.</p> 
  </note> 
  <p>AEM content can easily be rendered via <a href="https://sling.apache.org/documentation/bundles/rendering-content-default-get-servlets.html">Sling Default Servlets</a> to render <a href="https://sling.apache.org/documentation/bundles/rendering-content-default-get-servlets.html#default-json-rendering">JSON</a> and other formats.</p> 
  <p>Those out-of-the-box renders typically walk the repository and return content as is.</p> 
  <p>AEM, via Sling, also supports developing and deploying custom sling renderers to take full control of the rendered schema and content.</p> 
  <p>Content Services Default Renderers fill the gap between out-of-the-box Sling Defaults and Custom Development allowing customization and control of many aspects of the rendered content without development.</p> 
  <p>The following diagram shows the rendering of content services.</p> 
  <img imageRotate="0" src="assets/chlimage_1-15.png" /> 
  <h2>Requesting JSON</h2> 
  <p>Use <strong>&amp;lt;RESOURCE&amp;gt;.caas[.&amp;lt;EXPORT-CONFIG][.&amp;lt;DEPTH-INT&amp;gt;].json</strong> to request JSON.</p> 
  <table border="1" cellpadding="1" cellspacing="0" width="100%"> 
   <tbody> 
    <tr> 
     <td>RESOURCE</td> 
     <td>an entity resource under /content/entities<br /> or <br /> a content resource under /content</td> 
    </tr> 
    <tr> 
     <td>EXPORT-CONFIG</td> 
     <td><p><strong>OPTIONAL</strong><br /> </p> <p>an export configuration found under /apps/mobileapps/caas/exportConfigs/EXPORT-CONFIG<br /> <br /> If omitted the default export configuration will be applied </p> </td> 
    </tr> 
    <tr> 
     <td>DEPTH-INT</td> 
     <td><strong>OPTIONAL</strong><br /> <br /> depth recursion for rendering of children as used in Sling rendering</td> 
    </tr> 
   </tbody> 
  </table> 
  <h2>Creating Export Configs</h2> 
  <p>Export configs can be created to customize JSON rendering. </p> 
  <p>You can create a configuration node under <i>/apps/mobileapps/caas/exportConfigs.</i></p> 
  <table border="1" cellpadding="1" cellspacing="0" width="100%"> 
   <tbody> 
    <tr> 
     <td>Node Name</td> 
     <td>Name of the configuration (for rendering selector)</td> 
    </tr> 
    <tr> 
     <td>jcr:primaryType</td> 
     <td>nt:unstructured</td> 
    </tr> 
   </tbody> 
  </table> 
  <p>The following table shows the properties of Export Configs:</p> 
  <table border="1" cellpadding="1" cellspacing="0" width="100%"> 
   <tbody> 
    <tr> 
     <td><strong>Name</strong></td> 
     <td><strong>Type</strong></td> 
     <td><strong>Default (if, not set)</strong></td> 
     <td><strong>Value</strong></td> 
     <td><strong>Description</strong></td> 
    </tr> 
    <tr> 
     <td>includeComponents</td> 
     <td>String[]</td> 
     <td>include everything</td> 
     <td>sling:resourceType</td> 
     <td>exclude details for nodes with specified sling:resourceType from JSON export</td> 
    </tr> 
    <tr> 
     <td>excludeComponents</td> 
     <td>String[]</td> 
     <td>exclude nothing</td> 
     <td>sling:resourceType</td> 
     <td>include details only for nodes with specified sling:resourceType from JSON export</td> 
    </tr> 
    <tr> 
     <td>excludePropertyPrefixes</td> 
     <td>String[]</td> 
     <td>exclude nothing</td> 
     <td>Property prefixes</td> 
     <td>exclude properties that start with specified prefixes from JSON export</td> 
    </tr> 
    <tr> 
     <td>excludeProperties</td> 
     <td>String[]</td> 
     <td>exclude nothing</td> 
     <td>Property names</td> 
     <td>exclude specified properties from JSON export</td> 
    </tr> 
    <tr> 
     <td>includeProperties</td> 
     <td>String[]</td> 
     <td>include everything</td> 
     <td>Property names</td> 
     <td><p>if excludePropertyPrefixes set<br /> this includes specified properties despite matching the prefix being excluded,</p> <p>else (exclude properties ignored) only include these properties</p> </td> 
    </tr> 
    <tr> 
     <td>includeChildren</td> 
     <td>String[]</td> 
     <td>include everything</td> 
     <td>child names</td> 
     <td>exclude specified children from JSON export</td> 
    </tr> 
    <tr> 
     <td>excludeChildren</td> 
     <td>String[]<br /> <br /> </td> 
     <td>exclude nothing</td> 
     <td>child names</td> 
     <td>include only specified children from JSON export, exclude other</td> 
    </tr> 
    <tr> 
     <td>renameProperties</td> 
     <td>String[]<br /> <br /> </td> 
     <td>rename nothing</td> 
     <td>&lt;actual_property_name&gt;,&lt;replacement_property_name&gt;</td> 
     <td>rename properties using replacements</td> 
    </tr> 
   </tbody> 
  </table> 
  <h4>Resource type export overrides</h4> 
  <p>Create a configuration node under <i>/apps/mobileapps/caas/exportConfigs.</i></p> 
  <table border="1" cellpadding="1" cellspacing="0" width="100%"> 
   <tbody> 
    <tr> 
     <td>name</td> 
     <td>resourceTypeOverrides</td> 
    </tr> 
    <tr> 
     <td>jcr:primaryType</td> 
     <td>nt:unstructured</td> 
    </tr> 
   </tbody> 
  </table> 
  <p>The following table show the properties:</p> 
  <table border="1" cellpadding="1" cellspacing="0" width="100%"> 
   <tbody> 
    <tr> 
     <td><strong>Name</strong></td> 
     <td><strong>Type</strong></td> 
     <td><strong>Default (if, not set)</strong></td> 
     <td><strong>Value</strong></td> 
     <td><strong>Description</strong></td> 
    </tr> 
    <tr> 
     <td>&lt;SELECTOR_TO_INC&gt;</td> 
     <td>String[] </td> 
     <td>-</td> 
     <td>sling:resourceType</td> 
     <td>For the following sling resource types, don't return the deafult CaaS json export.<br /> Return a customer json export by rendering the resource as;<br /> &lt;RESOURCE&gt;.&lt;SELECTOR_TO_INC&gt;.json </td> 
    </tr> 
   </tbody> 
  </table> 
  <h3>Existing Content Services Export Configs</h3> 
  <p>Content Services include two export configurations: </p> 
  <ul> 
   <li>default (no config specified) </li> 
   <li>page (to render site pages)</li> 
  </ul> 
  <h4>Default Export Configuration</h4> 
  <p>Content Services default export configuration will be applied if a config is specified in the requested URI. </p> 
  <p><strong>&amp;lt;RESOURCE&amp;gt;.caas[.&amp;lt;DEPTH-INT&amp;gt;].json</strong></p> 
  <table border="1" cellpadding="1" cellspacing="0" width="100%"> 
   <tbody> 
    <tr> 
     <td><strong>Name</strong></td> 
     <td><strong>Value</strong></td> 
    </tr> 
    <tr> 
     <td>excludeProperties</td> 
     <td> </td> 
    </tr> 
    <tr> 
     <td>excludePropertyPrefixes</td> 
     <td>jcr:,sling:,cq:,oak:,pge-</td> 
    </tr> 
    <tr> 
     <td>includeProperties</td> 
     <td>jcr:text,text<br /> jcr:title,title<br /> jcr:description,description<br /> jcr:lastModified,lastModified<br /> cq:tags,tags<br /> cq:lastModified,lastModified</td> 
    </tr> 
    <tr> 
     <td>includeComponents</td> 
     <td> </td> 
    </tr> 
    <tr> 
     <td>excludeComponents</td> 
     <td> </td> 
    </tr> 
    <tr> 
     <td>includeChildren</td> 
     <td> </td> 
    </tr> 
    <tr> 
     <td>excludeChildren</td> 
     <td> </td> 
    </tr> 
    <tr> 
     <td>Sling JSON Overrides</td> 
     <td>foundation/components/image<br /> wcm/foundation/components/image<br /> mobileapps/caas/components/data/contentReference<br /> mobileapps/caas/components/data/assetlist</td> 
    </tr> 
   </tbody> 
  </table> 
  <h4>Page Export Configuration</h4> 
  <p>This configuration extend the default to include grouping children under a child node.</p> 
  <p><strong>&amp;lt;SITE_PAGE&amp;gt;.caas.page[.&amp;lt;DEPTH-INT&amp;gt;].json</strong></p> 
  <h3>Additional Resources</h3> 
  <p>See the resources below to learn about additional topics in Content Services:</p> 
  <ul> 
   <li><a href="../../mobile/using/models-in-repository.md">Developing Models</a></li> 
   <li><a href="/mobile/using/content-as-a-service">Authoring Content Services</a></li> 
   <li><a href="/mobile/using/content-services">Administering Content Services</a></li> 
  </ul> 
 </body> 
</html>