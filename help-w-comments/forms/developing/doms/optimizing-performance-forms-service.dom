<?xml version="1.1" encoding="UTF-8" standalone="yes"?>
<html>
 <head>
  <meta content="2017-08-09T03:29:00.000-0400" name="sortDate" />
  <meta content="2017-10-03T06:52:16.454-0400" name="firstPublishExternalDate" />
  <meta content="https://helpx.adobe.com/aem-forms/6-3/developing/optimizing-performance-forms-service.html" name="publishExternalURL" />
  <meta content="carlino" name="cq:lastReplicatedBy" />
  <meta content="2017-08-09T03:29:00.000-0400" name="topicBrowsingSortDate" />
  <meta content="admin" name="contentOwner" />
  <meta content="AEMForms/6.1/ProgramLC/WS624e3cba99b79e12e69a9941333732bac8-7e1f.2,AEMForms/6.1/ProgramLC/WS37181df7b537884d498e2dc715a1c700618-8000,AEMForms/6.1/ProgramLC/WS624e3cba99b79e12-420e49561336a353148-7fff.2,AEMForms/6.1/ProgramLC/WS624e3cba99b79e12e69a9941333732bac8-7963.2,AEMForms/6.1/ProgramLC/WS624e3cba99b79e12e69a9941333732bac8-7962.2" name="cq:gepId" />
  <meta content="en_us" name="jcr:language" />
  <meta content="2017-10-03T06:52:16.454-0400" name="publishExternalDate" />
  <meta content="Optimizing the Performance of theForms Service" name="jcr:title" />
  <meta content="/etc/designs/help" name="cq:designPath" />
  <meta content="audience:developing" name="primaryAudienceTag" />
  <meta content="2017-11-21T06:59:36.387-0500" name="cq:lastModified" />
  <meta content="carlino" name="cq:lastModifiedBy" />
  <meta content="head1_20111213" name="gep_conversion_script_version" />
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/FORMS" name="primaryProductTag" />
  <meta content="2017-11-22T19:04:53.735-0500" name="jcr:created" />
  <meta content="Activate" name="cq:lastReplicationAction" />
  <meta content="admin" name="lr_lastModifiedBy" />
  <meta content="" name="jcr:baseVersion" />
  <meta content="2017-10-03T06:52:16.454-0400" name="lastPublishExternalDate" />
  <meta content="content_type:reference;geptopics:SG_AEMFORMS/categories/rendering_forms;products:SG_EXPERIENCEMANAGER/6.4/FORMS;topic_tags:operations" name="cq:tags" />
  <meta content="mix:versionable" name="jcr:mixinTypes" />
  <meta content="/apps/help/templates/article-3" name="cq:template" />
  <meta content="help/components/pages/article-3" name="sling:resourceType" />
  <meta content="Optimizing the Performance of the&amp;#xA;Forms Service Optimizing the Performance of the&amp;#xA;Forms Service Optimizing the Performance of the&amp;#xA;Forms Service" name="navTitle" />
  <meta content="409cfc11-0527-4fb6-aab2-2f1370085539" name="jcr:uuid" />
  <meta content="" name="jcr:versionHistory" />
  <meta content="2017-08-09T03:29:43.239-0400" name="lr_lastModified" />
  <meta content="admin" name="lr_creator" />
  <meta content="true" name="jcr:isCheckedOut" />
  <meta content="770a0122-60c9-47d9-a7d5-4a27b5813dca" name="jcr:predecessors" />
  <meta content="admin" name="jcr:createdBy" />
  <meta content="" name="jcr:primaryType" />
  <meta content="2018-04-03T08:32:20.478-0400" name="cq:lastReplicated" />
  <meta content="khsingh@adobe.com" name="lr_lastReplicatedBy" />
 </head>
 <body>
  <h2 id="optimizing_the_performance_of_the_forms_service">Optimizing the Performance of the Forms Service</h2>
  <p></p>
  <p>When rendering a form, you can set run-time options that will optimize the performance of the Forms service. Another task that you can perform to improve the performance of the Forms service is to store XDP files in the repository. However, this section does not describe how to perform this task. (See <a href="#unresolvedlink-lc-in-invoke-using-java-iu.xml#ws624e3cba99b79e12e69a9941333732bac8-7b46.2">Invoking a service using a Java client library</a>.) </p>
  <note>
   <p>For more information about the Forms service, see<a href="http://www.adobe.com/go/learn_aemforms_services_63"> Services Reference for AEM Forms</a>.</p>
  </note>
  <h3 id="summary_of_steps">Summary of steps</h3>
  <p></p>
  <p>To optimize the performance of the Forms service while rendering a form, perform the following tasks:</p>
  <ol>
   <li><p>Include project files.</p></li>
   <li><p>Create a Forms Client API object. </p></li>
   <li><p>Set performance run-time options.</p></li>
   <li><p>Render the form.</p></li>
   <li><p>Write the form data stream to the client web browser.</p></li>
  </ol>
  <p><strong>Include project files</strong></p>
  <p>Include necessary files into your development project. If you are creating a client application using Java, include the necessary JAR files. If you are using web services, ensure that you include the proxy files.</p>
  <p><strong>Create a Forms Client API object</strong></p>
  <p>Before you can programmatically perform a Forms service Client API operation, you must create a Forms service client. If you are using the Java API, create a <span class="code">FormsServiceClient</span> object. If you are using the Forms web service API, create a <span class="code">FormsService</span> object.</p>
  <p><strong>Set performance run-time options</strong></p>
  <p>You can set the following performance run-time options to improve the performance of the Forms service:</p>
  <ul>
   <li><p><strong>Form caching</strong>: You can cache a form that is rendered as PDF in the server cache. Each form is cached after it is generated for the first time. On a subsequent render, if the cached form is newer than the form design’s timestamp, the form is retrieved from the cache. By caching forms, you improve the performance of the Forms service because it does not have to retrieve the form design from a repository.</p></li>
   <li><p>Form Guides (deprecated) may take longer to render than other transformation types. It is recommended that you cache form Guides (deprecated) in order to improve performance.</p></li>
   <li><p><strong>Standalone option</strong>: If you do not require the Forms service to perform server-side calculations, you can set the Standalone option to <span class="code">true</span>, which results in forms being rendered without state information. State information is necessary if you want to render an interactive form to an end user who then enters information into the form and submits the form back to the Forms service. The Forms service then performs a calculation operation and renders the form back to the user with the results displayed in the form. If a form without state information is submitted back to the Forms service, only the XML data is available and server-side calculations are not performed.</p></li>
   <li><p><strong>Linearized PDF</strong>: A linearized PDF file is organized to enable efficient incremental access in a network environment. The PDF file is valid PDF in all respects, and is compatible with all existing viewers and other PDF applications. That is, a linearized PDF can be viewed while it is still being downloaded.</p></li>
   <li><p>This option does not improve performance when a PDF form is rendered on the client. </p></li>
   <li><p><strong>GuideRSL option</strong>: Enables form Guide (deprecated) generation using run-time shared libraries. This means the first request will download a smaller SWF file, plus larger shared-libraries that are stored in the browser cache. For more information, see RSL in the Flex documentation. </p></li>
   <li><p>You can also improve the performance of the Forms service by rendering a form on the client. (See <a href="/programming-with-aem-forms/rendering-forms-rendering-forms rendering-forms-client-rendering-forms#rendering_forms_at_the_client">Rendering Forms at the Client</a>.) </p></li>
  </ul>
  <p><strong>Render the form</strong></p>
  <p>To render the form after setting performance options, you use the same application logic as rendering a form without performance options.</p>
  <p><strong>Write the form data stream to the client web browser</strong></p>
  <p>After the Forms service renders a form, it returns a form data stream that you must write to the client web browser. When written to the client web browser, the form is visible to the user.</p>
  <p><strong>See also</strong></p>
  <p><a href="/programming-with-aem-forms/rendering-forms-rendering-forms optimizing-performance-forms-service-optimizing optimizing-performance-forms-service-optimizing#optimize_the_performance_using_the_java_api">Optimize the performance using the Java API</a></p>
  <p><a href="/programming-with-aem-forms/rendering-forms-rendering-forms optimizing-performance-forms-service-optimizing optimizing-performance-forms-service-optimizing#optimize_the_performance_using_the_web_service_api">Optimize the performance using the web service API</a></p>
  <p><a href="#unresolvedlink-lc-in-invoke-using-java-iu.xml#ws624e3cba99b79e12e69a9941333732bac8-7b4b.2">Including AEM Forms Java library files</a></p>
  <p><a href="#unresolvedlink-lc-in-invoke-using-java-iu.xml#ws624e3cba99b79e12e69a9941333732bac8-7fd6.2">Setting connection properties</a></p>
  <p><a href="#unresolvedlink-lc-qs-forms-fo.xml#ws624e3cba99b79e12e69a9941333732bac8-7af6.2">Forms Service API Quick Starts</a></p>
  <p><a href="/programming-with-aem-forms/rendering-forms-rendering-forms rendering-interactive-pdf-forms-rendering#rendering_interactive_pdf_forms">Rendering Interactive PDF Forms</a></p>
  <p><a href="/programming-with-aem-forms/rendering-forms-rendering-forms rendering-forms-html-rendering-forms rendering-forms-html-rendering-forms#rendering_forms_as_html">Rendering Forms as HTML</a></p>
  <p><a href="/programming-with-aem-forms/rendering-forms-rendering-forms creating-web-applications-renders-forms#creating_web_applications_that_renders_forms">Creating Web Applications that Renders Forms</a></p>
  <h3 id="optimize_the_performance_using_the_java_api">Optimize the performance using the Java API</h3>
  <p></p>
  <p>Render a form with optimized performance by using the Forms API (Java): </p>
  <ol>
   <li><p>Include project files </p><p>Include client JAR files, such as adobe-forms-client.jar, in your Java project’s class path.</p></li>
   <li><p>Create a Forms Client API object </p>
    <ul>
     <li><p>Create a <span class="code">ServiceClientFactory</span> object that contains connection properties. </p></li>
     <li><p>Create an <span class="code">FormsServiceClient</span> object by using its constructor and passing the <span class="code">ServiceClientFactory</span> object. </p></li>
    </ul></li>
   <li><p>Set performance run-time options </p>
    <ul>
     <li><p>Create a <span class="code">PDFFormRenderSpec</span> object by using its constructor. </p></li>
     <li><p>Set the form cache option by invoking the <span class="code">PDFFormRenderSpec</span> object’s <span class="code">setCacheEnabled</span> method and passing <span class="code">true</span>. </p></li>
     <li><p>Set the linearized option by invoking the <span class="code">PDFFormRenderSpec</span> object’s <span class="code">setLinearizedPDF</span> method and passing <span class="code">true.</span></p></li>
    </ul></li>
   <li><p>Render the form </p><p>Invoke the <span class="code">FormsServiceClient</span> object’s <span class="code">renderPDFForm</span> method and pass the following values:</p>
    <ul>
     <li><p>A string value that specifies the form design name, including the file name extension.</p></li>
     <li><p>A <span class="code">com.adobe.idp.Document</span> object that contains data to merge with the form. If you do not want to merge data, pass an empty <span class="code">com.adobe.idp.Document</span> object. </p></li>
     <li><p>A <span class="code">PDFFormRenderSpec</span> object that stores run-time options to improve performance. </p></li>
     <li><p>A <span class="code">URLSpec</span> object that contains URI values that are required by the Forms service. </p></li>
     <li><p>A <span class="code">java.util.HashMap</span> object that stores file attachments. This is an optional parameter and you can specify <span class="code">null</span> if you do not want to attach files to the form.</p></li>
    </ul><p>The <span class="code">renderPDFForm</span> method returns a <span class="code">FormsResult</span> object that contains a form data stream that must be written to the client web browser.</p></li>
   <li><p>Write the form data stream to the client web browser </p>
    <ul>
     <li><p>Create a <span class="code">javax.servlet.ServletOutputStream</span> object used to send a form data stream to the client web browser. </p></li>
     <li><p>Create a <span class="code">com.adobe.idp.Document</span> object by invoking the <span class="code">FormsResult</span> object ‘s <span class="code">getOutputContent</span> method. </p></li>
     <li><p>Create a <span class="code">java.io.InputStream</span> object by invoking the <span class="code">com.adobe.idp.Document</span> object’s <span class="code">getInputStream</span> method. </p></li>
     <li><p>Create a byte array and populate it with the form data stream by invoking the <span class="code">InputStream</span> object’s <span class="code">read </span>method and passing the byte array as an argument. </p></li>
     <li><p>Invoke the <span class="code">javax.servlet.ServletOutputStream</span> object’s <span class="code">write</span> method to send the form data stream to the client web browser. Pass the byte array to the <span class="code">write</span> method. </p></li>
    </ul></li>
  </ol>
  <p><strong>See also</strong></p>
  <p><a href="/programming-with-aem-forms/rendering-forms-rendering-forms optimizing-performance-forms-service-optimizing#optimizing_the_performance_of_the_forms_service">Optimizing the Performance of the Forms Service</a></p>
  <p><a href="#unresolvedlink-lc-qs-forms-fo.xml#ws624e3cba99b79e12e69a9941333732bac8-7e1e.2">Quick Start (SOAP mode): Optimizing performance using the Java API</a></p>
  <p><a href="#unresolvedlink-lc-in-invoke-using-java-iu.xml#ws624e3cba99b79e12e69a9941333732bac8-7b4b.2">Including AEM Forms Java library files</a></p>
  <p><a href="#unresolvedlink-lc-in-invoke-using-java-iu.xml#ws624e3cba99b79e12e69a9941333732bac8-7fd6.2">Setting connection properties</a></p>
  <h3 id="optimize_the_performance_using_the_web_service_api">Optimize the performance using the web service API</h3>
  <p></p>
  <p>Render a form with optimized performance by using the Forms API (web service): </p>
  <ol>
   <li><p>Include project files </p>
    <ul>
     <li><p>Create Java proxy classes that consume the Forms service WSDL. </p></li>
     <li><p>Include the Java proxy classes into your class path. </p></li>
    </ul></li>
   <li><p>Create a Forms Client API object </p><p>Create a <span class="code">FormsService</span> object and set authentication values. </p></li>
   <li><p>Set performance run-time options </p>
    <ul>
     <li><p>Create a <span class="code">PDFFormRenderSpec</span> object by using its constructor. </p></li>
     <li><p>Set the form cache option by invoking the <span class="code">PDFFormRenderSpec</span> object’s <span class="code">setCacheEnabled</span> method and passing true. </p></li>
     <li><p>Set the standalone option by invoking the <span class="code">PDFFormRenderSpec</span> object’s <span class="code">setStandAlone</span> method and passing true.</p></li>
     <li><p>Set the linearized option by invoking the <span class="code">PDFFormRenderSpec</span> object’s <span class="code">setLinearizedPDF</span> method and passing true.</p></li>
    </ul></li>
   <li><p>Render the form </p><p>Invoke the <span class="code">FormsService</span> object’s <span class="code">renderPDFForm</span> method and pass the following values:</p>
    <ul>
     <li><p>A string value that specifies the form design name, including the file name extension.</p></li>
     <li><p>A <span class="code">BLOB</span> object that contains data to merge with the form. If you do not want to merge data, pass <span class="code">null</span>. </p></li>
     <li><p>A <span class="code">PDFFormRenderSpecc</span> object that stores run-time options.</p></li>
     <li><p>A <span class="code">URLSpec</span> object that contains URI values that are required by the Forms service. </p></li>
     <li><p>A <span class="code">java.util.HashMap</span> object that stores file attachments. This is an optional parameter and you can specify <span class="code">null</span> if you do not want to attach files to the form.</p></li>
     <li><p>An empty <span class="code">com.adobe.idp.services.holders.BLOBHolder</span> object that is populated by the method. This is used to store the rendered PDF form. </p></li>
     <li><p>An empty <span class="code">javax.xml.rpc.holders.LongHolder</span> object that is populated by the method. (This argument will store the number of pages in the form).</p></li>
     <li><p>An empty <span class="code">javax.xml.rpc.holders.StringHolder</span> object that is populated by the method. (This argument will store the locale value).</p></li>
     <li><p>An empty <span class="code">com.adobe.idp.services.holders.FormsResultHolder</span> object that will contain the results of this operation.</p></li>
    </ul><p>The <span class="code">renderPDFForm</span> method populates the <span class="code">com.adobe.idp.services.holders.FormsResultHolder</span> object that is passed as the last argument value with a form data stream that must be written to the client web browser.</p></li>
   <li><p>Write the form data stream to the client web browser </p>
    <ul>
     <li><p>Create a <span class="code">FormResult</span> object by getting the value of the <span class="code">com.adobe.idp.services.holders.FormsResultHolder</span> object’s <span class="code">value</span> data member. </p></li>
     <li><p>Create a <span class="code">javax.servlet.ServletOutputStream</span> object used to send a form data stream to the client web browser. </p></li>
     <li><p>Create a <span class="code">BLOB</span> object that contains form data by invoking the <span class="code">FormsResult</span> object’s <span class="code">getOutputContent</span> method. </p></li>
     <li><p>Create a byte array and populate it by invoking the <span class="code">BLOB</span> object’s <span class="code">getBinaryData</span> method. This task assigns the content of the <span class="code">FormsResult</span> object to the byte array. </p></li>
     <li><p>Invoke the <span class="code">javax.servlet.http.HttpServletResponse</span> object’s <span class="code">write</span> method to send the form data stream to the client web browser. Pass the byte array to the <span class="code">write</span> method. </p></li>
    </ul></li>
  </ol>
  <p><strong>See also</strong></p>
  <p><a href="/programming-with-aem-forms/rendering-forms-rendering-forms optimizing-performance-forms-service-optimizing#optimizing_the_performance_of_the_forms_service">Optimizing the Performance of the Forms Service</a></p>
  <p><a href="#unresolvedlink-lc-qs-forms-fo.xml#ws624e3cba99b79e12e69a9941333732bac8-7e1d.2">Quick Start (Base64): Optimizing performance using the web service API</a></p>
  <p><a href="#unresolvedlink-lc-in-invoke-using-web-services-iu.xml#ws624e3cba99b79e12e69a9941333732bac8-7fca.2">Invoking AEM Forms using Base64 encoding</a></p>
  <p></p>
 </body>
</html>