<?xml version="1.1" encoding="UTF-8" standalone="yes"?> 
<html> 
 <head> 
  <meta content="vishgupt" name="acrolinxLastCheckedBy" /> 
  <meta content="2016-05-31T06:38:43.350-0400" name="acrolinxDate" /> 
  <meta content="carlino" name="cq:lastReplicatedBy" /> 
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/FORMS" name="primaryProductTag" /> 
  <meta content="admin" name="jcr:createdBy" /> 
  <meta content="Activate" name="cq:lastReplicationAction" /> 
  <meta content="mix:versionable" name="jcr:mixinTypes" /> 
  <meta content="2017-12-01T19:06:54.849-0500" name="jcr:created" /> 
  <meta content="2018-04-26T04:38:17.134-0400" name="locHandOffDate" /> 
  <meta content="help/components/pages/article-3" name="sling:resourceType" /> 
  <meta content="This article introduces form set and explains how to create form sets by stitching together HTML5 forms. This article also explains how you can prefill xml data to a form set and how you can use form sets in process management." name="seoDescription" /> 
  <meta content="3394" name="acrolinxWords" /> 
  <meta content="2016-04-20T09:44:37.884-0400" name="firstPublishExternalDate" /> 
  <meta content="2018-04-26T04:38:17.135-0400" name="cq:lastModified" /> 
  <meta content="Form set in AEM Forms" name="navTitle" /> 
  <meta content="/content/help/en/experience-manager/6-4/forms/using/morehelp/html5_forms;/content/help/en/experience-manager/6-4/forms/using/morehelp/html5_forms" name="moreHelpPaths" /> 
  <meta content="" name="jcr:primaryType" /> 
  <meta content="https://helpx.adobe.com/experience-manager/6-4/forms/using/formset-in-aem-forms.html" name="publishExternalURL" /> 
  <meta content="2018-04-03T08:38:08.675-0400" name="publishExternalDate" /> 
  <meta content="/etc/designs/help" name="cq:designPath" /> 
  <meta content="2018-04-03T08:38:08.675-0400" name="lastPublishExternalDate" /> 
  <meta content="/apps/help/templates/article-3" name="cq:template" /> 
  <meta content="" name="jcr:versionHistory" /> 
  <meta content="red" name="acrolinxPageStatus" /> 
  <meta content="Form set in AEM Forms" name="jcr:title" /> 
  <meta content="true" name="jcr:isCheckedOut" /> 
  <meta content="carlino" name="cq:lastModifiedBy" /> 
  <meta content="" name="jcr:baseVersion" /> 
  <meta content="181" name="acrolinxSentences" /> 
  <meta content="f9073c19-ee1d-46d6-a358-47b7e911b653" name="jcr:predecessors" /> 
  <meta content="content_type:reference;products:SG_EXPERIENCEMANAGER/6.4/FORMS;topic_tags:hTML5_forms" name="cq:tags" /> 
  <meta content="carlino@adobe.com" name="lr_lastReplicatedBy" /> 
  <meta content="2018-04-03T08:38:09.712-0400" name="cq:lastReplicated" /> 
  <meta content="en_us" name="jcr:language" /> 
  <meta content="2015-12-03T10:09:08.549-0500" name="lastPublishQADate" /> 
  <meta content="false" name="isReadyForLocalization" /> 
  <meta content="not_checked" name="acrolinxStatus" /> 
  <meta content="e6b5f2de-f105-45d7-808b-8f3eb0a41d0b" name="jcr:uuid" /> 
  <meta content="http://checkstyle.corp.adobe.com:8031/output/en/formset_in_aem_forms_admin_5e12de0b318c6865_2014_report.xml" name="acrolinxReportURL" /> 
  <meta content="2018-04-03T08:38:08.675-0400" name="topicBrowsingSortDate" /> 
 </head> 
 <body> 
  <h2>Overview</h2> 
  <p>Your customers are often required to submit multiple forms to apply for a service or benefit. It involves finding all relevant forms; and filling, submitting, and tracking them separately. Also, they are required to fill in common details multiple times across forms. The entire process becomes cumbersome and error-prone if it involves large number of forms. The forms set feature of AEM Forms can help simplify the user experience in such scenarios.</p> 
  <p>A form set is a collection of HTML5 forms grouped together and presented as a single set of forms to end users. When end users start filling a form set, they are seamlessly transitioned from one form to another. At the end, they can submit all forms in just one click.</p> 
  <p>AEM Forms provides form authors an intuitive user interface to create, configure, and manage form sets. As an author, you can order forms in a particular sequence you want end users to follow. Also, you can apply conditions or eligibility expressions on individual forms to control their visibility based on user inputs. For example, you can configure the spouse details form to appear only when the marital status specifies as Married.</p> 
  <p>In addition, you can configure common fields in different forms to share common data bindings. With proper data bindings in place, end users are required to fill common information only once that gets auto-filled in subsequent forms.</p> 
  <p>Form sets are also supported in AEM Forms app, allowing your field workforce to take a form set offline, visit customers, input data, and synchronize later with the AEM Forms server to submit forms data to business processes.</p> 
  <h2>Creating and Managing Form set</h2> 
  <p>You can associate several XDPs or Form Templates, created using Designer, into a form set. Form sets can then be used selectively render the XDPs based on values entered by the users in initial forms and their profiles.</p> 
  <p>Use <a href="../../forms/using/introduction-managing-forms.md">AEM Forms user interface</a> to manage all your forms, form sets, and related assets.</p> 
  <h4>Create a form set</h4> 
  <p>To create a form set, do the following:</p> 
  <ol> 
   <li><p>Select Forms &amp;gt; Forms and Documents.</p> </li> 
   <li><p>Select Create &amp;gt; Form Set.<br /> </p> </li> 
   <li><p>In the Add Properties page, add the following details and click Next.</p> 
    <ul> 
     <li>Title: Specifies the title of the document. The title helps you identify the form set in the AEM Forms user interface.</li> 
     <li>Description: Specifies the detailed information about the document. </li> 
     <li>Tags: Specifies tags to uniquely identify the form set. Tags help in searching the form set. To create tags, type new tag names in the Tags box.</li> 
     <li>Submit URL: Specifies the URL where submitted data is posted for the case of stand-alone rendition of form set (Non-AEM Forms app use case). Data is submitted to this endpoint as multipart/formdata with following request parameter:</li> 
     <li>dataXML: This parameter contains an XML representation of submitted form set data. If all forms in the form set use a common schema, the XML is generated as per that schema. Otherwise, XML root tag contains a child tag for each filled form in the form set that contains data for the form attachments. </li> 
     <li>formsetPath: The path of the formset in CRXDE, which has been submitted.</li> 
     <li>HTML Render Profile: You can configure certain options such as floating fields, attachments, and draft support (For stand-alone form set rendition) to customize appearance, behavior, and interactions of the form set. You can customize or extend the existing profile to change any HTML Form profile settings.</li> 
    </ul>  <img alt="Form set: add properties" imageRotate="0" src="assets/createformset1.png" title="Form set: add properties" /></li> 
   <li><p>The Select Form(s) screen displays the available XDP forms or XDP files. Search and select the forms to include in the form set and then click Add To Form set. If necessary, search again for forms to add. After adding all forms to the form set, click Next. </p> 
    <note> 
     <p>Ensure that the field names in XDP forms do not contain the dot character. Otherwise, any scripts trying to resolve the fields, which have dot characters, are unable to resolve them.<br /> </p> 
    </note></li> 
   <li><p style="font-family: tahoma, arial, helvetica, sans-serif; font-size: 12px;">In the Configure Form(s) page, you can do the following:</p> 
    <ul> 
     <li>Form Order: Drag-and-drop the forms to reorder them.<strong> </strong>The form order defines the order in which forms are shown to end user in AEM Forms app and stand-alone rendition. </li> 
     <li>Form Identifier: Specifies a unique identity for the forms to be used in eligibility expressions.</li> 
     <li>Data root: For each form in form set, Author can configure the XPATH where the data of that particular form is positioned in submitted XML. By default, the value is /. If all the forms in form set are schema bound and share the same XML schema, you can change this value. It is recommended that every field in form has proper data binding specified in the XDP. If two fields in two different forms share the common data binding, then the field in the second form shows prefilled values from the first form. Do not bind two subforms with the same internal contents to the same XML node. For more information the XML structure of form set, see <a href="../../forms/using/formset-in-aem-forms.md#main-pars-header-7">Prefill XML for Form set</a>.</li> 
     <li>Eligibility expression: Specifies a JavaScript expression that evaluates a Boolean value and indicates whether a form in form set is eligible for filling. If false, user is not asked or even shown the form to fill. Typically, the expression is based on the values of the fields that are captured before this form. Expressions also contain calls to the form set API fs.valueOf to extract the values filled in by the user in a field of a form of the form set:</li> 
    </ul>  <p style="margin-left: 40px;">For example, if you have two forms in the form set: business expense and travel expense, you can add a JavaScript snippet in the Eligibility Expression field for both of these forms to check user input for type of expense in a form. If the user chooses Business Expense, the Business Expense form is rendered to the end user. Or if the user chooses travel expense a different form is rendered to the end user. For more information, see Eligibility Expression.</p> <p style="margin-left: 40px;">Additionally, the Author may also choose to remove a form from the form set using the Delete icon present at the right corner of each row or add another set of forms using the '<strong>+</strong>' icon in the toolbar. This '<strong>+</strong>' icon directs the user back to the previous step in the wizard, that was used to 'Select Form(s)'. The existing selections are maintained and any additional selection made must be added to the form set using the Add To form Set icon on that page.</p> <img alt="Form set: Configure form (s)" imageRotate="0" src="assets/createformset2.png" title="Form set: Configure form (s)" /> 
    <note> 
     <p>All the forms that are used in form set are managed by AEM Forms user interface.</p> 
    </note></li> 
  </ol> 
  <h4>Managing a form set</h4> 
  <p>Once a form set is created, you can perform following actions on that form set:</p> 
  <ul> 
   <li>Single-click: When form set is created and listed on main asset page, you can single-click the form set to view it. A form set opens and displays all form templates (XDPs) in that form set.</li> 
   <li>Edit: On clicking Edit after selecting a form set, the Configure Form (s) screen that is shown above in Steps to create a Form set opens. You can carry out all the functionalities that are described in point there. </li> 
   <li>Copy + Paste: This allows you to copy the entire form set from one location and paste it at same or any other location or folder. </li> 
   <li>Download: You can download the form set with all its dependencies.</li> 
   <li>Start/Manage Review: Once form set is created, you can set up its review by clicking Start Review. Once review has been started for a form set, Manage Review option is displayed to user. On Manage review screen, you can update/end the review. For the reviews you added, you can check the review and add comments, if necessary.</li> 
   <li>Delete: Deletes the complete form set. The forms in the deleted form set remain in the repository.</li> 
   <li>Publish/Unpublish: This publishes/unpublishes the form set along with the all the forms it contains and the related assets of these forms.</li> 
   <li>Preview: Preview provides two options: Preview as HTML (without data) and custom preview with sample data.</li> 
   <li>View/Edit Properties: You can view/edit the metadata properties of a selected form set.</li> 
  </ul> 
  <img imageRotate="0" src="assets/createformset3.png" /> 
  <h4>Edit a form set</h4> 
  <p>To edit a form set, do the following:</p> 
  <ol> 
   <li><p>Select Forms &amp;gt; Forms and Documents.</p> </li> 
   <li><p>Locate the form set you want to edit. Hover over it and select Edit (<img height="20" src="assets/editicon.png" width="20" />).</p> </li> 
   <li><p style="font-family: tahoma, arial, helvetica, sans-serif; font-size: 12px;">In the Configure Form(s) page, you can edit the following:<br /> </p> 
    <ul> 
     <li>Form Order </li> 
     <li>Form Identifier</li> 
     <li>Data root</li> 
     <li>Eligibility expression</li> 
    </ul> 
    <div>
      You can also click the relevant Delete icon to delete the form from the form Set. 
    </div> </li> 
  </ol> 
  <h2>Form set in Process Management</h2> 
  <p>Once you have created a form set using AEM Forms Management user interface, you can use the form set in a Start Point or Assign Task activity using Workbench.</p> 
  <h4>Using Form set in Task or Start point</h4> 
  <ol> 
   <li><p>When designing a process, under the Presentation &amp; Data section of Assign Task/Start Point, select <strong>use a CRX asset</strong>. CRX Asset browser appears. <br /> </p> <img alt="Design a process: use a CRX asset" imageRotate="0" src="assets/formsetinprocessmgmt1.png" title="Design a process: use a CRX asset" /></li> 
   <li><p>Select form set to filter the form set in AEM repository (CRX).<br /> </p> <img alt="Design a process: Select Form Asset dialog" imageRotate="0" src="assets/formsetinprocessmgmt2.png" title="Design a process: Select Form Asset dialog" /></li> 
   <li><p>Selects a form set and click OK.<br /> </p> </li> 
  </ol> 
  <h2>Eligibility Expressions</h2> 
  <p>Eligibility expressions in a form set are used to define and dynamically control forms that are displayed to a user. For example, to display a particular form only if the user belongs to a particular age group. Specify and edit an eligibility expression using forms manager.</p> 
  <p>An eligibility expression can be any valid JavaScript statement that returns a Boolean value. The last statement in the JavaScript code snippet is treated as a Boolean value that determines the eligibility of the form based on the processing in the rest (previous lines) of the JavaScript code snippet. If the value of the expression is true, the form is eligible to be displayed to the user. Such forms are known as eligible forms.</p> 
  <note> 
   <p>Eligibility expression for the first form in form set is not executed. The first form is always displayed regardless of its eligibility expression.</p> 
  </note> 
  <p>In addition to the standard JavaScript functions, form set also exposes the fs.valueOf API that provides access to the value of a field of a form in a form set. Use this API to access the value of a form field in a form set. The API syntax is fs.valueOf (formUid, fieldSOM), where:</p> 
  <ul> 
   <li>formUid (string): A unique ID of a form in the form set. You can specify it while creating the form set in the forms manager user interface. By default, it’s the form name.</li> 
   <li>fieldSOM (string): A SOM expression of the field in the form specified by the formUid. SOM expression or Scripting Object Model expression is used to reference values, properties, and methods within a particular document object model (DOM). You can view it in Form Designer under the Scripts tab while the field is selected.</li> 
  </ul> 
  <note> 
   <p>Both formUid and fieldSOM parameters must be string literal.</p> 
  </note> 
  <h4>Examples</h4> 
  <p>Valid usage of the API:</p> 
  <p><span class="code">fs.valueOf("form1", "xfa.form.form1.subform1.field1")</span></p> 
  <p>Invalid usage of the API:</p> 
  <p><code class="code">var formUid = "form1";
    <discoiqbr /> var fieldSOM = “xfa.form.form1.subform1.field1"; fs.valueOf(formUid, fieldSOM);</code><br /> </p> 
  <h2>Prefill XML for Form set</h2> 
  <p>Form set is a collection of multiple HTML5 forms that have common or different schemas. Form set supports prepopulating of form fields using an XML file. You can associate an XML file with a form set, so that when you open a form in the form set, some of the fields in the form get prepolulated. </p> 
  <p>Prefill XML file is specified using the dataRef parameter of the URL of the form set. The dataRef parameter specifies absolute path of the data XML file that is merged with the form set. </p> 
  <p>For example, you have three forms (form1, form2, and form3), in the form set with the following structure:</p> 
  <p>form1</p> 
  <p style="margin-left: 40px;">field<br /> form1field</p> 
  <p>form2</p> 
  <p style="margin-left: 40px;">field<br /> form2field</p> 
  <p>form3</p> 
  <p style="margin-left: 40px;">field<br /> form3field</p> 
  <p>Each form has a common named field, named "field" and a uniquely named field called "form&amp;lt;i&amp;gt;field".</p> 
  <p>You can prefill this form set using an XML with the following structure:</p> 
  <codeblock gutter="true" class="syntax xml">
    &lt;?xml&amp;nbsp;version="1.0"&amp;nbsp;encoding="UTF-8"&amp;nbsp;?&gt;!!discoiqbr!!&lt;formSetRootTag&gt;!!discoiqbr!!&amp;nbsp;&lt;field&gt;common&amp;nbsp;field&amp;nbsp;value&lt;/field&gt;!!discoiqbr!!&amp;nbsp;&lt;form1field&gt;value1&lt;/form1field&gt;!!discoiqbr!!&amp;nbsp;&lt;form2field&gt;value2&lt;/form2field&gt;!!discoiqbr!!&amp;nbsp;&lt;form3field&gt;value3&lt;/form3field&gt;!!discoiqbr!!&lt;/formSetRootTag&gt; 
  </codeblock> 
  <note> 
   <p>The XML root tag can have any name, but the element tags corresponding to the fields must have the same name as the field. The hierarchy of the XML must mimic the hierarchy of the form, which means the XML must have corresponding tags for wrapping subforms.</p> 
  </note> 
  <p>The above XML snippet shows that the prefill XML for the form set is a union of the prefill XML snippets of the individual forms. If certain fields in the different forms have data hierarchy/schema similar to each other, the fields are prefilled with the same values. In this example all three forms are prefilled with the same value for the common field, "field". This is a simple way to carry data forward from one form to the next. This can also be achieved by binding the fields to the same schema or data ref. If you want to segregate the form set data based on the forms' schema. This can be achieved by specifying the "data root" attribute of the form, during form set creation (the default value is "/", which maps to the form set root tag).</p> 
  <p>In the previous example, if you specify the data roots: "/form1", "/form2", and "/form3" respectively for the three forms, you need to use a prefill XML of the following structure:</p> 
  <codeblock gutter="true" class="syntax xml">
    &lt;?xml&amp;nbsp;version="1.0"&amp;nbsp;encoding="UTF-8"&amp;nbsp;?&gt;!!discoiqbr!!&lt;formSetRootTag&gt;!!discoiqbr!!&amp;nbsp;&lt;form1&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&lt;field&gt;field&amp;nbsp;value1&lt;/field&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&lt;form1field&gt;value1&lt;/form1field&gt;!!discoiqbr!!&amp;nbsp;&lt;/form1&gt;!!discoiqbr!!&amp;nbsp;&lt;form2&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&lt;field&gt;field&amp;nbsp;value2&lt;/field&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&lt;form2field&gt;value2&lt;/form2field&gt;!!discoiqbr!!&amp;nbsp;&lt;/form2&gt;!!discoiqbr!!&amp;nbsp;&lt;form3&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&lt;field&gt;field&amp;nbsp;value3&lt;/field&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&lt;form3field&gt;value3&lt;/form3field&gt;!!discoiqbr!!&amp;nbsp;&lt;/form3&gt;!!discoiqbr!!&lt;/formSetRootTag&gt; 
  </codeblock> 
  <p>In a form set, the XML defined an XML schema with the following syntax:</p> 
  <codeblock gutter="true" class="syntax xml">
    &lt;formset&gt;!!discoiqbr!!&amp;nbsp;&lt;fs_data&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&lt;xdp:xdp&amp;nbsp;xmlns:xdp="http://ns.adobe.com/xdp/"&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&lt;xfa:datasets&amp;nbsp;xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/"&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;xfa:data&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;rootElement&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;...&amp;nbsp;data&amp;nbsp;....!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/rootElement&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/xfa:data&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&lt;/xfa:datasets&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&lt;/xdp:xdp&gt;!!discoiqbr!!&amp;nbsp;&lt;/fs_data&gt;!!discoiqbr!!&amp;nbsp;&lt;fs_draft&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;...&amp;nbsp;private&amp;nbsp;data...!!discoiqbr!!&amp;nbsp;&lt;/fs_draft&gt;!!discoiqbr!!&lt;/formset&gt; 
  </codeblock> 
  <note> 
   <p>If there are two forms with overlapping data roots, or the element hierarchy of one form overlaps with the data root hierarchy of another form, in the prefill xml, the overlapped elements' values are merged. The submit XML has similar structure as the prefill XML, but submit XML has more wrapper tags and some form set context data tags appended at the end.</p> 
  </note> 
  <h3>Prefill XML elements description</h3> 
  <div>
    Syntax rules for creating a prefill XML file: 
  </div> 
  <ul> 
   <li>parent elements: element(s) which can be its parent, where null indicates that the element can be at the root of the XML.</li> 
   <li>cardinality: depicts the number of times the element can be used inside its parent element.</li> 
   <li>submitXML: indicates whether the element is always present(P) or optional(O) in submit XML.</li> 
   <li>prefillXML: indicates whether the element is required(R) or optional(O) in prefill XML.</li> 
   <li>children: indicates which elements can be its children.</li> 
  </ul> 
  <h3>FORMSET</h3> 
  <p><span class="code">parent elements:</span></p> 
  <p><span class="code">null</span></p> 
  <p><span class="code">cardinality: [0,1]</span></p> 
  <p><span class="code">submitXML: P</span></p> 
  <p><span class="code">prefillXML: O</span></p> 
  <p><span class="code">children: fs_data</span></p> 
  <p>The root element of the form set XML. It is advised to not use this word as the name of the rootSubform of any form in the form set.</p> 
  <h3>FS_DATA</h3> 
  <p><span class="code">parent elements:</span></p> 
  <p><span class="code">formset</span></p> 
  <p>cardinality: [1]</p> 
  <p>submitXML: P </p> 
  <p>prefillXML: O</p> 
  <p><span class="code">children: xdp:xdp/rootElement</span></p> 
  <p>The subtree indicates the data of the forms in the form set. The element is optional in prefill XML only if the form set element is not present</p> 
  <p> </p> 
  <h3>XDP:XDP</h3> 
  <p><span class="code">parent elements: fs_data/null</span></p> 
  <p><span class="code">cardinality: [0,1]</span></p> 
  <p><span class="code">submitXML: O</span></p> 
  <p><span class="code">prefillXML: O</span></p> 
  <p><span class="code">children: xfa:datasets</span></p> 
  <p>This tag indicates the start of HTML5 Form XML. This is added in the submit XML if it is present in the prefill XML or there is no prefill XML. This tag can be removed from the prefill XML.</p> 
  <p> </p> 
  <h3>XFA:DATASETS</h3> 
  <p><span class="code">parent elements: xdp:xdp</span></p> 
  <p><span class="code">cardinality: [1]</span></p> 
  <p><span class="code">submitXML: O </span></p> 
  <p><span class="code">prefillXML: O</span></p> 
  <p><span class="code">children: xfa:data</span></p> 
  <h3>XFA:DATA</h3> 
  <p><span class="code">parent elements: xfa:datasets</span></p> 
  <p><span class="code">cardinality: [1]</span></p> 
  <p><span class="code">submitXML: O</span></p> 
  <p><span class="code">prefillXML: O </span></p> 
  <p><span class="code">children: rootElement</span></p> 
  <p> </p> 
  <h3>ROOTELEMENT</h3> 
  <p><span class="code">parent elements: xfa:datasets/fs_data/null</span></p> 
  <p><span class="code">cardinality: [0,1]</span></p> 
  <p><span class="code">submitXML: P</span></p> 
  <p><span class="code">prefillXML: O</span></p> 
  <p><span class="code">children: controlled by the Forms in Form set</span></p> 
  <p>The name rootElement is just a placeholder. The actual name is picked from the forms used in the form set<strong>. </strong>The subtree that starts with rootElement contains the data of the fields and subforms inside the Forms in the form set. There are multiple factors that determine the structure of the rootElement and its children.</p> 
  <p>In prefill XML, this tag is optional, but if it’s missing, the entire XML is ignored.</p> 
  <p> </p> 
  <p>NAME OF THE ROOT ELEMENT TAG</p> 
  <p>In case there is a root element in the prefill XML, the name of that element is taken in the submit XML as well. In cases where there is no prefill xml, the name of the rootElement is the name of the Root Subform of the first form in the form set that has a dataRoot property set to "/". If there is no such form, then the rootElement name is <strong>fs_dummy_root</strong>, which is a reserved keyword.</p> 
  <h2 id="formset-in-workspace-app">Form set in&amp;nbsp;AEM Forms app</h2> 
  <p>AEM Forms app allows field workers to synchronize their mobile devices with an AEM Forms server and work on their tasks. The application works even when the device is offline by saving data locally on the device. Using annotation features, such as photographs, field workers can provide accurate information to integrate into the business processes.<br /> <br /> For more information on AEM Forms app, see <a href="/forms/using/mobile-workspace-overview" target="_blank">AEM Forms app overview</a>.</p> 
  <draft-comment type="draft"> 
   <h2>Using the AEM Forms app</h2> 
  </draft-comment> 
  <draft-comment type="draft"> 
   <ol> 
    <li><p>Initially, AEM Forms app gets the list of tasks/start points and the corresponding form URLs from Process Management.</p> <img alt="AEM Forms workspace app: list of tasks/start points" imageRotate="0" src="assets/createformset5.png" title="AEM Forms workspace app: list of tasks/start points" /></li> 
    <li><p>If the task/startpoint is associated with a form set, we get a form set URL. We get the list of forms inside the form set from the AEM Forms Manager.</p> <p>All the resources required to render the form set in offline mode are cached locally on device. This includes form HTML, scripts, images, CSS, template HTML, and other resources. The cache is updated whenever a resource changes, such as the CRX database. Whenever properties of the CRX database change that the AEM Forms app depends on, the cache is updated. You can set up recurring timer for automatic updates. You can also set up the parts where changes trigger the cache sync.</p> </li> 
    <li><p>You can set up sync and other settings.<br /> </p> <img alt="AEM Forms workspace app: settings" imageRotate="0" src="assets/screenshot_2015-04-17-17-02-12.png" title="AEM Forms workspace app: settings" /></li> 
    <li><p>The prefill json corresponding to the forms in the form set are fetched from AEM server using the task ID and form set URL and this json is also cached in the device database.<br /> </p> </li> 
    <li><p>When a form set based startpoint/task is opened, the cached form is obtained from the database and is rendered using the WebView in a child browser.</p> 
     <ol> 
      <li>Previous and Back buttons in the child browser help navigate between the different forms in the form set. When you select next, form validation for current form is run and the app displays validation messages. You can choose to ignore the validation error and move to next form. But you cannot submit the form set until all the validation issues are resolved.</li> 
      <li>Home button takes the user to the first form in the form set.</li> 
      <li>The Done button on the child browser saves the state of the form set on the device and closes the child browser.<br /> </li> 
     </ol> </li> 
    <li><p>You have three options:</p> 
     <ol> 
      <li>Select Complete and submit the task to the server.</li> 
      <li>Select Save and save the task as draft on the server. If later, you reopen the draft (even from different device), you are taken to the same form you were filling when you chose to save draft.</li> 
      <li>Click back and abandon the changes made to the form. This is valid for Start Point but not for Task.<br /> </li> 
     </ol> 
     <div>
       If the device is in offline mode, the requests for submit and save are queued on the device in the database and actions are taken once the device comes back to online mode. 
      <br /> 
     </div> </li> 
    <li><p>AEM Forms app user would have to use regular Task Attachments feature to add attachment to form set. If there is attachment enabled using Form set HTML Render profile that attachment option is marked hidden in AEM Forms app and user has to use Task Attachment.</p> </li> 
   </ol> 
  </draft-comment> 
  <h2>Known limitations - patterns not fully supported in Form set</h2> 
  <p>The following data patterns are not fully supported in Form set:</p> 
  <table border="1" cellpadding="1" cellspacing="0" width="100%"> 
   <tbody> 
    <tr> 
     <td><strong>Pattern not fully supported in Form set</strong></td> 
     <td><strong>Example</strong></td> 
    </tr> 
    <tr> 
     <td>Input size and pattern size mismatch</td> 
     <td><p>When pattern= num{z,zzz}</p> <p>And input=</p> <p>12,345 or</p> <p>1,23</p> </td> 
    </tr> 
    <tr> 
     <td>Picture Clause Patterns with brackets "(" ")"</td> 
     <td>num{(zz,zzz)}</td> 
    </tr> 
    <tr> 
     <td>Multiple data patterns</td> 
     <td>num{zz,zzz} | num{z,zzz,zzz}</td> 
    </tr> 
    <tr> 
     <td>Shorthand patterns </td> 
     <td><p>num.integer{},</p> <p>num.decimal{},</p> <p>num.percent{}, or</p> <p>num.currency{}</p> </td> 
    </tr> 
   </tbody> 
  </table> 
 </body> 
</html>