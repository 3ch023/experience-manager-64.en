<?xml version="1.1" encoding="UTF-8" standalone="yes"?> 
<html> 
 <head> 
  <meta content="carlino" name="cq:lastModifiedBy" /> 
  <meta content="2018-04-03T09:10:13.557-0400" name="cq:lastReplicated" /> 
  <meta content="wmyersta@adobe.com" name="lr_lastReplicatedBy" /> 
  <meta content="https://helpx.adobe.com/experience-manager/6-3/forms/using/admin-help/ibm-db2-database-running-commands.html" name="publishExternalURL" /> 
  <meta content="56f51d5b-9edd-4fef-97c3-22f6d9e4d4f1" name="jcr:uuid" /> 
  <meta content="admin" name="lr_lastModifiedBy" /> 
  <meta content="2016-02-05T03:27:25.247-0500" name="lr_lastModified" /> 
  <meta content="IBM DB2 database: Running commands for regular maintenance" name="navTitle" /> 
  <meta content="left" name="sideColumn" /> 
  <meta content="head1_20111213" name="gep_conversion_script_version" /> 
  <meta content="content_type:reference;geptopics:SG_AEMFORMS/categories/maintaining_the_aem_forms_database;products:SG_EXPERIENCEMANAGER/6.4/FORMS" name="cq:tags" /> 
  <meta content="en_us" name="jcr:language" /> 
  <meta content="/apps/help/templates/article-3" name="cq:template" /> 
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/FORMS" name="primaryProductTag" /> 
  <meta content="465" name="acrolinxWords" /> 
  <meta content="8e1facf1-2d01-4bd6-a716-eb7d89b44ab0" name="jcr:predecessors" /> 
  <meta content="mix:versionable" name="jcr:mixinTypes" /> 
  <meta content="" name="jcr:versionHistory" /> 
  <meta content="light" name="heroGradient" /> 
  <meta content="2016-04-20T10:05:31.191-0400" name="firstPublishExternalDate" /> 
  <meta content="2017-12-01T19:06:18.733-0500" name="jcr:created" /> 
  <meta content="false" name="doNotLocalize" /> 
  <meta content="red" name="acrolinxPageStatus" /> 
  <meta content="2017-10-31T16:32:13.243-0400" name="publishExternalDate" /> 
  <meta content="/etc/designs/help" name="cq:designPath" /> 
  <meta content="Activate" name="cq:lastReplicationAction" /> 
  <meta content="AEMForms/6.1/AdminHelp/WS92d06802c76abadb-5145d5d12905ce07e7-7ca0.2,AEMForms/6.1/AdminHelp/WS92d06802c76abadb5bc3d11912905ce0363-7ff5.2,AEMForms/6.1/AdminHelp/WS92d06802c76abadb5bc3d11912905ce0363-7ff4.2" name="cq:gepId" /> 
  <meta content="IBM DB2 database: Running commands for regular maintenance" name="jcr:title" /> 
  <meta content="admin" name="lr_creator" /> 
  <meta content="not_checked" name="acrolinxStatus" /> 
  <meta content="2016-05-31T07:01:26.473-0400" name="acrolinxDate" /> 
  <meta content="help/components/pages/article-3" name="sling:resourceType" /> 
  <meta content="2018-04-26T04:23:31.540-0400" name="locHandOffDate" /> 
  <meta content="carlino" name="cq:lastReplicatedBy" /> 
  <meta content="false" name="isReadyForLocalization" /> 
  <meta content="video" name="pageLayout" /> 
  <meta content="2016-02-05T03:27:00.000-0500" name="sortDate" /> 
  <meta content="true" name="jcr:isCheckedOut" /> 
  <meta content="admin" name="jcr:createdBy" /> 
  <meta content="2016-02-05T03:27:00.000-0500" name="topicBrowsingSortDate" /> 
  <meta content="2018-04-26T04:23:31.541-0400" name="cq:lastModified" /> 
  <meta content="2017-10-31T16:32:13.243-0400" name="lastPublishExternalDate" /> 
  <meta content="" name="jcr:baseVersion" /> 
  <meta content="" name="jcr:primaryType" /> 
  <meta content="admin" name="contentOwner" /> 
  <meta content="http://checkstyle.corp.adobe.com:8031/output/en/ibm_db2_database_running_commands_admin_5e12de0b318c6865_2328_report.xml" name="acrolinxReportURL" /> 
  <meta content="This document lists IBM DB2 commands that are recommended for regular maintenance of your AEM forms database. " name="seoDescription" /> 
  <meta content="42" name="acrolinxSentences" /> 
  <meta content="vishgupt" name="acrolinxLastCheckedBy" /> 
 </head> 
 <body> 
  <p>The following IBM DB2 commands are recommended for regular maintenance of your AEM forms database. For detailed information about maintenance and performance tuning for your DB2 database, see <i>IBM DB2 Administration Guide</i>.</p> 
  <ul> 
   <li><p><strong>runstats:</strong><strong></strong> This command updates statistics that describe the physical characteristics of a database table, along with its associated indexes. Dynamic SQL statements generated by AEM forms automatically use these updated statistics, but static SQL statements built inside a database require that the <span class="code">db2rbind</span> command be run as well. </p></li> 
   <li><p><strong>db2rbind</strong><strong>:</strong> This command rebinds all the packages in the database. Use this command after running the <span class="code">runstats</span> utility to revalidate all packages in the database.</p></li> 
   <li><p><strong>reorg table</strong><strong> or </strong><strong>index</strong><strong>: </strong>This command checks whether a reorganization of some tables and indexes is required. </p><p>As your databases grow and change, recalculating table statistics is critical to improving database performance and should be done regularly. These commands can be run either manually by using scripts or by using a cron job. </p></li> 
  </ul> 
  <draft-comment type="remark"> 
   <p>Bug 1522079:</p> 
  </draft-comment> 
  <note> 
   <p>Before you run the <span class="code">runstats</span> command, the database must contain data, and at least one directory synchronization must have been performed.</p> 
  </note> 
  <p>For a small database, such as for 10,000 users or 2,500 groups, it is sufficient to invoke the <span class="code">runstats</span> command to reduce the sync timings.</p> 
  <p>For larger databases, such as for 100,000 users or 10,000 groups, run the <span class="code">reorg</span> command before you run the <span class="code">runstats</span> command.</p> 
  <h2 id="use_the_runstats_command_on_your_aem_forms_database">Use the runstats command on your AEM forms database</h2> 
  <p></p> 
  <p>Run the <span class="code">runstats</span> command on the following AEM forms database tables and indexes. </p> 
  <draft-comment type="remark"> 
   <p>Bug 1909846:</p> 
  </draft-comment> 
  <note> 
   <p>The <span class="code"><i>runstats</i></span> command needs to be run only during the first database synchronization. However, it must be run twice during that process: once during the synchronization of Users and Groups and then during the synchronization of Group Members. Ensure that the script executes completely each time you run it.</p> 
  </note> 
  <p>For correct syntax and usage, see the database manufacturer’s documentation. Below, <span class="code">&amp;lt;schema&amp;gt;</span> is used to denote the schema that is associated with your DB2 user name. If you have a simple default DB2 installation, this is the database schema name.</p> 
  <codeblock gutter="true" class="syntax as3">
     &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;TABLE&amp;nbsp;&lt;schema&gt;.EDCPRINCIPALGROUPENTITY&amp;nbsp;!!discoiqbr!! &amp;nbsp;!!discoiqbr!! &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;TABLE&amp;nbsp;&lt;schema&gt;.EDCPRINCIPALGRPCTMNTENTITY&amp;nbsp;!!discoiqbr!! &amp;nbsp;!!discoiqbr!! &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;TABLE&amp;nbsp;&lt;schema&gt;.EDCPRINCIPALENTITY&amp;nbsp;!!discoiqbr!! &amp;nbsp;!!discoiqbr!! &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;TABLE&amp;nbsp;&lt;schema&gt;.EDCPRINCIPALUSERENTITY&amp;nbsp;!!discoiqbr!! &amp;nbsp;!!discoiqbr!! &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;TABLE&amp;nbsp;&lt;schema&gt;.EDCPRINCIPALEMAILALIASENTITY&amp;nbsp;!!discoiqbr!! &amp;nbsp;!!discoiqbr!! &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;TABLE&amp;nbsp;&lt;schema&gt;.EDCPRINCIPALENTITY&amp;nbsp;FOR&amp;nbsp;INDEXES&amp;nbsp;ALL&amp;nbsp;!!discoiqbr!! &amp;nbsp;!!discoiqbr!! &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;TABLE&amp;nbsp;&lt;schema&gt;.EDCPRINCIPALEMAILALIASENTITY&amp;nbsp;FOR&amp;nbsp;INDEXES&amp;nbsp;ALL&amp;nbsp;!!discoiqbr!! &amp;nbsp;!!discoiqbr!! &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;TABLE&amp;nbsp;&lt;schema&gt;.EDCPRINCIPALUSERENTITY&amp;nbsp;FOR&amp;nbsp;INDEXES&amp;nbsp;ALL&amp;nbsp;!!discoiqbr!! &amp;nbsp;!!discoiqbr!! &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;TABLE&amp;nbsp;&lt;schema&gt;.EDCPRINCIPALGROUPENTITY&amp;nbsp;FOR&amp;nbsp;INDEXES&amp;nbsp;ALL&amp;nbsp;!!discoiqbr!! &amp;nbsp;!!discoiqbr!! &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;TABLE&amp;nbsp;&lt;schema&gt;.EDCPRINCIPALGRPCTMNTENTITY&amp;nbsp;FOR&amp;nbsp;INDEXES&amp;nbsp;ALL 
  </codeblock> 
  <h2 id="run_the_reorg_command_on_your_aem_forms_database">Run the reorg command on your AEM forms database</h2> 
  <p></p> 
  <p>Run the <span class="code">reorg</span> command on the following AEM forms database tables and indexes. For correct syntax and usage, see the database manufacturer’s documentation.</p> 
  <codeblock gutter="true" class="syntax as3">
     &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;TABLE&amp;nbsp;&lt;schema&gt;.EDCPRINCIPALGROUPENTITY&amp;nbsp;!!discoiqbr!! &amp;nbsp;!!discoiqbr!! &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;TABLE&amp;nbsp;&lt;schema&gt;.EDCPRINCIPALGRPCTMNTENTITY&amp;nbsp;!!discoiqbr!! &amp;nbsp;!!discoiqbr!! &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;TABLE&amp;nbsp;&lt;schema&gt;.EDCPRINCIPALENTITY&amp;nbsp;!!discoiqbr!! &amp;nbsp;!!discoiqbr!! &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;TABLE&amp;nbsp;&lt;schema&gt;.EDCPRINCIPALUSERENTITY&amp;nbsp;!!discoiqbr!! &amp;nbsp;!!discoiqbr!! &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;TABLE&amp;nbsp;&lt;schema&gt;.EDCPRINCIPALEMAILALIASENTITY&amp;nbsp;!!discoiqbr!! &amp;nbsp;!!discoiqbr!! &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;INDEXES&amp;nbsp;ALL&amp;nbsp;FOR&amp;nbsp;TABLE&amp;nbsp;&lt;schema&gt;.EDCPRINCIPALENTITY&amp;nbsp;!!discoiqbr!! &amp;nbsp;!!discoiqbr!! &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;INDEXES&amp;nbsp;ALL&amp;nbsp;FOR&amp;nbsp;TABLE&amp;nbsp;&lt;schema&gt;.EDCPRINCIPALEMAILALIASENTITY&amp;nbsp;!!discoiqbr!! &amp;nbsp;!!discoiqbr!! &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;INDEXES&amp;nbsp;ALL&amp;nbsp;FOR&amp;nbsp;TABLE&amp;nbsp;&lt;schema&gt;.EDCPRINCIPALUSERENTITY&amp;nbsp;!!discoiqbr!! &amp;nbsp;!!discoiqbr!! &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;INDEXES&amp;nbsp;ALL&amp;nbsp;FOR&amp;nbsp;TABLE&amp;nbsp;&lt;schema&gt;.EDCPRINCIPALGROUPENTITY&amp;nbsp;!!discoiqbr!! &amp;nbsp;!!discoiqbr!! &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;INDEXES&amp;nbsp;ALL&amp;nbsp;FOR&amp;nbsp;TABLE&amp;nbsp;&lt;schema&gt;.EDCPRINCIPALGRPCTMNTENTITY 
  </codeblock> 
 </body> 
</html>