<?xml version="1.1" encoding="UTF-8" standalone="yes"?> 
<html> 
 <head> 
  <meta content="2018-04-24T11:59:28.120-0400" name="cq:lastModified" /> 
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/ASSETS;topic_tags:extending-assets;content_type:reference" name="cq:tags" /> 
  <meta content="carlino" name="cq:lastModifiedBy" /> 
  <meta content="/content/help/en/experience-manager/6-4/assets/morehelp/extending-assets;/content/help/en/experience-manager/6-4/assets/morehelp/extending-assets" name="moreHelpPaths" /> 
  <meta content="/apps/help/templates/article-3" name="cq:template" /> 
  <meta content="46" name="acrolinxSentences" /> 
  <meta content="en_us" name="jcr:language" /> 
  <meta content="245c8f64-1ce0-4ff8-8208-16a17c6caa89" name="jcr:predecessors" /> 
  <meta content="asgupta" name="acrolinxLastCheckedBy" /> 
  <meta content="2018-04-03T08:04:08.401-0400" name="cq:lastReplicated" /> 
  <meta content="yellow" name="acrolinxPageStatus" /> 
  <meta content="" name="publishExternalURL" /> 
  <meta content="2017-12-01T19:03:32.179-0500" name="jcr:created" /> 
  <meta content="Customizing Asset Share" name="navTitle" /> 
  <meta content="true" name="jcr:isCheckedOut" /> 
  <meta content="admin" name="jcr:createdBy" /> 
  <meta content="229dc2f8-322f-4a5d-a59e-ed663aeafd77" name="jcr:uuid" /> 
  <meta content="/content/docs/en/aem/6-3/develop/extending/assets/assetsharex" name="qaNotes" /> 
  <meta content="2019-01-12T17:13:00.241-0500" name="acrolinxDate" /> 
  <meta content="cmajumda@adobe.com" name="lr_lastReplicatedBy" /> 
  <meta content="544" name="acrolinxWords" /> 
  <meta content="" name="jcr:versionHistory" /> 
  <meta content="" name="jcr:baseVersion" /> 
  <meta content="" name="jcr:primaryType" /> 
  <meta content="mix:versionable" name="jcr:mixinTypes" /> 
  <meta content="false" name="isReadyForLocalization" /> 
  <meta content="/etc/designs/help" name="cq:designPath" /> 
  <meta content="http://acrolinx.corp.adobe.com:8031/output/en/assetsharex_krs_workflow_f3c2f2ccebf6138e_100_report.xml" name="acrolinxReportURL" /> 
  <meta content="checked_not_improved" name="acrolinxStatus" /> 
  <meta content="2017-10-12T21:46:58.665-0400" name="qaDate" /> 
  <meta content="Customizing Asset Share" name="jcr:title" /> 
  <meta content="Activate" name="cq:lastReplicationAction" /> 
  <meta content="2018-04-24T11:59:28.120-0400" name="locHandOffDate" /> 
  <meta content="2017-11-14T10:01:45.565-0500" name="unpublishExternalDate" /> 
  <meta content="carlino" name="cq:lastReplicatedBy" /> 
  <meta content="Customizing Asset Share" name="seoTitle" /> 
  <meta content="Guillaume Carlino" name="contentOwner" /> 
  <meta content="2017-10-31T16:35:20.389-0400" name="lastPublishExternalDate" /> 
  <meta content="help/components/pages/article-3" name="sling:resourceType" /> 
  <meta content="2017-10-12T21:46:58.665-0400" name="mwpw_migration_script_version" /> 
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/ASSETS" name="primaryProductTag" /> 
  <meta content="2017-10-31T16:35:20.389-0400" name="firstPublishExternalDate" /> 
 </head> 
 <body> 
  <p>The Asset Share page is used to search for assets based on their metadata. You can customize the search, search results, and what actions users can take.</p> 
  <h2>Creating an Asset Share Template</h2> 
  <ul> 
   <li> Geometrixx Sample Page: <strong>/content/geometrixx/en/press.html</strong></li> 
   <li>Sample Template:<strong> /apps/geometrixx/templates/assetshare</strong></li> 
   <li>Sample Page Component:<strong> /apps/geometrixx/components/assetshare </strong></li> 
  </ul> 
  <h4>Configuring Clientlib</h4> 
  <p>Adobe Experience Manager (AEM) Assets components use an extension of the WCM edit clientlib. The clientlibs are usually loaded in <strong>init.jsp</strong>.</p> 
  <p>Compared to the default clientlib loading (in core's <strong>init.jsp</strong>), an AEM Assets template must have the following:</p> 
  <ul> 
   <li>The template must include the <strong>cq.dam.edit</strong> clientlib (instead of <strong>cq.wcm.edit</strong>).</li> 
   <li>The clientlib must also be included in disabled WCM mode (for example, loaded on <strong>publish</strong>) to be able to render the predicates, actions, and lenses.<br /> </li> 
  </ul> 
  <p>In most cases, copying the existing sample <strong>init.jsp</strong> (<strong>/apps/geometrixx/components/assetshare/init.jsp</strong>) should meet these needs.<br /> </p> 
  <h4>Additional Style Sheets</h4> 
  <p>Some of the AEM Assets components use the AEM widgets library. To be rendered properly in the content context, an additional style sheet has to be loaded. The tag action component requires one more.</p> 
  <codeblock gutter="true" class="syntax xml">
    &lt;link&amp;nbsp;href="/etc/designs/geometrixx/ui.widgets.css"&amp;nbsp;rel="stylesheet"&amp;nbsp;type="text/css"&gt; 
  </codeblock> 
  <h4>Geometrixx Style Sheet</h4> 
  <p>The sample page components require all selectors to start with .<strong>assetshare</strong> of <strong>static.css</strong> (<strong>/etc/designs/geometrixx/static.css</strong>). Best practice: Copy all<strong> .assetshare </strong>selectors to your style sheet and adjust the rules as desired.</p> 
  <h4>Query Builder</h4> 
  <p>The Geometrixx sample page includes the default AEM Assets query builder component (<strong>/libs/dam/components/assetshare/querybuilder</strong>) with two columns (in <strong>/apps/geometrixx/components/assetshare/body.jsp</strong>):</p> 
  <ul> 
   <li>left column for predicates and actions</li> 
   <li>right column for the lens deck that displays the current lens</li> 
   <li>top bar with search field, paging, and lens switcher</li> 
  </ul> 
  <p>To achieve one of the following, you have to create (and include) your own component:</p> 
  <ul> 
   <li>different layout</li> 
   <li>different default values for the Query Builder, for example, <strong>limit</strong> (It is possible to set the values available in the Query Builder Properties dialog box. The default values are only applied as long as no values have been set.)</li> 
  </ul> 
  <p>The best practice is to copy the existing component to your project folder in<strong> /apps</strong> and adjust it.</p> 
  <h2>Customizing Actions</h2> 
  <p>AEM Assets comes with a set of predefined actions that can be used to customize an Asset Share page. Customizing an Asset Share in this way is covered in <a href="../../assets/using/assets-finder-editor.md#main-pars-title">Creating and Configuring an Asset Share Page</a>.</p> 
  <p>In addition to using pre-existing actions, AEM developers can also create their own actions.</p> 
  <h3>Adding a custom action</h3> 
  <p>Creating custom actions requires basic knowledge about the <a href="/sites/developing/using/reference-materials/widgets-api/index">Widgets framework</a>.<br /> </p> 
  <p>The best practice is to copy an existing action and adjust it. Sample actions are located in <strong>/libs/cq/dam/assetshare/components/actions</strong>. See also <a href="../../sites/developing/using/developing-components-samples.md">Developing components</a>.<br /> </p> 
  <h4>Example: Create a simple action</h4> 
  <p>To create a custom action:<br /> </p> 
  <ol> 
   <li><p>Create a component folder in your projects directory, for example, <strong>/apps/geometrixx/components/sampleaction.</strong></p> </li> 
   <li><p>Add <strong>content.xml</strong>:</p> 
    <codeblock gutter="true" class="syntax xml">
      &lt;?xml&amp;nbsp;version="1.0"&amp;nbsp;encoding="UTF-8"?&gt;!!discoiqbr!!&lt;jcr:root&amp;nbsp;xmlns:sling="http://sling.apache.org/jcr/sling/1.0"&amp;nbsp;xmlns:cq="http://www.day.com/jcr/cq/1.0"&amp;nbsp;xmlns:jcr="http://www.jcp.org/jcr/1.0"!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;jcr:primaryType="cq:Component"!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;jcr:title="Image&amp;nbsp;Formats"!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;sling:resourceSuperType="foundation/components/parbase"!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;allowedParents="[*/parsys]"!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;componentGroup="Asset&amp;nbsp;Share"/&gt;!!discoiqbr!! 
    </codeblock></li> 
   <li><p>Add <strong>sampleaction.jsp</strong>:</p> 
    <codeblock gutter="true" class="syntax xml">
      &lt;%--!!discoiqbr!!!!discoiqbr!!&amp;nbsp;&amp;nbsp;Sample&amp;nbsp;action&amp;nbsp;component!!discoiqbr!!!!discoiqbr!!--%&gt;&lt;%@include&amp;nbsp;file="/libs/foundation/global.jsp"%&gt;!!discoiqbr!!&lt;script&amp;nbsp;type="text/javascript"&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;Note:&amp;nbsp;Functions&amp;nbsp;should&amp;nbsp;be&amp;nbsp;defined&amp;nbsp;in&amp;nbsp;a&amp;nbsp;global&amp;nbsp;script&amp;nbsp;block.&amp;nbsp;The&amp;nbsp;script&amp;nbsp;inside!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;the&amp;nbsp;component&amp;nbsp;will&amp;nbsp;be&amp;nbsp;loaded&amp;nbsp;in&amp;nbsp;every&amp;nbsp;paragraph&amp;nbsp;that&amp;nbsp;uses&amp;nbsp;this&amp;nbsp;component.!!discoiqbr!!!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//&amp;nbsp;alert&amp;nbsp;the&amp;nbsp;title&amp;nbsp;and&amp;nbsp;path&amp;nbsp;of&amp;nbsp;the&amp;nbsp;selected&amp;nbsp;assets.!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;function&amp;nbsp;alertSelectedAssets()&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var&amp;nbsp;selection&amp;nbsp;=&amp;nbsp;CQ.search.Util.getSelection();!!discoiqbr!!!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if&amp;nbsp;(selection.length&amp;nbsp;==&amp;nbsp;0)&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;CQ.dam.Util.alertNoSelection();!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}!!discoiqbr!!!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var&amp;nbsp;msg&amp;nbsp;=&amp;nbsp;"";!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;for&amp;nbsp;(var&amp;nbsp;i&amp;nbsp;=&amp;nbsp;0;&amp;nbsp;i&amp;nbsp;&lt;&amp;nbsp;selection.length;&amp;nbsp;i++)&amp;nbsp;{!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;msg&amp;nbsp;+=&amp;nbsp;"Title:&amp;nbsp;"&amp;nbsp;+&amp;nbsp;selection[i]["jcr:content"]["metadata"]["dc:title"]&amp;nbsp;+&amp;nbsp;"\n";!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;msg&amp;nbsp;+=&amp;nbsp;"Path:&amp;nbsp;"&amp;nbsp;+&amp;nbsp;selection[i]["jcr:path"]&amp;nbsp;+&amp;nbsp;"\n\n";!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;alert(msg);!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}!!discoiqbr!!!!discoiqbr!!&lt;/script&gt;!!discoiqbr!!&lt;a&amp;nbsp;href="javascript:alertSelectedAssets();"&gt;Sample&amp;nbsp;Action&lt;/a&gt;!!discoiqbr!! 
    </codeblock></li> 
   <li><p>To make the component available, you need to be able to edit it. To make a component editable, in CRXDE, add a node <strong>cq:editConfig</strong> of primary type <strong>cq:EditConfig</strong>. So that you can remove paragraphs, add a multi-value property <strong>cq:actions</strong> with a single value of <strong>DELETE</strong>.</p> </li> 
   <li><p>Navigate to your browser, and on your sample page (for example, <strong>press.html</strong>) switch to design mode and enable your new component for the predicate paragraph system (for example, <strong>actions</strong>).</p> </li> 
   <li><p>In <strong>Edit</strong> mode, the new component is now available in the sidekick (found in the <strong>Asset Share </strong>group). Insert the component in actions area.<br /> </p> </li> 
  </ol> 
 </body> 
</html>