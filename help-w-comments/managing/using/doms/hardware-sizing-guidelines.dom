<?xml version="1.1" encoding="UTF-8" standalone="yes"?> 
<html> 
 <head> 
  <meta content="Hardware Sizing Guidelines" name="seoTitle" /> 
  <meta content="/content/docs/en/aem/6-3/manage/hardware-sizing-guidelines" name="qaNotes" /> 
  <meta content="admin" name="jcr:createdBy" /> 
  <meta content="48f5b85c-372e-4062-8452-e0b98b905b3d" name="jcr:uuid" /> 
  <meta content="true" name="jcr:isCheckedOut" /> 
  <meta content="2017-10-12T21:46:58.665-0400" name="qaDate" /> 
  <meta content="help/components/pages/article-3" name="sling:resourceType" /> 
  <meta content="/content/help/en/experience-manager/6-4/managing/morehelp/managing;/content/help/en/experience-manager/6-4/managing/morehelp/managing" name="moreHelpPaths" /> 
  <meta content="2018-04-03T10:56:49.882-0400" name="publishExternalDate" /> 
  <meta content="" name="jcr:baseVersion" /> 
  <meta content="These sizing guidelines offer an approximation of the hardware resources required to deploy an AEM project." name="seoDescription" /> 
  <meta content="" name="jcr:versionHistory" /> 
  <meta content="Hardware Sizing Guidelines" name="jcr:title" /> 
  <meta content="2017-10-31T16:26:46.370-0400" name="firstPublishExternalDate" /> 
  <meta content="2018-04-03T10:56:51.673-0400" name="cq:lastReplicated" /> 
  <meta content="2018-05-09T09:49:00.367-0400" name="cq:lastModified" /> 
  <meta content="carlino" name="cq:lastReplicatedBy" /> 
  <meta content="msm-service" name="contentOwner" /> 
  <meta content="/etc/designs/help" name="cq:designPath" /> 
  <meta content="remove-legacypath-6-1" name="jcr:lastModifiedBy" /> 
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/MANAGING;topic_tags:managing;content_type:reference" name="cq:tags" /> 
  <meta content="2017-10-12T21:46:58.665-0400" name="mwpw_migration_script_version" /> 
  <meta content="mix:versionable" name="jcr:mixinTypes" /> 
  <meta content="2018-01-10T19:02:17.215-0500" name="jcr:created" /> 
  <meta content="2018-04-03T10:56:49.882-0400" name="topicBrowsingSortDate" /> 
  <meta content="Hardware Sizing Guidelines" name="navTitle" /> 
  <meta content="e214d5f8-3db9-4d57-b532-abaf1329fee3" name="jcr:predecessors" /> 
  <meta content="false" name="isReadyForLocalization" /> 
  <meta content="Activate" name="cq:lastReplicationAction" /> 
  <meta content="2018-04-03T10:56:49.882-0400" name="lastPublishExternalDate" /> 
  <meta content="" name="jcr:primaryType" /> 
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/MANAGING" name="primaryProductTag" /> 
  <meta content="msm-service" name="cq:lastModifiedBy" /> 
  <meta content="/apps/help/templates/article-3" name="cq:template" /> 
  <meta content="en_us" name="jcr:language" /> 
  <meta content="2018-05-09T09:49:00.367-0400" name="locHandOffDate" /> 
  <meta content="carlino@adobe.com" name="lr_lastReplicatedBy" /> 
  <meta content="https://helpx.adobe.com/experience-manager/6-4/managing/using/hardware-sizing-guidelines.html" name="publishExternalURL" /> 
 </head> 
 <body> 
  <p>These sizing guidelines offer an approximation of the hardware resources required to deploy an AEM project. Sizing estimates depend on the architecture of the project, the complexity of the solution, expected traffic and the project requirements. This guide helps you to determine the hardware needs for a specific solution, or to find an upper and lower estimate for the hardware requirements.<br /> </p> 
  <p>Basic factors to consider are (in this order): </p> 
  <ul> 
   <li><strong>Network speed</strong> 
    <ul> 
     <li>Network latency</li> 
     <li>Available bandwidth <br /> </li> 
    </ul> </li> 
   <li><strong>Computational speed</strong><br /> 
    <ul> 
     <li>Caching efficiency</li> 
     <li>Expected traffic</li> 
     <li>Complexity of templates, applications and components</li> 
     <li>Concurrent authors</li> 
     <li>Complexity of the authoring operation (simple content editing, MSM rollout, etc)</li> 
    </ul> </li> 
   <li><strong>I/O performance</strong> 
    <ul> 
     <li>Performance and efficiency of the file or database storage</li> 
    </ul> </li> 
   <li><strong>Hard Drive</strong> 
    <ul> 
     <li>at least two or three times larger than the repository size<strong><br /> </strong></li> 
    </ul> </li> 
   <li><strong>Memory</strong> 
    <ul> 
     <li>Size of website (number of content-object, pages, and users)</li> 
     <li>Number of users/sessions that are active at the same time</li> 
    </ul> </li> 
  </ul> 
  <h3>Architecture</h3> 
  <p>A typical AEM setup consists of an author and a publish environment. These environments have different requirements regarding the underlying hardware size and system configuration. Detailed considerations for both environments are described in the <a href="../../managing/using/hardware-sizing-guidelines.md#authorenvironmentspecificcalculations">author environment</a> and <a href="../../managing/using/hardware-sizing-guidelines.md#publishenvironmentspecificcalculations">publish environment</a> sections.<br /> </p> 
  <p>In a typical project setup, you have several environments on which to stage project phases:<br /> </p> 
  <ul> 
   <li><strong>Development environment</strong><br /> To develop new features or make significant changes. Best practise is to work using a development environment per developer (usually local installations on their personal systems).</li> 
   <li><strong>Author test environment</strong> <br /> To verify changes. The number of test environments can vary depending on the project requirements (for example, separate for QA, integration testing, or user acceptance testing).</li> 
   <li><strong>Publish test environment</strong><br /> Primarily for testing social collaboration use cases and/or the interaction between author and multiple publishing instances.</li> 
   <li><strong>Author production environment</strong><br /> For authors to edit content.</li> 
   <li><strong>Publish production environment</strong><br /> To serve published content.</li> 
  </ul> 
  <p>Additionally the environments may vary, ranging from a single-server system running AEM and an application server, through to a highly scaled set of multi-server, multi-CPU clustered instances. We recommend that you use a separate computer for each production system and that you do not run other applications on these computers.</p> 
  <h2>Generic hardware sizing considerations</h2> 
  <p>The sections below provide guidance on how to calculate hardware requirements, taking various considerations into account. For large systems we suggest that you perform a simple set of in-house benchmark tests on a reference configuration.<br /> </p> 
  <p>Performance optimization is a fundamental task that needs to be performed before any benchmarking for a specific project can be done. Please make sure to apply the advice provided in the <a href="../../sites/deploying/using/configuring-performance.md">Performance Optimization documentation</a> before performing any benchmark tests and using their results for any hardware sizing calculations.<br /> </p> 
  <p>Hardware sizing requirements for advanced use cases need to be based on a detailed performance assessment of the project. Characteristics of advanced use cases requiring exceptional hardware resources include combinations of:</p> 
  <ul> 
   <li>high content payload / throughput<br /> </li> 
   <li>extensive use of customized code, custom workflows or 3rd party software libraries</li> 
   <li>integration with unsupported external systems</li> 
  </ul> 
  <h4>Disk Space/ Hard Drive</h4> 
  <p>The disk space required depends heavily on both the volume and type of your web application. The calculations should take into account:</p> 
  <ul> 
   <li>the quantity and size of pages, assets and other repository-stored entities such as workflows, profiles etc.</li> 
   <li>the estimated frequency of content changes and therefore the creation of content versions</li> 
   <li>the volume of DAM asset renditions that will be generated</li> 
   <li>the overall growth of content over time</li> 
  </ul> 
  <p>Disk space is continuously monitored during Online, and Offline, Revision Cleanup. Should the available disk space drop below a critical value, the process will be cancelled. The critical value is 25% of the current disk footprint of the repository and it is not configurable. It is recommended to size the disk at least two or three times larger than the repository size including the estimated growth.</p> 
  <p>Consider a setup of redundant arrays of independent disks (RAID, e.g. RAID10) for data redundancy.</p> 
  <note> 
   <p>The temporary directory of a production instance should have at least 6 GB of available space.</p> 
  </note> 
  <h4>Virtualization</h4> 
  <p>AEM runs well in virtualized environments, but there can be factors such as CPU or I/O that cannot be directly equated to physical hardware. A recommendation is to choose a higher I/O speed (in general) as this is a critical factor in most cases. Benchmarking your environment is necessary to get a precise understanding of what resources will be required.</p> 
  <h4>Parallelization of AEM Instances</h4> 
  <draft-comment color="blue" lastModifiedBy="ims-author-57F1056A4CD116590A746C15@AdobeID" lastModifiedDate="2018-01-09T07:31:49.364-0500" prevFirstName="unknown" prevLastName="unknown" type="remark"> 
   <p>From the perspective of fail-safeness it is necessary...environments;</p> 
  </draft-comment> 
  <p><strong>Fail Safeness </strong></p> 
  <p>A fail-safe website is deployed on at least two separate systems. If one system breaks down, an other system can take over and thus compensate the system failure.<br /> </p> 
  <p><strong>System resources scalability</strong></p> 
  <p>While all systems are running, an increased computational performance is available. That additional performance is not necessarily linear with the number of cluster nodes as the relationship is highly dependent on the technical environment; please see the <a href="../../sites/deploying/using/recommended-deploys.md">Cluster documentation</a> for more information.<br /> </p> 
  <p>The estimation of how many cluster nodes are necessary is based on the basic requirements and specific use-cases of the particular web project:</p> 
  <ul> 
   <li>From the perspective of fail-safeness it is necessary to determine, for all environments, how critical failure is and the failure compensation time based on how long it takes for a cluster node to recover.</li> 
   <li>For the aspect of scalability, the number of write operations is basically the most important factor; see <a href="../../managing/using/hardware-sizing-guidelines.md#authorsworkinginparallel">Authors Working in Parallel</a> for the author environment and <a href="../../managing/using/hardware-sizing-guidelines.md#socialcollaborationspecificconsiderations">Social Collaboration</a> for the publish environment. Load balancing can be established for operations that access the system solely to process read operations; see <a href="/content/help/en/experience-manager/dispatcher/user-guide">Dispatcher</a> for details.<br /> </li> 
  </ul> 
  <h2>Author environment specific calculations</h2> 
  <p>For benchmarking purposes, Adobe has developed some benchmark tests for standalone author instances.</p> 
  <ul> 
   <li><strong>Benchmark test 1<br /><br /> </strong>Calculate maximum throughput of a load profile where users perform a simple create page exercise on top of a base load of 300 existing pages all of a similar nature. The steps involved were logging in to the site, creating a page with a SWF and Image/Text, adding a tag cloud, then activating the page. 
    <ul> 
     <li><strong>Result<br /><br /> </strong>Maximum throughput for a simple page creation exercise such as above (considered as one transaction) was found to be 1730 transactions/hour.</li> 
    </ul> </li> 
   <li><strong>Benchmark test 2<br /><br /> </strong>Calculate maximum throughput when load profile has a mix of fresh page creation (10%), modification of an existing page (80%) and creation then modification of a page in succession (10%). The complexity of the pages remains the same as in the profile of benchmark test 1. Basic modification of the page is done by adding an image and modifying the text content. Again, the exercise was performed on top of a base load of 300 pages of the same complexity as defined in benchmark test 1. 
    <ul> 
     <li><strong>Result</strong><br /><br /> Maximum throughput for such a mix operation scenario was found to be 3252 transactions per hour.</li> 
    </ul> </li> 
  </ul> 
  <note> 
   <p>The throughput rate does not distinguish between transaction types within a load profile. The approach used to measure throughput ensures that a fixed proportion of each type of transaction is included in the workload.</p> 
  </note> 
  <p>The above two tests clearly highlight that the throughput varies according to the type of operation. Use the activities on your environment as a base for sizing your system. You will get better throughput with less intensive actions such as modify (which is also more common).</p> 
  <h3>Caching</h3> 
  <p>In the author environment the caching efficiency is typically much lower, because changes to the website are more frequent and also the content is highly interactive and personalized. Using the dispatcher, you can cache AEM libraries, JavaScripts, CSS files and layout images. This speeds up some aspects of the authoring process. Configuring the webserver to additionally set headers for browser caching on these resources, will reduce the number of HTTP requests and so improve the system responsiveness as experienced by the authors.<br /> </p> 
  <h3>Authors Working in Parallel</h3> 
  <p>In the author environment the number of authors that work in parallel and the load their interactions add to the system are the main limiting factors. Therefore we recommend that you scale your system based on the shared throughput of data.</p> 
  <p>For such scenarios Adobe executed benchmark tests on a two node shared-nothing cluster of author instances.</p> 
  <ul> 
   <li><strong>Benchmark test 1a</strong><br /> With an active-active shared-nothing cluster of 2 author instances, calculate the maximum throughput with a load profile where users perform a simple create page exercise on top of a base load of 300 existing pages, all of a similar nature. 
    <ul> 
     <li><strong>Result<br /> </strong>Maximum throughput for a simple page creation exercise, such as above, (considered as one transaction) is found to be 2016 transactions/hour. This is an increase of approximately 16% when compared to a standalone author instance for the same benchmark test.</li> 
    </ul> </li> 
   <li><strong>Benchmark test 2b</strong><br /> With an active-active shared-nothing cluster of 2 author instances, calculate the maximum throughput when the load profile has a mix of fresh page creation (10%), modification of an existing pages (80%) and creation and modification a page in succession (10%). The complexity of the page remains the same as in the profile of benchmark test 1. Basic modification of the page is done by adding an image and modifying the text content. Again, the exercise was performed on top of a base load of 300 pages of complexity the same as defined in benchmark test 1. 
    <ul> 
     <li><strong>Result</strong><br /> Maximum throughput for such a mixed operation scenario was found to be 6288 transactions/hour. This is an increase of approximately 93% when compared to a standalone author instance for the same benchmark test.</li> 
    </ul> </li> 
  </ul> 
  <note> 
   <p>The throughput rate does not distinguish between transaction types within a load profile. The approach used to measure throughput ensures that a fixed proportion of each type of transaction is included in the workload.</p> 
  </note> 
  <p>The above two tests clearly highlight that AEM scales well for authors who are performing basic edit operations with AEM. In general, AEM is most effective in scaling read operations.</p> 
  <p>On a typical website, most authoring happens during the project phase. After the website goes live the number of authors working in parallel usually sinks to a lower (operational mode) average. </p> 
  <p>You can calculate the number of computers (or CPUs) required for the author environment as follows: </p> 
  <p style="margin-left: 40px;"><span class="code">n = numberOfParallelAuthors / 30 </span></p> 
  <p>This formula can serve as a general guideline for scaling CPUs when authors are performing basic operations with AEM. It assumes that the system and the application are optimized. However, the formula will not hold true for advanced features such as MSM or Assets (see the sections below).</p> 
  <p>Please also see the additional comments on <a href="../../managing/using/hardware-sizing-guidelines.md#parallelizationofaeminstances">Parallelization</a> and <a href="../../sites/deploying/using/configuring-performance.md">Performance Optimization</a>.</p> 
  <h3>Hardware Recommendations</h3> 
  <p>Usually you can use the same hardware for your author environment as is recommended for your publishing environment. Typically, website traffic is much lower on authoring systems, but cache efficiency is lower too. However, the fundamental factor here is the number of authors working in parallel, together with the type of actions being made to the system. In general AEM clustering (of the author environment) is most effective at scaling read operations; in other words, a AEM cluster scales well with authors who are performing basic edit operations.<br /> </p> 
  <p>The benchmark tests at Adobe were performed using the RedHat 5.5 operating system, running on a Hewlett-Packard ProLiant DL380 G5 hardware platform with the following configuration:</p> 
  <ul> 
   <li>Two Quad Core Intel Xeon X5450 CPUs at 3.00GHz</li> 
   <li>8 GB RAM<br /> </li> 
   <li>Broadcom NetXtreme II BCM5708 Gigabit Ethernet</li> 
   <li>HP Smart Array RAID Controller, 256 MB cache</li> 
   <li>Two 146 GB 10,000 RPM SAS disks configured as a RAID0 stripe set</li> 
   <li>SPEC CINT2006 Rate benchmark score is 110</li> 
  </ul> 
  <p>AEM instances were running with a minimum heap size of 256M, a maximum heap size of 1024M.</p> 
  <h2>Publish environment specific calculations</h2> 
  <h3>Caching efficiency and traffic</h3> 
  <p>Cache efficiency is crucial for the website speed. The following table shows how many pages per second an optimized AEM system can handle using a reverse proxy, such as the dispatcher:</p> 
  <table border="1" cellpadding="3" cellspacing="0" width="100%"> 
   <tbody> 
    <tr> 
     <td>Cache ratio</td> 
     <td>Pages/s (peak)</td> 
     <td>Million pages/day (average)</td> 
    </tr> 
    <tr> 
     <td>100%</td> 
     <td>1000-2000</td> 
     <td>35-70</td> 
    </tr> 
    <tr> 
     <td>99%</td> 
     <td>910</td> 
     <td>32</td> 
    </tr> 
    <tr> 
     <td>95%</td> 
     <td>690</td> 
     <td>25</td> 
    </tr> 
    <tr> 
     <td>90%</td> 
     <td>520</td> 
     <td>18</td> 
    </tr> 
    <tr> 
     <td>60%</td> 
     <td>220</td> 
     <td>8</td> 
    </tr> 
    <tr> 
     <td>0%</td> 
     <td>100</td> 
     <td>3.5</td> 
    </tr> 
   </tbody> 
  </table> 
  <note> 
   <p>Disclaimer: The numbers are based on a default hardware configuration and may vary depending on the specific hardware used.</p> 
  </note> 
  <p>The cache ratio is the percentage of pages that the dispatcher can return without having to access AEM. 100% indicates that the dispatcher answers all requests, 0% means that AEM computes every single page.</p> 
  <h3>Complexity of templates and applications</h3> 
  <p>If you use complex templates AEM will need more time to render a page. Pages taken from the cache are not affected by this, but the page size is still relevant when considering the overall response time. Rendering a complex page can easily take ten times longer than rendering a simple page.</p> 
  <h3>Formula</h3> 
  <p>Using the following formula, you can compute an estimate for the overall complexity of your AEM solution: </p> 
  <p><span class="code">complexity = applicationComplexity + ((1-cacheRatio) * templateComplexity)</span><br /> </p> 
  <p>Based on the complexity, you can determine the number of servers (or CPU cores) you need for the publish environment as follows: </p> 
  <p style="margin-left: 40px;"><span class="code">n = (traffic * complexity / 1000 ) * activations</span></p> 
  <p>The variables in the equation are as follows:</p> 
  <table border="1" cellpadding="3" cellspacing="0" width="100%"> 
   <tbody> 
    <tr> 
     <td>traffic</td> 
     <td>The expected peak traffic per second. You can estimate this as the number of page hits per day, divided by 35’000.</td> 
    </tr> 
    <tr> 
     <td>applicationComplexity</td> 
     <td><p>Use 1 for a simple application, 2 for a complex application, or a value in-between:</p> 
      <ul> 
       <li>1 - a fully anonymous, content orientated site</li> 
       <li>1.1 - a fully anonymous, content orientated site with client-side/Target personalization</li> 
       <li>1.5 - a content-orientated site with both anonymous and logged in sections, client-side/Target personalization</li> 
       <li>1.7 - for a content-orientated site with both anonymous and logged in sections, client-side/Target personalization and some user-generated content</li> 
       <li>2 - where the entire site requires log in, with extensive use of user-generated content and a variety of personalization techniques</li> 
      </ul> </td> 
    </tr> 
    <tr> 
     <td>cacheRatio</td> 
     <td>The percentage of pages that come out of the dispatcher cache. Use 1 if all pages come from the cache, or 0 if every page is computed by AEM.</td> 
    </tr> 
    <tr> 
     <td>templateComplexity</td> 
     <td>Use a value between 1 and 10 to indicate the complexity of your templates. Higher numbers indicate more complex templates, using the value 1 for sites with an average of 10 components per page, the value 5 for a page average of 40 components and 10 for an average of over 100 components.</td> 
    </tr> 
    <tr> 
     <td>activations</td> 
     <td>Number of average activations (replication of average sized pages and assets from the author to the publish tier) per hour divided by x, where x is the number of activations done on a system without performance side effects to other tasks processed by the system. You can also predefine a pessimistic initial value like x = 100.<br /> </td> 
    </tr> 
   </tbody> 
  </table> 
  <p>If you have a more complex website, you also need more powerful web servers so that AEM can answer a request in an acceptable time. </p> 
  <ul> 
   <li>Complexity below 4:<br /> • 1024 MB JVM RAM*<br /> • Low to mid-performance CPU</li> 
   <li>Complexity between 4 and 8:<br /> • 2048 MB JVM RAM*<br /> • Mid to high-performance CPU</li> 
   <li>Complexity above 8:<br /> • 4096 MB JVM RAM*<br /> • High to high-end-performance CPU</li> 
  </ul> 
  <note> 
   <p>* Reserve enough RAM for your operating system in addition to the memory required for your JVM.</p> 
  </note> 
  <h2>Additional use-case specific calculations</h2> 
  <p>In addition to the calculation for a default web application, you may need to consider specific factors for the following use-cases. The calculated values are to be added to the default calculation.</p> 
  <h3>Assets-specific considerations</h3> 
  <p>Extensive processing of digital assets requires optimized hardware resources, the most relevant factors are image size and the peak throughput of processed images.</p> 
  <p>Allocate at least 16GB of heap and configure the DAM Update Asset workflow to use the <a href="../../assets/using/camera-raw.md">Camera Raw package</a> for the ingestion of raw images.</p> 
  <note> 
   <p>A higher throughput of images means that the computing resources need to be able to keep pace with system I/O and vice versa. For example, if workflows are launched by the import of images, then uploading many images via WebDAV could cause a backlog of workflows.</p> 
   <p>The use of separate disks for TarPM, data store and search index can help to optimize the system I/O behavior (however, usually it makes sense to keep the search index locally).<br /> </p> 
  </note> 
  <note> 
   <p>See also the <a href="../../sites/deploying/using/assets-performance-sizing.md">Assets Performance Guide</a>.</p> 
  </note> 
  <h3>Multi-Site Manager</h3> 
  <p>The resource consumption when using AEM MSM on an authoring environment depends heavily on the specific use cases. Basic factors are:</p> 
  <ul> 
   <li>Number of Live-Copies</li> 
   <li>Periodicity of rollouts</li> 
   <li>Content tree size to be rolled out</li> 
   <li>Connected functionality of the rollout actions</li> 
  </ul> 
  <p>Testing the planned use case with a representative content excerpt can help you improve your understanding of the resource consumption. If you extrapolate the results with the planned throughput, you can assess the additional resources required for the AEM MSM.<br /> </p> 
  <p>Please also take into account, that authors working in parallel will perceive performance side effects if AEM MSM use cases consume more resources than planned.</p> 
  <h3>AEM Communities sizing considerations</h3> 
  <p>AEM sites that include AEM Communities features (community sites) experience a high level of interaction from site visitors (members) in the publish environment. </p> 
  <p>The sizing considerations for a community site depends on the anticipated interaction by community members and whether optimal performance for page content is of higher importance.</p> 
  <p>User generated content (UGC) submitted members is stored separately from page content. While the AEM platform uses a node store that replicates site content from author to publish, AEM Communities uses a single, common store for UGC that is never replicated. </p> 
  <p>For the UGC store, it is necessary to choose a storage resource provider (SRP), which influences the chosen deployment.<br /> See </p> 
  <ul> 
   <li><a href="../../communities/using/working-with-srp.md">Community Content Storage</a></li> 
   <li><a href="../../communities/using/topologies.md">Recommended Topologies for Communities</a></li> 
  </ul> 
 </body> 
</html>