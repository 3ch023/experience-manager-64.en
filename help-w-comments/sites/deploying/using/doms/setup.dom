<?xml version="1.1" encoding="UTF-8" standalone="yes"?> 
<html> 
 <head> 
  <meta content="audience:deploying" name="primaryAudienceTag" /> 
  <meta content="" name="jcr:baseVersion" /> 
  <meta content="2018-04-03T08:46:04.243-0400" name="lastPublishExternalDate" /> 
  <meta content="/etc/designs/help" name="cq:designPath" /> 
  <meta content="false" name="isReadyForLocalization" /> 
  <meta content="Guillaume Carlino" name="contentOwner" /> 
  <meta content="Geometrixx Outdoors Data Loading" name="seoTitle" /> 
  <meta content="/content/docs/en/aem/6-3/deploy/ecommerce/ibm-websphere/setup" name="qaNotes" /> 
  <meta content="true" name="jcr:isCheckedOut" /> 
  <meta content="2017-10-31T16:17:35.669-0400" name="firstPublishExternalDate" /> 
  <meta content="/content/help/en/experience-manager/6-4/sites/deploying/morehelp/e-commerce;/content/help/en/experience-manager/6-4/sites/deploying/morehelp/e-commerce" name="moreHelpPaths" /> 
  <meta content="2017-12-01T19:06:10.335-0500" name="jcr:created" /> 
  <meta content="carlino" name="cq:lastReplicatedBy" /> 
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/SITES" name="primaryProductTag" /> 
  <meta content="" name="jcr:primaryType" /> 
  <meta content="d7178430-fb4e-432e-b94b-fa6b33009cbb" name="jcr:predecessors" /> 
  <meta content="2017-10-12T21:46:58.665-0400" name="mwpw_migration_script_version" /> 
  <meta content="2018-04-03T08:46:05.288-0400" name="cq:lastReplicated" /> 
  <meta content="2018-04-30T03:26:59.595-0400" name="locHandOffDate" /> 
  <meta content="admin" name="jcr:createdBy" /> 
  <meta content="carlino" name="cq:lastModifiedBy" /> 
  <meta content="en_us" name="jcr:language" /> 
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/SITES;topic_tags:e-commerce;content_type:reference" name="cq:tags" /> 
  <meta content="Geometrixx Outdoors Data Loading" name="navTitle" /> 
  <meta content="help/components/pages/article-3" name="sling:resourceType" /> 
  <meta content="carlino@adobe.com" name="lr_lastReplicatedBy" /> 
  <meta content="" name="jcr:versionHistory" /> 
  <meta content="2017-10-12T21:46:00.000-0400" name="qaDate" /> 
  <meta content="/apps/help/templates/article-3" name="cq:template" /> 
  <meta content="Setup the Geometrixx Store and load the Geometrixx Outdoors product data into WebSphere Commerce." name="seoDescription" /> 
  <meta content="IBM Websphere Setup" name="jcr:title" /> 
  <meta content="2018-04-30T03:26:59.596-0400" name="cq:lastModified" /> 
  <meta content="Activate" name="cq:lastReplicationAction" /> 
  <meta content="61285938-11b2-4d04-b363-18d26e75052b" name="jcr:uuid" /> 
  <meta content="2018-04-03T08:46:04.243-0400" name="publishExternalDate" /> 
  <meta content="mix:versionable" name="jcr:mixinTypes" /> 
  <meta content="https://helpx.adobe.com/experience-manager/6-4/sites/deploying/using/setup.html" name="publishExternalURL" /> 
  <meta content="2018-04-03T08:46:04.243-0400" name="topicBrowsingSortDate" /> 
 </head> 
 <body> 
  <p>The procedures on this page need to be performed in order to setup the Geometrixx Store and load the Geometrixx Outdoors product data into WebSphere Commerce.</p> 
  <note> 
   <p>The following instructions are intended for use with IBM WebSphere Commerce developer toolkit profile only. Based on your WebSphere Commerce setup, they might be different.</p> 
  </note> 
  <p>The Geometrixx Outdoors product data .csv file was used as base data. It contains products and variants in english and gaelic . The IDs used in that description might change.</p> 
  <note> 
   <p>Names and identifiers used on this page (for example <strong>GeometrixxCAS) </strong>should not be changed, otherwise it will require further changes in the configuration files.</p> 
  </note> 
  <h3>Open Administration Console</h3> 
  <ol> 
   <li><p>Select Store Archives &amp;gt; Publish.</p> </li> 
   <li><p>Filter by Extended sites.</p> </li> 
   <li><p>Select <span class="code">ExtendedSitesCatalogAssetStore-FEP.sar</span>.</p> </li> 
   <li><p>Update directory to <strong>GeometrixxCAS</strong> and store identifier to <strong>GeometrixxCAS</strong>.</p></li> 
   <li><p>Select <strong>Extended Sites Organization</strong>.</p> </li> 
   <li><p>Set inventory to Non-ATP.</p> </li> 
   <li><p>Set sample data to <strong>None</strong>.</p> </li> 
   <li><p>Click <strong>Next</strong>.</p> </li> 
   <li><p>Click<strong> Finish</strong>.</p> </li> 
  </ol> 
  <p>To complete the setup of the administration console:</p> 
  <ol> 
   <li><p>Select Store Archives &amp;gt; Publish.</p> </li> 
   <li><p>Select <span class="code">Aurora.sar</span>.</p> </li> 
   <li><p>Select <strong>Publish an asset store...</strong> as the business model.</p> </li> 
   <li><p>Set store type to <strong>Consumer Direct (MPS)</strong>.</p> </li> 
   <li><p>Update <strong>directory</strong> and <strong>store identifier</strong>.</p> </li> 
   <li><p>Select <strong>Extended Sites Organization</strong>.</p> </li> 
   <li><p>Select new catalog asset store created before (<strong>GeometrixxCAS</strong>).</p> </li> 
   <li><p>Set inventory to Non-ATP.</p> </li> 
   <li><p>Click <strong>Next</strong>.</p> </li> 
   <li><p>Click <strong>Finish</strong>.</p> </li> 
  </ol> 
  <h3>Open Accelerator</h3> 
  <ol> 
   <li><p>Select Extended Sites Hub as the store.</p> </li> 
   <li><p>Select Extended Sites -&amp;gt; New Store</p> </li> 
   <li><p>Provide name, default currency and email<br /> - Store Unique Identifier: Geometrixx<br /> - Store Display Name: Geometrixx<br /> - Store Short Description: Geometrixx</p> </li> 
   <li><p>Select <strong>Extended Sites Seller Organization</strong> for Store Organization.</p> </li> 
   <li><p>Select <strong>Next</strong>.</p> </li> 
   <li><p>Select new storefront asset store store created above and click <strong>Next</strong>.</p> </li> 
   <li><p>Select new catalog asset store <strong>GeometrixxCAS</strong> and click <strong>Next</strong>.</p> </li> 
   <li><p>Select payment methods and click <strong>Next</strong>.</p> </li> 
   <li><p>Click <strong>Finish</strong>.</p> </li> 
  </ol> 
  <p>You need to do these two last steps for the accelerator:</p> 
  <ol> 
   <li><p>Select Extended Sites &amp;gt; View Stores.</p> </li> 
   <li><p>Select new extended site and click <strong>Open</strong>.</p> </li> 
  </ol> 
  <h3>Open Management Center</h3> 
  <ol> 
   <li><p>Open Store Management tool.</p></li> 
   <li><p>Select Stores folder.</p> </li> 
   <li><p>Open the new catalog asset store.</p> </li> 
   <li><p>Add French as a supported language.</p> </li> 
   <li><p>Open the new storefront asset store.</p> </li> 
   <li><p>Add French as a supported language.</p> </li> 
   <li><p>Select Stores folder.</p> </li> 
   <li><p>Open new extended site store.</p> </li> 
   <li><p>Add French as a supported language.</p> 
    <note> 
     <p>French is used for Gaelic which is currently not supported by Websphere Commerce.</p> 
    </note></li> 
  </ol> 
  <h3>Refresh Server</h3> 
  <ol> 
   <li><p>Open Websphere Commerce Toolkit.</p> </li> 
   <li><p>Stop Websphere Commerce Server.</p> </li> 
   <li><p>Start Websphere Commerce Server.</p> </li> 
   <li><p>Publish Websphere Commerce Server.</p> </li> 
  </ol> 
  <h3>Open Management Center</h3> 
  <ol> 
   <li><p>Open Catalogs tool.</p> </li> 
   <li><p>Select new catalog asset store.</p> </li> 
   <li><p>Select new Catalog Upload.</p> </li> 
   <li><p>Select catalog.zip and Save. You can download it form here:</p> 
    <div> 
     <p></p> 
     <p><a alt="catalog.zip" href="assets/catalog.zip">Get File</a></p> 
    </div></li> 
   <li><p>Wait for load to complete.</p> </li> 
  </ol> 
  <h3>Create Search Index</h3> 
  <ol> 
   <li><p>Open Database access JSP.</p> </li> 
   <li><p>Run the following command:</p> 
    <codeblock class="syntax js">
      select&amp;nbsp;*&amp;nbsp;from&amp;nbsp;catalog; 
    </codeblock></li> 
   <li><p>Note the new master catalog ID.</p> </li> 
   <li><p>Open the command prompt.</p> </li> 
   <li><p>Run the following commands:</p> 
    <codeblock class="syntax shell">
      cd&amp;nbsp;c:\ibm\wcde_ent70\components\foundation\subcomponents\search\bin!!discoiqbr!!!!discoiqbr!!setupSearchIndex.bat&amp;nbsp;-masterCatalogId&amp;nbsp;&lt;master&amp;nbsp;catalog&amp;nbsp;ID&gt;&amp;nbsp;-dbuser&amp;nbsp;&lt;username&gt;&amp;nbsp;-dbuserpwd&amp;nbsp;&lt;password&gt;&amp;nbsp;-dbauser&amp;nbsp;&lt;username&gt;&amp;nbsp;-dbauserpwd&amp;nbsp; 
    </codeblock> 
    <note> 
     <p>Replace <span class="code">&amp;lt;master catalog ID&amp;gt;</span> with your own master catalog ID and replace <span class="code">&amp;lt;username&amp;gt;</span> and <span class="code">&amp;lt;password&amp;gt;</span> with your database username and password.</p> 
    </note></li> 
   <li><p>Stop and restart Search server.</p> </li> 
   <li><p>Run the following commands:</p> 
    <codeblock class="syntax shell">
      cd&amp;nbsp;c:\ibm\wcde_ent70\bin!!discoiqbr!!!!discoiqbr!!di-preprocess.bat&amp;nbsp;C:\IBM\WCDE_ENT70\search\pre-processConfig\MC_10101\DB2!!discoiqbr!!!!discoiqbr!!di-buildindex.bat&amp;nbsp;-masterCatalogId&amp;nbsp;&lt;master&amp;nbsp;catalog&amp;nbsp;ID&gt; 
    </codeblock> 
    <note> 
     <p>Replace <span class="code">&amp;lt;master catalog ID&amp;gt;</span> with your own master catalog ID.</p> 
    </note></li> 
  </ol> 
  <h3>Load Inventory</h3> 
  <ol> 
   <li><p>Extract contents of the inventory zip. You can download it:</p> 
    <div> 
     <p></p> 
     <p><a alt="Inventory.zip" href="assets/inventory.zip">Get File</a></p> 
    </div></li> 
   <li><p>Unzip to <span class="code">&amp;lt;WCinstallDirectory&amp;gt;\samples\DataLoad\Inventory\Non-ATP</span>.</p> </li> 
   <li><p>In the <span class="code">&amp;lt;WCinstallDirectory&amp;gt;\samples\DataLoad\Inventory directory, configure the wc-dataload-env.xml</span> to connect to your database.</p> </li> 
  </ol> 
  <p>For example, set the <span class="code">storeIdentifier</span> and <span class="code">fulfillmentCenterName</span> to the new eSite created and catalog identifier to the new catalog asset store.</p> 
  <codeblock class="syntax shell">
    &lt;_config:BusinessContext&amp;nbsp;storeIdentifier="&amp;nbsp;Geometrixx&amp;nbsp;"&amp;nbsp;catalogIdentifier="&amp;nbsp;GeometrixxCAS"&amp;nbsp;languageId="-1"&amp;nbsp;currency="USD"&gt;!!discoiqbr!!&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;_config:ContextData&amp;nbsp;name="fulfillmentCenterName"&gt;Geometrixx&lt;/_config:ContextData&gt;!!discoiqbr!!&lt;/_config:BusinessContext&gt; 
  </codeblock> 
  <ol> 
   <li><p>Configure the appropriate <span class="code">&amp;lt;_config:Database</span> section to the database for your environment. It should point to DB2, Oracle or local database for connection.</p> </li> 
   <li><p>Open the <span class="code">&amp;lt;WCinstallDirectory&amp;gt;\samples\DataLoad\Inventory\Non-ATP\non_ATP_inventory_for_esite.csv</span> file and update the <span class="code">CurrentStoreIdentifier</span>, <span class="code">CatEntryStoreIdentifier</span> and <span class="code">FulfillmentCenterName</span> with the same values as above.</p> </li> 
   <li><p>Open command prompt.</p> 
    <codeblock class="syntax shell">
      cd&amp;nbsp;c:\ibm\wcde_ent70\bin!!discoiqbr!!!!discoiqbr!!dataload&amp;nbsp;&lt;WCinstallDirectory&gt;\samples\DataLoad\Inventory\Non-ATP\wc-dataload-for-esite.xml 
    </codeblock></li> 
  </ol> 
  <h3>Open Administration Console</h3> 
  <ol> 
   <li><p>Go to configuration.</p> </li> 
   <li><p>Refresh registry.</p> </li> 
  </ol> 
 </body> 
</html>