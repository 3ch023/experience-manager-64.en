<?xml version="1.1" encoding="UTF-8" standalone="yes"?>
<html>
 <head>
  <meta content="2018-04-03T09:00:57.759-0400" name="cq:lastReplicated" />
  <meta content="admin" name="jcr:createdBy" />
  <meta content="" name="jcr:baseVersion" />
  <meta content="User" name="contentOwner" />
  <meta content="mix:versionable" name="jcr:mixinTypes" />
  <meta content="wmyersta@adobe.com" name="lr_lastReplicatedBy" />
  <meta content="false" name="isReadyForLocalization" />
  <meta content="2017-10-12T21:46:58.665-0400" name="mwpw_migration_script_version" />
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/SITES;content_type:reference;topic_tags:best-practices" name="cq:tags" />
  <meta content="" name="jcr:versionHistory" />
  <meta content="JCR Integration" name="seoTitle" />
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/SITES" name="primaryProductTag" />
  <meta content="" name="jcr:primaryType" />
  <meta content="JCR Integration" name="jcr:title" />
  <meta content="fff82578-ade3-4896-80d2-c7fb0dd1f4f0" name="jcr:uuid" />
  <meta content="/etc/designs/help" name="cq:designPath" />
  <meta content="carlino" name="cq:lastReplicatedBy" />
  <meta content="2017-10-31T16:16:30.859-0400" name="topicBrowsingSortDate" />
  <meta content="2017-12-01T19:05:07.632-0500" name="jcr:created" />
  <meta content="2018-05-08T12:44:14.530-0400" name="locHandOffDate" />
  <meta content="/content/docs/en/aem/6-3/develop/best-practices/jcr-integration" name="qaNotes" />
  <meta content="62641388-aa7a-4abe-9621-1a698d567daa" name="jcr:predecessors" />
  <meta content="audience:developing" name="primaryAudienceTag" />
  <meta content="2018-05-08T12:44:14.531-0400" name="cq:lastModified" />
  <meta content="true" name="jcr:isCheckedOut" />
  <meta content="2017-10-31T16:16:30.859-0400" name="lastPublishExternalDate" />
  <meta content="/apps/help/templates/article-3" name="cq:template" />
  <meta content="2017-10-12T21:46:00.000-0400" name="qaDate" />
  <meta content="https://helpx.adobe.com/experience-manager/6-3/sites/developing/using/jcr-integration.html" name="publishExternalURL" />
  <meta content="help/components/pages/article-3" name="sling:resourceType" />
  <meta content="Tips for when you must integrate at the JCR level" name="seoDescription" />
  <meta content="carlino" name="cq:lastModifiedBy" />
  <meta content="/content/help/en/experience-manager/6-4/sites/developing/morehelp/best-practices;/content/help/en/experience-manager/6-4/sites/developing/morehelp/best-practices" name="moreHelpPaths" />
  <meta content="Activate" name="cq:lastReplicationAction" />
  <meta content="2017-10-31T16:16:30.859-0400" name="firstPublishExternalDate" />
  <meta content="2017-10-31T16:16:30.859-0400" name="publishExternalDate" />
  <meta content="en_us" name="jcr:language" />
 </head>
 <body>
  <h3>Prefer the Sling Resource API to JCR API</h3>
  <p>The Sling API works at a higher, more abstract level than the JCR API. This allows your code to be more reusable and independent of the underlying storage. This makes it easier to include external virtual data via the ResourceProvider mechanism if needed.</p> 
  <h3>Avoid queries wherever possible</h3>
  <p>It is always faster to navigate the repository to retrieve data than it is to run a query. There are cases in which queries will be necessary, such as an end user query or needing to find structured content from across the entire repository, but for all other cases, it is preferred to navigate to the necessary nodes. Queries should always be avoided in render logic such as navigation components, a “recent items list”, counts of items, etc. In these cases, it is better to walk through the hierarchy or pre-cache the result so that it can be used directly when rendered.</p> 
  <h3>Restrict the scope of JCR observation</h3>
  <p>When listening for events in the repository, it is important to narrow the scope as much as possible. For example, it is much better to listen for an event at /etc/mycompany than to listen at /etc. Never listen for events at the repository root. Additionally, make sure that the callback methods execute as quickly as possible when there is nothing for them to do.</p> 
  <h3>Eliminate use of JCR admin access</h3>
  <p>As of AEM 6, login Administrative has been deprecated as has getting an administrative session from the ResourceResolverFactory. Rather, service accounts should be created for the back office operations that would require this type of access and the ResourceResolverFactory can be used to get a ResourceResolver for this account. For more information, see <a href="http://www.wemblog.com/2014/08/how-to-use-sessions-and-resource.html">http://www.wemblog.com/2014/08/how-to-use-sessions-and-resource.html</a>.</p> 
 </body>
</html>