<?xml version="1.1" encoding="UTF-8" standalone="yes"?> 
<html> 
 <head> 
  <meta content="2018-05-08T12:43:12.951-0400" name="locHandOffDate" /> 
  <meta content="true" name="jcr:isCheckedOut" /> 
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/SITES;topic_tags:extending-aem;content_type:reference" name="cq:tags" /> 
  <meta content="2018-05-08T12:43:12.953-0400" name="cq:lastModified" /> 
  <meta content="/etc/designs/help" name="cq:designPath" /> 
  <meta content="2ca6b44f-d25b-42c7-bf0e-c24d7c129697" name="jcr:uuid" /> 
  <meta content="admin" name="jcr:createdBy" /> 
  <meta content="d1d9f6da-cea8-407c-840e-76ec76a76568" name="jcr:predecessors" /> 
  <meta content="2017-10-31T16:16:46.948-0400" name="publishExternalDate" /> 
  <meta content="/content/docs/en/aem/6-3/develop/extending/extending-adobe-campaign/custom-template-campaign" name="qaNotes" /> 
  <meta content="carlino" name="cq:lastModifiedBy" /> 
  <meta content="2017-10-31T16:16:46.948-0400" name="lastPublishExternalDate" /> 
  <meta content="2018-10-27T23:47:30.114-0400" name="cq:lastReplicated" /> 
  <meta content="Creating Custom AEM Page Template with Adobe Campaign Form Components" name="jcr:title" /> 
  <meta content="help/components/pages/article-3" name="sling:resourceType" /> 
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/SITES" name="primaryProductTag" /> 
  <meta content="2017-10-12T21:46:58.665-0400" name="qaDate" /> 
  <meta content="Creating Custom AEM Page Template with Adobe Campaign Form Components" name="seoTitle" /> 
  <meta content="https://helpx.adobe.com/experience-manager/6-3/sites/developing/using/extending-campaign-custom-template.html" name="publishExternalURL" /> 
  <meta content="Build a custom page template that uses Adobe Campaign Form components" name="seoDescription" /> 
  <meta content="2017-10-31T16:16:46.948-0400" name="firstPublishExternalDate" /> 
  <meta content="audience:developing" name="primaryAudienceTag" /> 
  <meta content="en_us" name="jcr:language" /> 
  <meta content="/apps/help/templates/article-3" name="cq:template" /> 
  <meta content="jsyal" name="cq:lastReplicatedBy" /> 
  <meta content="/content/help/en/experience-manager/6-4/sites/developing/morehelp/extending-aem;/content/help/en/experience-manager/6-4/sites/developing/morehelp/extending-aem" name="moreHelpPaths" /> 
  <meta content="" name="jcr:baseVersion" /> 
  <meta content="Activate" name="cq:lastReplicationAction" /> 
  <meta content="false" name="isReadyForLocalization" /> 
  <meta content="mix:versionable" name="jcr:mixinTypes" /> 
  <meta content="User" name="contentOwner" /> 
  <meta content="2017-10-31T16:16:46.948-0400" name="topicBrowsingSortDate" /> 
  <meta content="" name="jcr:primaryType" /> 
  <meta content="2017-12-01T19:04:36.351-0500" name="jcr:created" /> 
  <meta content="" name="jcr:versionHistory" /> 
  <meta content="wmyersta@adobe.com" name="lr_lastReplicatedBy" /> 
  <meta content="2017-10-12T21:46:58.665-0400" name="mwpw_migration_script_version" /> 
 </head> 
 <body> 
  <p>This page explains how to build a custom page template that uses <a href="../../../sites/authoring/using/adobe-campaign-components.md">Adobe Campaign Form</a> components by examining how the Geometrixx-outdoors template (<span class="code">/apps/geometrixx-outdoors/components/page_campaign_profile</span>) is implemented, and points you to important information you may need when creating your own custom template.</p> 
  <note> 
   <p><a href="../../../sites/developing/using/we-retail.md#weretail">Email and form samples are only available in Geometrixx</a>. Please download sample Geometrixx content from Package Share. </p> 
  </note> 
  <p>To create a custom AEM page template using Adobe Campaign Form components, make sure you have the following:</p> 
  <ol> 
   <li> <p>Make sure the page-component inherits from <span class="code">mcm/campaign/components/profile</span>.</p> <p>This is required for the servlets to get and save info </p> 
    <ul> 
     <li><span class="code">com.day.cq.mcm.campaign.servlets.TemplateListServlet</span></li> 
     <li><span class="code">com.day.cq.mcm.campaign.servlets.SaveProfileServlet</span></li> 
    </ul> <img imageRotate="0" src="assets/chlimage_1-219.png" /></li> 
   <li> <p>When you look at the clientcontext settings (<span class="code">/etc/designs/geometrixx-outdoors/jcr:content/page_campaign_profile</span>) you see the following settings:</p> 
    <ul> 
     <li>ClientContext points to <span class="code">/etc/clientcontext/campaign</span></li> 
     <li>There is also an extra <i>config</i> node.</li> 
    </ul> <img imageRotate="0" src="assets/chlimage_1-220.png" /></li> 
   <li> <p>In <strong>head.jsp</strong>, you see the following lines that use the <strong>clientcontext-config</strong> and the <strong>cloudservice-hook</strong>:</p> 
    <codeblock class="syntax js">
      &lt;cq:include&amp;nbsp;path="config"&amp;nbsp;resourceType="cq/personalization/components/clientcontext_optimized/config"/&gt;!!discoiqbr!!&lt;sling:include&amp;nbsp;path="contexthub"&amp;nbsp;resourceType="granite/contexthub/components/contexthub"/&gt;!!discoiqbr!!&lt;cq:include&amp;nbsp;script="/libs/cq/cloudserviceconfigs/components/servicelibs/servicelibs.jsp"/&gt; 
    </codeblock></li> 
   <li> <p>In <strong>body.jsp</strong>, the cloud services are loaded at the bottom of the page:</p> 
    <codeblock class="syntax js">
      &lt;cq:include&amp;nbsp;path="cloudservices"&amp;nbsp;resourceType="cq/cloudserviceconfigs/components/servicecomponents"/&gt; 
    </codeblock></li> 
   <li> <p>To be able to select an Adobe Campaign template the page-properties are extended with the <strong>Campaign</strong> tab:</p>  <img imageRotate="0" src="assets/chlimage_1-221.png" /></li> 
   <li><p><strong>Template settings</strong>. </p> <p>In the template (<span class="code">/apps/geometrixx-outdoors/templates/campaign_profile/jcr:content</span>) you see the following default values:</p> 
    <table border="1" cellpadding="1" cellspacing="0" width="100%"> 
     <tbody> 
      <tr> 
       <td><strong>acMapping</strong></td> 
       <td>mapRecipient (for Adobe Campaign 6.1), profile (for Adobe Campaign Standard)</td> 
      </tr> 
      <tr> 
       <td><strong>acTemplateId</strong></td> 
       <td>mail</td> 
      </tr> 
     </tbody> 
    </table> <img imageRotate="0" src="assets/chlimage_1-222.png" /></li> 
  </ol> 
 </body> 
</html>