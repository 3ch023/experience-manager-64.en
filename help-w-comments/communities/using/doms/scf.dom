<?xml version="1.1" encoding="UTF-8" standalone="yes"?> 
<html> 
 <head> 
  <meta content="Social Component Framework" name="seoTitle" /> 
  <meta content="admin" name="jcr:createdBy" /> 
  <meta content="2018-05-17T05:53:32.068-0400" name="locHandOffDate" /> 
  <meta content="" name="jcr:versionHistory" /> 
  <meta content="" name="jcr:baseVersion" /> 
  <meta content="carlino@adobe.com" name="lr_lastReplicatedBy" /> 
  <meta content="2017-10-12T21:46:58.665-0400" name="mwpw_migration_script_version" /> 
  <meta content="/content/help/en/experience-manager/6-4/communities/morehelp/developing;/content/help/en/experience-manager/6-4/communities/morehelp/developing" name="moreHelpPaths" /> 
  <meta content="Activate" name="cq:lastReplicationAction" /> 
  <meta content="The social component framework (SCF) simplifies the process of configuring, customizing, and extending Communities components" name="seoDescription" /> 
  <meta content="2018-04-03T07:55:03.775-0400" name="lastPublishExternalDate" /> 
  <meta content="/content/docs/en/aem/6-3/develop/communities/scf" name="qaNotes" /> 
  <meta content="Social Component Framework" name="jcr:title" /> 
  <meta content="mix:lockable;mix:versionable" name="jcr:mixinTypes" /> 
  <meta content="Social Component Framework" name="navTitle" /> 
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/COMMUNITIES" name="primaryProductTag" /> 
  <meta content="2017-10-12T21:46:58.665-0400" name="qaDate" /> 
  <meta content="carlino" name="cq:lastReplicatedBy" /> 
  <meta content="true" name="jcr:isCheckedOut" /> 
  <meta content="msm-service" name="contentOwner" /> 
  <meta content="false" name="isReadyForLocalization" /> 
  <meta content="/etc/designs/help" name="cq:designPath" /> 
  <meta content="2018-04-03T07:55:05.584-0400" name="cq:lastReplicated" /> 
  <meta content="https://helpx.adobe.com/experience-manager/6-4/communities/using/scf.html" name="publishExternalURL" /> 
  <meta content="2018-04-03T07:55:03.775-0400" name="topicBrowsingSortDate" /> 
  <meta content="9bf983f9-bd69-423e-acc0-ae60706dff80" name="jcr:uuid" /> 
  <meta content="" name="jcr:primaryType" /> 
  <meta content="carlino" name="cq:lastModifiedBy" /> 
  <meta content="/apps/help/templates/article-3" name="cq:template" /> 
  <meta content="en_us" name="jcr:language" /> 
  <meta content="help/components/pages/article-3" name="sling:resourceType" /> 
  <meta content="2018-04-03T07:55:03.775-0400" name="publishExternalDate" /> 
  <meta content="2017-12-01T19:01:17.246-0500" name="jcr:created" /> 
  <meta content="products:SG_EXPERIENCEMANAGER/6.4/COMMUNITIES;topic_tags:developing;content_type:reference" name="cq:tags" /> 
  <meta content="2018-05-17T05:53:32.069-0400" name="cq:lastModified" /> 
  <meta content="2017-10-31T16:33:20.543-0400" name="firstPublishExternalDate" /> 
  <meta content="18992866-9691-462b-b355-fb3b0a1e7376" name="jcr:predecessors" /> 
 </head> 
 <body> 
  <p>The social component framework (SCF) simplifies the process of configuring, customizing, and extending Communities components on both server-side and client-side.</p> 
  <p>The benefits of the framework are that it is ...</p> 
  <ul> 
   <li>functional : out-of-the-box ease of integration with little or no customization for 80% of use cases</li> 
   <li>skinnable : consistent use of HTML attributes for CSS styling</li> 
   <li>extensible : component implementation is object-oriented and light on business logic - easy to add incremental business login on server</li> 
   <li>flexible : simple logic-less javascript templates that are easily overlayed and customized</li> 
   <li>accessible : the HTTP API supports posting from any client, including mobile apps</li> 
   <li>portable : integrate/embed into any webpage built on any technology</li> 
  </ul> 
  <p>Explore on an author or publish instance using the interactive <a href="../../communities/using/components-guide.md">Community Components guide</a>.</p> 
  <h2>Overview</h2> 
  <p>In SCF, a component is comprised of a SocialComponent POJO, a Handlebars JS Template (to render the component), and CSS (to style the component). </p> 
  <p>A Handlebars JS Template may extend the model/view JS components to handle user interaction with the component on the client.</p> 
  <p>If a component needs to support modification of data, the implementation of the SocialComponent API can be written to support edit/save of data similar to model/data objects in traditional web applications. In addition, operations (controllers) and an operation service may be added to handle operation requests, perform business logic, and invoke the APIs on the model/data objects.</p> 
  <p>The SocialComponent API may be extended to provide data required by a client for a view layer or an HTTP client. </p> 
  <h3>How Pages are Rendered for Client</h3> 
  <img imageRotate="0" src="assets/chlimage_1-25.png" /> 
  <h3>Component Customization and Extension</h3> 
  <p>To customize or extend the components, you write only the overlays and extensions to your /apps directory which simplifies the process of upgrading to future releases.</p> 
  <ul> 
   <li>for Skinning 
    <ul> 
     <li>only the <a href="../../communities/using/client-customize.md#skinningcss">CSS needs editing</a></li> 
    </ul> </li> 
   <li>for Look and Feel 
    <ul> 
     <li>change the JS Template and CSS</li> 
    </ul> </li> 
   <li>for Look, Feel and UX 
    <ul> 
     <li>change the JS Template, CSS and <a href="../../communities/using/client-customize.md#extendingjavascript">extend/override Javascript</a></li> 
    </ul> </li> 
   <li>to modify the information availble to the JS Template or to the GET endpoint 
    <ul> 
     <li>extend the <a href="../../communities/using/server-customize.md#socialcomponentinterface">SocialComponent</a></li> 
    </ul> </li> 
   <li>to add custom processing during operations 
    <ul> 
     <li>write an <a href="../../communities/using/server-customize.md#operationextensionclass">OperationExtension</a></li> 
    </ul> </li> 
   <li>to add a new custom operation 
    <ul> 
     <li>create a new <a href="../../communities/using/server-customize.md#postoperationclass">Sling Post Operation</a></li> 
     <li>use existing <a href="../../communities/using/server-customize.md#operationserviceclass">OperationServices</a> as needed</li> 
     <li>add Javascript code to invoke your operation from the client side as needed</li> 
    </ul> </li> 
  </ul> 
  <draft-comment color="yellow" lastModifiedBy="jkendall" lastModifiedDate="2017-11-30T05:39:41.764-0500" type="remark"> 
   <p>Per Bertrand (in regards to Component Guide) "We need to promote the use of the AEM-wide tools for development purpose, such as Adobe Brackets for CSS and Handlebar files, and Eclipse with the AEM plugin for the server-side code. "</p> 
  </draft-comment> 
  <h2>Server-Side Framework</h2> 
  <p>The framework provides APIs to access functionality on the server and support interaction between the client and server.</p> 
  <h3>Java APIs</h3> 
  <p>The Java APIs provide abstract classes and interfaces which are easily inherited or subclassed.</p> 
  <p>The main classes are described on the <a href="../../communities/using/server-customize.md">Server-side Customization</a> page.</p> 
  <p>Visit <a href="../../communities/using/srp.md">Storage Resource Provider Overview</a> to learn about working with UGC.</p> 
  <h3>HTTP API</h3> 
  <p>The HTTP API supports ease of customization and choice of client platforms for PhoneGap apps, native apps, and other integrations and mashups. Further, the HTTP API allows a community site to run as a service without a client, such that framework components can be integrated into any webpage built on any technology.</p> 
  <h3>HTTP API - GET Requests</h3> 
  <p>For every SocialComponent, the framework provides an HTTP-based API endpoint. The endpoint is accessed by sending a GET request to the resource with a '.social.json' selector + extension. Using Sling, the request is handed to the <span class="code">DefaultSocialGetServlet</span>.</p> 
  <p>The <span class="code">DefaultSocialGetServlet</span></p> 
  <ol> 
   <li>passes the resource (resourceType) to the <span class="code">SocialComponentFactoryManager </span>and receives a SocialComponentFactory capable of selecting a <span class="code">SocialComponent </span>representing the resousrce.</li> 
   <li>invokes the factory and receives a <span class="code">SocialComponent </span>capable of handling the resource and request.</li> 
   <li>invokes the <span class="code">SocialComponent</span>, which process the request and returns a JSON representation of the results.</li> 
   <li>returns the JSON response to the client.</li> 
  </ol> 
  <p><strong><span class="code">GET Request</span></strong></p> 
  <p>A default GET servlet listens to .social.json requests to which the SocialComponent responds with customizable JSON.</p> 
  <img imageRotate="0" src="assets/chlimage_1-26.png" /> 
  <h3>HTTP API - POST Requests</h3> 
  <p>In addition to the GET (Read) operations, the framework defines an endpoint pattern to enable other operations on a component, including Create, Update and Delete. These endpoints are HTTP APIs that accept input and respond with either an HTTP status codes or with a JSON response object.</p> 
  <p>This framework endpoint pattern makes CUD operations extensible, reusable and testable.</p> 
  <p><strong><span class="code">POST Request</span></strong></p> 
  <p>There is a Sling POST :operation for every SocialComponent operation. The business logic and maintenance code for each operation are wrapped in an OperationService which is accessible through the HTTP API or from elsewhere as an OSGi service. Hooks are provided supporting pluggable operation extensions for before/after actions.</p> 
  <img imageRotate="0" src="assets/chlimage_1-27.png" /> 
  <h3>Storage Resource Provider (SRP)</h3> 
  <p>To learn about handling UGC stored in the <a href="../../communities/using/working-with-srp.md">community content store</a>, see</p> 
  <ul> 
   <li><a href="../../communities/using/srp.md">Storage Resource Provider Overview</a> - introduction and repository usage overview</li> 
   <li><a href="../../communities/using/srp-and-ugc.md">SRP and UGC Essentials</a> - SRP API utility methods and examples</li> 
   <li><a href="../../communities/using/accessing-ugc-with-srp.md">Accessing UGC with SRP</a> - coding guidelines</li> 
  </ul> 
  <h3>Server-side Customizations</h3> 
  <p>Visit <a href="../../communities/using/server-customize.md">Server-Side Customizations</a> for information on customizing the business logic and behavior of a Communities component on the server-side.</p> 
  <h2>Handlebars JS Templating Language</h2> 
  <p>One of the more noticeable changes in the new framework is the use of the <a href="http://www.handlebarsjs.com/">Handlebars JS templating language (HBS)</a>, a popular open-source technology for server-client rendering.</p> 
  <p>HBS scripts are simple, logic-less, compile on both server and client, are easy to overlay and customize, and naturally bind with the client UX because HBS supports client side rendering.</p> 
  <p>The framework provides several <a href="../../communities/using/handlebars-helpers.md">Handlebars helpers</a> that are useful when developing SocialComponents.</p> 
  <p>On the server, when Sling resolves a GET request, it identifies the script that will be used to respond to the request. If the script is an HBS template (.hbs), Sling will delegate the request to the Handlebars Engine. The Handlebars Engine will then get the SocialComponent from the appropriate SocialComponentFactory, build a context, and render the HTML.</p> 
  <h3>No Access Restriction</h3> 
  <p>Handlebars (HBS) template files (.hbs) are analogous to .jsp and .html template files, except they may be used for rendering both in the client browser and on the server. Therefore, a client browser requesting a client-side template will receive an .hbs file from the server.</p> 
  <p>This requires that all HBS templates in the sling search path (any .hbs files under /libs/ or /apps) can be fetched by any user from author or publish. </p> 
  <p>HTTP access to .hbs files may not be prohibited.</p> 
  <h3>Add or Include a Communities Component</h3> 
  <p>Most Communities components must be <i>added</i> as a Sling addressable resource. A select few of the Communities components may be <i>included</i> in a template as a non-existing resource to allow for dynamic inclusion and customization of the location at which to write user generated content (UGC).</p> 
  <p>In either case, the component's <a href="../../communities/using/clientlibs.md">required client libraries</a> must also be present.</p> 
  <p style="font-family: tahoma, arial, helvetica, sans-serif; font-size: 13px;"><strong>Add a Component</strong></p> 
  <p>Adding a component refers to the process of adding an instance of a resource (component), such as when dragged from the component browser (sidekick) onto a page in author edit mode. </p> 
  <p>The result is a JCR child node under a par node, which is Sling addressable.</p> 
  <p style="font-family: tahoma, arial, helvetica, sans-serif; font-size: 13px;"><strong>Include a Component</strong></p> 
  <p>Including a component refers to the process of adding a reference to a <a href="../../communities/using/srp.md#fornonexistingresourcesners">"non-existing" resource</a> (no JCR node) within the template, such as using a scripting language. </p> 
  <p>As of AEM 6.1, when a component is dynamically included instead of added, it is possible to edit the component's properties in author <i>design </i>mode.</p> 
  <p>Only a select few of the AEM Communities components may be dynamically included. They are :</p> 
  <ul> 
   <li><a href="../../communities/using/essentials-comments.md">comments</a></li> 
   <li><a href="../../communities/using/rating-basics.md">rating</a></li> 
   <li><a href="../../communities/using/reviews-basics.md">reviews</a></li> 
   <li><a href="../../communities/using/essentials-voting.md">voting</a></li> 
  </ul> 
  <p>The <a href="../../communities/using/components-guide.md">Community Components Guide</a> allows includable components to be toggled from being added to being included.</p> 
  <p><strong>When using Handlebars</strong> templating language, the non-existing resource is included using the <a href="../../communities/using/handlebars-helpers.md#include">include helper</a> by specifying its resourceType :</p> 
  <p style="margin-left: 40px;"><span class="code">{{include this.id path="comments" resourceType="social/commons/components/hbs/comments"}}</span></p> 
  <p><strong>When using JSP</strong>, a resource is included using the tag <a href="../../sites/developing/using/taglib.md#main-pars-title-6">cq:include</a> :</p> 
  <p style="margin-left: 40px;"><code class="code">&amp;lt;cq:include path="votes" 
    <discoiqbr /> resourceType="social/tally/components/voting" /&amp;gt;
    <discoiqbr /> </code></p> 
  <note> 
   <p>To add a component to a page dynamically, instead of adding or including it in a template, see <a href="../../communities/using/sideloading.md">Component Sideloading</a>.</p> 
  </note> 
  <draft-comment color="yellow" lastModifiedBy="alvawb" lastModifiedDate="2017-11-30T05:39:42.067-0500" type="remark"> 
   <p>"HTL" is changing its name...</p> 
   <p> </p> 
   <p><strong>When using HTL </strong>templating language, a JS script, the non-existing resource is included using the data-sly-resource block statement :</p> 
   <p>&amp;lt;div class="comments" data-sly-resource="${ 'comments' <br /> @resourceType='social/common/components/hbs/comments'}"<br /> data-sly-unwrap&amp;gt;<br /> &amp;lt;/div&amp;gt;</p> 
  </draft-comment> 
  <h3>Handlebars Helpers</h3> 
  <p>See <a href="../../communities/using/handlebars-helpers.md">SCF Handlebars Helpers</a> for a list and description of custom helpers available in SCF.</p> 
  <h2>Client-Side Framework</h2> 
  <h3>Model-View Javascript Framework</h3> 
  <p>The framework includes an extension of <a href="http://www.backbonejs.org/">Backbone.js</a>, a model-view JavaScript framework, to facilitate development of rich, interactive components. The object-oriented nature supports an extensible/reusable framework. Communitication between client and server is simplified by means of the HTTP API.</p> 
  <p>The framework leverages server side Handlebars templates to render the components for the client. The models are based on the JSON responses generated by the HTTP API. The views bind themselves to HTML generated by the Handlebars templates and provide interactivity.</p> 
  <h3>CSS Conventions</h3> 
  <p>The following are recommended conventions for defining and using CSS classes:</p> 
  <ul> 
   <li>use clearly namespaced CSS class selector names and avoid generic names such as 'heading', 'image', etc.</li> 
   <li>define specific class selector styles so the CSS stylesheets work well with other elements and styles on the page. For example:<br /> <span class="code"> .social-forum .topic-list .li { color: blue; }</span></li> 
   <li>keep CSS classes for styling separate from CSS classes for UX driven by JavaScript</li> 
  </ul> 
  <h3>Client-Side Customizations</h3> 
  <p>For customizing the appearance and behavior of a Communities component on the client-side, reference <a href="../../communities/using/client-customize.md">Client-Side Customizations</a>, which includes information on :</p> 
  <ul> 
   <li><a href="../../communities/using/client-customize.md#overlays">Overlays</a></li> 
   <li><a href="../../communities/using/client-customize.md#extensions">Extensions</a></li> 
   <li><a href="../../communities/using/client-customize.md#htmlmarkup">HTML Markup</a></li> 
   <li><a href="../../communities/using/client-customize.md#skinningcss">Skinning CSS</a></li> 
   <li><a href="../../communities/using/client-customize.md#extendingjavascript">Extending Javascript</a><strong><br /> </strong></li> 
   <li><a href="../../communities/using/client-customize.md#clientlibsforscf">Clientlibs for SCF</a></li> 
  </ul> 
  <h2>Feature and Component Essentials</h2> 
  <p>Essential information for developers is described in the <a href="../../communities/using/essentials.md">Feature and Component Essentials</a> section.</p> 
  <p>Additional developer information may be found in the <a href="../../communities/using/code-guide.md">Coding Guidelines</a> section.</p> 
  <h2>Troubleshooting</h2> 
  <p>Common concerns and known issues are described in the <a href="../../communities/using/troubleshooting.md">Troubleshooting</a> section.<br /> </p> 
 </body> 
</html>